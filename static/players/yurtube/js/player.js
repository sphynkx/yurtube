(()=>{function ot(t){(!isFinite(t)||t<0)&&(t=0),t=Math.floor(t);let r=Math.floor(t/3600),l=Math.floor(t%3600/60),o=t%60,y=h=>(h<10?"0":"")+h;return r>0?`${r}:${y(l)}:${y(o)}`:`${l}:${y(o)}`}function F(t,r,l){return t<r?r:t>l?l:t}function At(t){let r=parseFloat(String(t||"").trim());return isFinite(r)?r:0}function Pt(t,r){let l=0,o=!1,y=null;return function(...h){y=h;let M=Date.now();!l||M-l>=r?(l=M,t.apply(null,y)):o||(o=!0,setTimeout(()=>{o=!1,t.apply(null,y)},r-(M-l)))}}function lt(t,r,l){let o=t.getAttribute(r);if(!o)return l;try{return JSON.parse(o)}catch(y){return l}}function ut(t){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).catch(function(){});else{let r=document.createElement("textarea");r.value=t,r.style.position="fixed",r.style.left="-9999px",document.body.appendChild(r),r.select();try{document.execCommand("copy")}catch(l){}document.body.removeChild(r)}}var Ct="yrp:";function Tt(){try{return localStorage.setItem("__t","1"),localStorage.removeItem("__t"),!0}catch(t){return!1}}function B(t,r){if(!Tt())return r;try{let l=localStorage.getItem(Ct+t);return l?JSON.parse(l):r}catch(l){return r}}function H(t,r){if(Tt())try{localStorage.setItem(Ct+t,JSON.stringify(r))}catch(l){}}var Mt="/static/img/fallback_video_notfound.gif";function qt(t,r,l){let o=!1,y=null;function h(n){if(!o){o=!0,l&&l("fallback: applying",n);try{r?r.setAttribute("src",Mt):t.src=Mt,t.load()}catch(R){}}}function M(){y&&(clearTimeout(y),y=null)}t.addEventListener("loadstart",function(){M(),y=setTimeout(function(){!o&&t.readyState<1&&h("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(n){t.addEventListener(n,M)}),t.addEventListener("error",function(){o||h("error-event")}),setTimeout(function(){let n=r?r.getAttribute("src")||"":t.currentSrc||t.src||"";!o&&!n&&h("empty-src")},0)}var nt=Object.create(null);function Nt(t){let r=String(t).match(/url\(["']?([^"')]+)["']?\)/i);return r&&r[1]?r[1]:null}async function Ut(t){if(!t)return!1;if(nt[t]!==void 0)return nt[t];try{let r=await fetch(t,{method:"GET",credentials:"same-origin",cache:"no-store"});return nt[t]=!!r.ok,nt[t]}catch(r){return nt[t]=!1,!1}}async function ht({root:t,button:r,varOn:l,varOff:o,isOn:y,fallbackEmoji:h}){if(r&&r.dataset&&r.dataset.forceEmoji==="1"){r.textContent=h,r.style.webkitMaskImage="",r.style.maskImage="",r.style.backgroundColor="transparent",r.style.color="var(--yrp-icon-color)",r.style.textIndent="0",r.dataset.maskApplied="0";return}let M=y?l:o,R=getComputedStyle(t).getPropertyValue(M)||t.style.getPropertyValue(M)||"",P=Nt(R);if(!P){r.style.webkitMaskImage="",r.style.maskImage="",r.textContent=h,r.style.backgroundColor="transparent",r.style.color="var(--yrp-icon-color)",r.style.textIndent="0",r.dataset.maskApplied="0";return}if(await Ut(P)){r.textContent="";let v=`var(${M})`;r.style.webkitMaskImage=v,r.style.maskImage=v,r.style.backgroundColor="var(--yrp-icon-color)",r.style.color="",r.style.textIndent="-9999px",r.dataset.maskApplied="1"}else r.style.webkitMaskImage="",r.style.maskImage="",r.textContent=h,r.style.backgroundColor="transparent",r.style.color="var(--yrp-icon-color)",r.style.textIndent="0",r.dataset.maskApplied="0"}function It({root:t,video:r,btnPrev:l,btnNext:o,leftGrp:y,vol:h,DEBUG:M}){let n=new URL(window.location.href),R=n.searchParams.get("p"),P=n.searchParams.get("v")||t.getAttribute("data-video-id")||"";if(R)l&&(l.style.display=""),o&&(o.style.display="");else{l&&(l.style.display="none"),o&&(o.style.display="none");let s=t.querySelector(".yrp-shuffle"),b=t.querySelector(".yrp-cycle");s&&(s.style.display="none"),b&&(b.style.display="none");return}function $(){let s=[],b=document.querySelector("#upnext-block .rb-list"),S=document.querySelector("#panel-upnext .upnext-list"),L=[];return b?L=b.querySelectorAll("a.rb-item[href*='/watch']"):S&&(L=S.querySelectorAll("a.rb-item[href*='/watch']")),L.forEach(c=>{let E=(c.getAttribute("href")||"").match(/[?&]v=([^&]+)/);E&&E[1]&&s.push(decodeURIComponent(E[1]))}),s}let v=$();if(!v||v.length===0)return;let q=v.indexOf(P);q<0&&(q=0);let K=s=>`pl:${R}:${s}`,k=B(K("order"),"direct")==="shuffle"?"shuffle":"direct",O=(()=>{let s=B(K("cycle"),"0");return s===!0||s==="1"})();function Y(s){k=s==="shuffle"?"shuffle":"direct",H(K("order"),k),I()}function G(s){O=!!s,H(K("cycle"),O?"1":"0"),V()}function U(s){if(v.length<=1)return s;let b=0,S=s;for(;b<6&&S===s;)S=Math.floor(Math.random()*v.length),b++;return S===s&&(S=(s+1)%v.length),S}function w(){if(k==="shuffle")return U(q);let s=q+1;return s>=v.length?O?0:-1:s}function W(){if(k==="shuffle")return U(q);let s=q-1;return s<0?O?v.length-1:-1:s}function x(s){s=Math.max(0,Math.min(v.length-1,s));let b=v[s];if(!b)return;try{let L=B("resume",{});L&&L[b]&&(delete L[b],H("resume",L))}catch(L){}let S=new URL(window.location.href);S.searchParams.set("v",b),S.searchParams.set("p",R),window.location.href=S.toString()}t.addEventListener("yrp-prev",()=>{let s=W();s>=0&&x(s)}),t.addEventListener("yrp-next",()=>{let s=w();s>=0&&x(s)});let g=t.querySelector(".yrp-shuffle"),m=t.querySelector(".yrp-cycle");g||(g=document.createElement("button"),g.type="button",g.className="yrp-btn yrp-shuffle",g.title="Shuffle playlist",g.setAttribute("aria-label","Shuffle playlist"),Object.assign(g.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginLeft:"6px",marginRight:"2px"})),m||(m=document.createElement("button"),m.type="button",m.className="yrp-btn yrp-cycle",m.title="Cycle playlist",m.setAttribute("aria-label","Cycle playlist"),Object.assign(m.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginRight:"8px"})),g.dataset.forceEmoji="0",m.dataset.forceEmoji="0";async function I(){g.setAttribute("aria-pressed",k==="shuffle"?"true":"false"),await ht({root:t,button:g,varOn:"--icon-shuffle-on",varOff:"--icon-shuffle-off",isOn:k==="shuffle",fallbackEmoji:"\u{1F500}"}),g.style.opacity=k==="shuffle"?"1":"0.55",g.style.display=""}async function V(){m.setAttribute("aria-pressed",O?"true":"false"),await ht({root:t,button:m,varOn:"--icon-cycle-on",varOff:"--icon-cycle-off",isOn:!!O,fallbackEmoji:"\u{1F501}"}),m.style.opacity=O?"1":"0.55",m.style.display=""}I(),V(),g.addEventListener("click",()=>{Y(k==="shuffle"?"direct":"shuffle")}),m.addEventListener("click",()=>{G(!O)});try{let s=y||o&&o.parentNode||t;h&&s?(s.insertBefore(g,h),s.insertBefore(m,h)):o&&s?(s.insertBefore(g,o.nextSibling),s.insertBefore(m,g.nextSibling)):(s.appendChild(g),s.appendChild(m))}catch(s){}r.addEventListener("ended",function(){let s=w();s>=0&&x(s)}),document.addEventListener("keydown",function(s){let b=s.target,S=b&&b.tagName?b.tagName.toUpperCase():"";if(b&&(b.isContentEditable||S==="INPUT"||S==="TEXTAREA")||s.ctrlKey||s.metaKey||s.altKey)return;let L=s.code||"";if(L==="PageUp"){s.preventDefault();let c=W();c>=0&&x(c)}else if(L==="PageDown"){s.preventDefault();let c=w();c>=0&&x(c)}})}var $t={};function Vt(){try{let r=new URL($t.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(r)return r[1]}catch(t){}try{let r=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(r)return r[1]}catch(t){}try{let t=document.querySelector(".player-host[data-player]");if(t){let r=String(t.getAttribute("data-player")||"").trim();if(r)return r}}catch(t){}return"yurtube"}function gt(){let t=Vt(),r=`/static/players/${t}`,l=document.querySelectorAll(`.player-host[data-player="${t}"]`);l.length&&fetch(r+"/templates/player.html",{credentials:"same-origin"}).then(o=>o.text()).then(function(o){for(let y=0;y<l.length;y++)Xt(l[y],o,r)}).catch(function(){})}function Rt(t,...r){if(t)try{}catch(l){}}function Xt(t,r,l){t.innerHTML=r;let o=t.querySelector(".yrp-container"),y=o.querySelector(".yrp-video-wrap"),h=o.querySelector(".yrp-video"),M=h.querySelector("source"),n=t.getAttribute("data-video-src")||"",R=t.getAttribute("data-poster-url")||"",P=t.getAttribute("data-video-id")||"",$=lt(t,"data-subtitles",[]),v=lt(t,"data-options",{}),q=t.getAttribute("data-sprites-vtt")||"",K=t.getAttribute("data-caption-vtt")||"",k=t.getAttribute("data-caption-lang")||"",O=/\byrpdebug=1\b/i.test(location.search)||!!(v&&v.debug),Y=(...c)=>Rt(O,...c);if(M&&M.setAttribute("src",n),R&&h.setAttribute("poster",R),v.autoplay&&h.setAttribute("autoplay",""),v.muted&&h.setAttribute("muted",""),v.loop&&h.setAttribute("loop",""),P&&o.setAttribute("data-video-id",P),q&&o.setAttribute("data-sprites-vtt",q),h.setAttribute("playsinline",""),Array.isArray($)&&$.forEach(function(c){if(!c||!c.src)return;let f=document.createElement("track");f.setAttribute("kind","captions"),c.srclang&&f.setAttribute("srclang",String(c.srclang)),c.label&&f.setAttribute("label",String(c.label)),f.setAttribute("src",String(c.src)),c.default&&f.setAttribute("default",""),h.appendChild(f)}),K)try{let c=document.createElement("track");c.setAttribute("kind","captions"),c.setAttribute("src",K),c.setAttribute("srclang",k||"auto"),c.setAttribute("label",k||"Original"),c.setAttribute("default",""),h.appendChild(c)}catch(c){Y("caption append failed",c)}try{h.load(),Y("video.load()",{src:n})}catch(c){Y("video.load() error",c)}qt(h,M,Y);let G=l+"/img/buttons";[["--icon-play","play.svg"],["--icon-pause","pause.svg"],["--icon-prev","prev.svg"],["--icon-next","next.svg"],["--icon-vol","volume.svg"],["--icon-mute","mute.svg"],["--icon-cc","cc.svg"],["--icon-mini","mini.svg"],["--icon-settings","settings.svg"],["--icon-theater","theater.svg"],["--icon-full","full.svg"],["--icon-autoplay-on","autoplay-on.svg"],["--icon-autoplay-off","autoplay-off.svg"],["--icon-shuffle-on","shuffle-on.svg"],["--icon-shuffle-off","shuffle-off.svg"],["--icon-cycle-on","cycle-on.svg"],["--icon-cycle-off","cycle-off.svg"]].forEach(([c,f])=>{o.style.setProperty(c,`url("${G}/${f}")`)}),o.classList.add("yrp-icons-ready");let U=o.querySelector(".yrp-center-logo");U&&U.setAttribute("src",l+"/img/logo.png");let w=document.createElement("div");w.className="yrp-captions-layer",Object.assign(w.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let W=document.createElement("div");W.className="yrp-captions-text",Object.assign(W.style,{display:"inline-block",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:"16px",lineHeight:"1.35",padding:"6px 10px",borderRadius:"6px",maxWidth:"80%",minWidth:"220px",boxShadow:"0 2px 6px rgba(0,0,0,0.35)",whiteSpace:"pre-wrap",wordBreak:"break-word"}),w.appendChild(W),y&&(y.style.position="relative",y.appendChild(w));let x={active:!1,startX:0,startY:0,startLeftPct:50,startTopPct:80},g=!1;function m(){return y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0}}function I(c){let f=m(),E=Math.min(c,f.width-c)*2,D=12,C=220;W.style.maxWidth=Math.max(C,Math.floor(E-D))+"px"}function V(c){let f=c.touches?c.touches[0]:c,E=m(),D=w.getBoundingClientRect();x.startLeftPct=(D.left+D.width/2-E.left)/E.width*100,x.startTopPct=(D.top+D.height/2-E.top)/E.height*100,x.active=!0,x.startX=f.clientX,x.startY=f.clientY,c.preventDefault(),c.stopPropagation()}function s(c){if(!x.active)return;let f=c.touches?c.touches[0]:c,E=f.clientX-x.startX,D=f.clientY-x.startY,C=m(),_=x.startLeftPct/100*C.width+E,j=x.startTopPct/100*C.height+D,Z=w.getBoundingClientRect(),X=Z.width/2,J=Z.height/2;_=F(_,X,C.width-X),j=F(j,J,C.height-J),w.style.left=_/C.width*100+"%",w.style.top=j/C.height*100+"%",w.style.transform="translate(-50%,-50%)",g=!0,I(_),c.preventDefault(),c.stopPropagation()}function b(c){x.active&&(x.active=!1,c.preventDefault(),c.stopPropagation())}w.addEventListener("mousedown",V),w.addEventListener("touchstart",V,{passive:!1}),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("mouseup",b),document.addEventListener("touchend",b),w.addEventListener("click",function(c){c.stopPropagation()});function S(){if(g)return;let c=!o.classList.contains("autohide");w.style.top=c?"78%":"82%",w.style.left="50%",w.style.transform="translate(-50%,-50%)",I(m().width/2)}let L=0;typeof v.start=="number"&&v.start>0&&(L=Math.max(0,v.start));try{let f=new URL(window.location.href).searchParams.get("t");if(f!=null){let E=parseInt(String(f).trim(),10);isFinite(E)&&E>0&&(L=Math.max(L,E))}}catch(c){}Ht(o,L,O,{overlay:w,textBox:W,autoAdjust:S},L,l)}function Ht(t,r,l,o,y,h){let M=(...e)=>Rt(l,...e),n=t.querySelector(".yrp-video"),R=t.querySelector(".yrp-center-play"),P=t.querySelector(".yrp-play"),$=t.querySelector(".yrp-prev"),v=t.querySelector(".yrp-next"),q=t.querySelector(".yrp-vol-btn"),K=t.querySelector(".yrp-volume"),k=t.querySelector(".yrp-vol-slider"),O=t.querySelector(".yrp-time-current"),Y=t.querySelector(".yrp-time-total"),G=t.querySelector(".yrp-progress"),U=t.querySelector(".yrp-progress-rail"),w=t.querySelector(".yrp-progress-buffer"),W=t.querySelector(".yrp-progress-played"),x=t.querySelector(".yrp-progress-handle"),g=t.querySelector(".yrp-progress-tooltip"),m=t.querySelector(".yrp-settings"),I=t.querySelector(".yrp-menu"),V=t.querySelector(".yrp-theater"),s=t.querySelector(".yrp-fullscreen"),b=t.querySelector(".yrp-pip"),S=t.querySelector(".yrp-left"),L=t.querySelector(".yrp-right"),c=t.querySelector(".yrp-autoplay"),f=t.querySelector(".yrp-subtitles"),E=null,D=!1,C=0,_=!1,j=!1,Z=!!B("autoplay",!1),X=!0,J=0;function dt(){try{return n.textTracks?Array.prototype.filter.call(n.textTracks,function(e){return e.kind==="subtitles"||e.kind==="captions"}):[]}catch(e){return[]}}function vt(){return dt().length>0}function Ot(){let e=dt();return e.length===0?null:((J<0||J>=e.length)&&(J=0),e[J])}function bt(){dt().forEach(function(i,p){i.mode=p===J&&X?"hidden":"disabled"})}function Bt(){let e=Ot();if(!e||!e.cues)return"";let i=n.currentTime||0;for(let p=0;p<e.cues.length;p++){let a=e.cues[p];if(i>=a.startTime&&i<=a.endTime)return(a.text||"").replace(/\r/g,"")}return""}function ft(){!o||!o.textBox||(o.textBox.textContent=X?Bt():"")}function wt(){if(!c)return;let e=Z;c.setAttribute("aria-pressed",e?"true":"false"),c.title=e?"Autoplay on (A)":"Autoplay off (A)",c.textContent="";let i=e?"var(--icon-autoplay-on)":"var(--icon-autoplay-off)";Object.assign(c.style,{backgroundColor:"currentColor",webkitMaskImage:i,maskImage:i,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px",opacity:e?"1":"0.6"})}function xt(){if(!f)return;let e=vt();f.disabled=!e,f.style.visibility=e?"visible":"hidden",f.classList.toggle("no-tracks",!e),f.classList.toggle("has-tracks",e),f.classList.toggle("active",e&&X),f.classList.toggle("disabled-track",e&&!X),f.setAttribute("aria-pressed",X?"true":"false")}function pt(e){E&&clearTimeout(E),E=setTimeout(function(){t.classList.add("autohide"),o&&o.autoAdjust&&o.autoAdjust()},Math.max(0,e||1200))}function N(){t.classList.remove("autohide"),o&&o.autoAdjust&&o.autoAdjust(),pt(2e3)}function St(){try{C=isFinite(n.duration)?n.duration:0}catch(e){C=0}Y&&(Y.textContent=ot(C)),O&&(O.textContent=ot(n.currentTime||0))}function yt(){let e=C||0,i=n.currentTime||0,p=e>0?F(i/e,0,1):0;W&&(W.style.width=(p*100).toFixed(3)+"%"),x&&(x.style.left=(p*100).toFixed(3)+"%");let a=0;if(n.buffered&&n.buffered.length>0)try{a=n.buffered.end(n.buffered.length-1)}catch(A){a=0}let u=e>0?F(a/e,0,1):0;w&&(w.style.width=(u*100).toFixed(3)+"%")}function rt(){n.paused?n.play().catch(()=>{}):n.pause()}function Lt(){n.muted=!n.muted,tt()}function tt(){let e=n.muted?0:n.volume,i=n.muted||e===0?"Mute":"Vol";q&&(q.textContent=i,q.classList.toggle("icon-mute",i==="Mute"),q.classList.toggle("icon-vol",i!=="Mute"))}function Et(e){if(!U)return;let i=U.getBoundingClientRect(),p=F(e-i.left,0,i.width),a=i.width>0?p/i.width:0;n.currentTime=(C||0)*a}function Dt(e){if(!g||!U)return;let i=U.getBoundingClientRect(),p=F(e-i.left,0,i.width),a=i.width>0?p/i.width:0,u=(C||0)*a;g.textContent=ot(u),g.style.left=(a*100).toFixed(3)+"%",g.hidden=!1}(function(){let i=t.getAttribute("data-video-id")||"";if(!i)return;if(y>0){try{let d=B("resume",{});d&&d[i]&&(delete d[i],H("resume",d))}catch(d){}return}let p=B("resume",{}),a=p[i],u=Date.now();function A(d){let T=isFinite(n.duration)?n.duration:0;if(T&&d>10&&d<T-5)try{n.currentTime=d}catch(z){}}if(a&&typeof a.t=="number"&&u-(a.ts||0)<180*24*3600*1e3){let d=Math.max(0,a.t|0);isFinite(n.duration)&&n.duration>0?A(d):n.addEventListener("loadedmetadata",function T(){n.removeEventListener("loadedmetadata",T),A(d)})}let Q=Pt(function(){let d=isFinite(n.duration)?n.duration:0,T=Math.max(0,Math.floor(n.currentTime||0)),z=B("resume",{});z[i]={t:T,ts:Date.now(),d};let st=Object.keys(z);if(st.length>200){st.sort((et,jt)=>(z[et].ts||0)-(z[jt].ts||0));for(let et=0;et<st.length-200;et++)delete z[st[et]]}H("resume",z)},3e3);n.addEventListener("timeupdate",function(){!n.paused&&!n.seeking&&Q()}),n.addEventListener("ended",function(){let d=B("resume",{});delete d[i],H("resume",d)})})(),function(){function i(a){t.classList.toggle("yrp-theater",a);try{if(typeof window.setTheater=="function")window.setTheater(a);else{let u=t.closest(".watch-layout")||document.querySelector(".watch-layout");u&&(u.classList.toggle("theater-mode",a),typeof window.relocateUpNext=="function"&&window.relocateUpNext())}}catch(u){}a?(t.style.maxWidth="",t.style.minWidth="",t.style.width=""):it()}!!B("theater",!1)&&i(!0),V&&V.addEventListener("click",function(){let a=!t.classList.contains("yrp-theater");i(a),H("theater",a),N()})}(),n.addEventListener("loadedmetadata",function(){if(r>0)try{n.currentTime=Math.min(r,Math.floor(n.duration||r))}catch(a){}setTimeout(()=>it(),0),St(),yt(),tt(),mt(),bt(),ft(),xt(),wt(),pt(1200);let e=t.querySelector(".yrp-video-wrap").getBoundingClientRect(),i=e.width/2,p=t.querySelector(".yrp-captions-text");if(p){let a=Math.min(i,e.width-i)*2,u=12,A=220;p.style.maxWidth=Math.max(A,Math.floor(a-u))+"px"}});function it(){if(t.classList.contains("yrp-theater"))return;let e=getComputedStyle(n),i=At(e.getPropertyValue("max-height"))||n.clientHeight||0,p=n.videoWidth||16,a=n.videoHeight||9,u=a>0?p/a:16/9,A=Math.min(i||n.clientHeight||0,window.innerHeight*.9);if(!A||!isFinite(A))return;let Q=Math.floor(A*u),d=Math.floor(window.innerWidth*.95),T=Ft(),z=Math.max(T,Math.min(Q,d));t.style.maxWidth=z+"px",t.style.minWidth=T+"px",t.style.width="100%"}function Ft(){let e=S?S.getBoundingClientRect().width:0,i=L?L.getBoundingClientRect().width:0,a=Math.ceil(e+i+24);return!isFinite(a)||a<=0?480:a}(function(){let i=t.closest(".player-host")||t,p=lt(i,"data-options",null);function a(){return p&&p.autoplay===!0?!0:!!B("autoplay",!1)}if(!a()){setTimeout(()=>{pt(1e3)},0);return}function u(){let d=null;try{d=n.play()}catch(T){d=null}d&&typeof d.then=="function"?d.then(()=>{}).catch(function(){if(!n.muted){j=!0,n.muted=!0,n.setAttribute("muted","");try{n.play().catch(()=>{})}catch(T){}}}):setTimeout(function(){if(n.paused){j=!0,n.muted=!0,n.setAttribute("muted","");try{n.play().catch(()=>{})}catch(T){}}},0)}let A=!1;function Q(){A||(A=!0,u())}n.readyState>=1&&Q(),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(d){let T=function(){n.removeEventListener(d,T),Q()};n.addEventListener(d,T)}),setTimeout(function(){if(n.paused){j=!0,n.muted=!0,n.setAttribute("muted","");try{n.play().catch(()=>{})}catch(d){}}},1200)})(),window.addEventListener("resize",it),n.addEventListener("timeupdate",function(){St(),yt(),ft()}),n.addEventListener("progress",yt),n.addEventListener("play",function(){t.classList.add("playing"),mt(),N()}),n.addEventListener("pause",function(){t.classList.remove("playing"),mt(),N()});function Kt(){!document.pictureInPictureEnabled||!n.requestPictureInPicture||n.disablePictureInPicture||(document.pictureInPictureElement===n?document.exitPictureInPicture().catch(()=>{}):n.requestPictureInPicture().catch(()=>{}))}n.addEventListener("click",rt),R&&R.addEventListener("click",rt),P&&P.addEventListener("click",rt),$&&$.addEventListener("click",function(){t.dispatchEvent(new CustomEvent("yrp-prev",{bubbles:!0}))}),v&&v.addEventListener("click",function(){t.dispatchEvent(new CustomEvent("yrp-next",{bubbles:!0}))}),It({root:t,video:n,btnPrev:$,btnNext:v,leftGrp:S,vol:K,DEBUG:l}),q&&q.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),_=!0,j=!1,Lt(),N(),t.classList.add("vol-open"),setTimeout(function(){t.classList.remove("vol-open")},1200)}),k&&(k.addEventListener("input",function(){_=!0,j=!1;let e=parseFloat(k.value||"1");isFinite(e)||(e=1),e=F(e,0,1),n.volume=e,e>0&&(n.muted=!1),tt()}),k.addEventListener("wheel",function(e){e.preventDefault(),_=!0,j=!1;let i=.05,p=n.muted?0:n.volume,a=F(p+(e.deltaY<0?i:-i),0,1);n.volume=a,a>0&&(n.muted=!1),k.value=String(a),tt(),N()},{passive:!1})),K&&K.addEventListener("wheel",function(e){e.preventDefault(),_=!0,j=!1;let i=.05,p=n.muted?0:n.volume,a=F(p+(e.deltaY<0?i:-i),0,1);n.volume=a,a>0&&(n.muted=!1),k&&(k.value=String(a)),tt(),N()},{passive:!1}),G&&(G.addEventListener("mousedown",function(e){D=!0,at(),Et(e.clientX)}),window.addEventListener("mousemove",function(e){D&&Et(e.clientX)}),window.addEventListener("mouseup",function(){D=!1}),G.addEventListener("mousemove",function(e){Dt(e.clientX)}),G.addEventListener("mouseleave",function(){g&&(g.hidden=!0)})),m&&I&&(m.addEventListener("click",function(e){!I.hidden?(I.hidden=!0,m.setAttribute("aria-expanded","false")):(at(),I.hidden=!1,m.setAttribute("aria-expanded","true")),e.stopPropagation(),t.classList.add("vol-open"),N()}),document.addEventListener("click",function(e){!I.hidden&&!I.contains(e.target)&&e.target!==m&&(I.hidden=!0)})),s&&s.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(()=>{}):t.requestFullscreen&&t.requestFullscreen().catch(()=>{})}),b&&b.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),Kt()}),c&&c.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();let i=!B("autoplay",!1);H("autoplay",i),Z=i,wt()}),f&&f.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),vt()&&(X=!X,bt(),ft(),xt())});function at(){I&&(I.hidden=!0,m&&m.setAttribute("aria-expanded","false"));let e=t.querySelector(".yrp-context");e&&(e.hidden=!0),t.classList.remove("vol-open")}t.addEventListener("contextmenu",function(e){e.preventDefault(),at();let i=t.querySelector(".yrp-context");if(!i)return;let p=t.getBoundingClientRect();i.style.left=e.clientX-p.left+"px",i.style.top=e.clientY-p.top+"px",i.hidden=!1,i.onclick=function(a){let u=a.target&&a.target.getAttribute("data-action"),A=Math.floor(n.currentTime||0),Q=t.getAttribute("data-video-id")||"";if(u==="pip"){if(!document.pictureInPictureEnabled||!n.requestPictureInPicture||n.disablePictureInPicture)return;document.pictureInPictureElement===n?document.exitPictureInPicture().catch(()=>{}):n.requestPictureInPicture().catch(()=>{})}else if(u==="copy-url"){let d=new URL(window.location.href);d.searchParams.delete("t"),ut(d.toString())}else if(u==="copy-url-time"){let d=new URL(window.location.href);d.searchParams.set("t",String(A)),ut(d.toString())}else if(u==="copy-embed"){let T=`<iframe width="560" height="315" src="${(window.location.origin||"")+"/embed?v="+encodeURIComponent(Q||"")}" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>`;ut(T)}i.hidden=!0},document.addEventListener("click",function(a){let u=t.querySelector(".yrp-context");u&&!u.hidden&&!u.contains(a.target)&&(u.hidden=!0)},{once:!0}),document.addEventListener("keydown",function a(u){if(u.code==="Escape"||(u.key||"").toLowerCase()==="escape"){let A=t.querySelector(".yrp-context");A&&!A.hidden&&(A.hidden=!0),document.removeEventListener("keydown",a)}})});function ct(e){let i=t.getBoundingClientRect();e.clientX>=i.left&&e.clientX<=i.right&&e.clientY>=i.top&&e.clientY<=i.bottom&&N()}document.addEventListener("mousemove",ct,{passive:!0}),document.addEventListener("pointermove",ct,{passive:!0}),["mousemove","pointermove","mouseenter","mouseover","touchstart"].forEach(function(e){t.addEventListener(e,function(){try{t.focus()}catch(i){}N()},{passive:!0}),n&&n.addEventListener(e,N,{passive:!0}),R&&R.addEventListener(e,N,{passive:!0})});function kt(){try{document.fullscreenElement===t&&(document.addEventListener("mousemove",ct,{passive:!0}),document.addEventListener("pointermove",ct,{passive:!0}))}catch(e){}}document.addEventListener("fullscreenchange",kt),kt();function mt(){if(!P)return;let e=!n.paused;P.classList.toggle("icon-play",!e),P.classList.toggle("icon-pause",e),P.setAttribute("aria-label",e?"Pause (Space, K)":"Play (Space, K)"),P.title=e?"Pause (Space, K)":"Play (Space, K)",P.textContent="";let i=e?"var(--icon-pause)":"var(--icon-play)";Object.assign(P.style,{backgroundColor:"currentColor",webkitMaskImage:i,maskImage:i,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px"})}function Wt(e){let i=e.target,p=i&&i.tagName?i.tagName.toUpperCase():"";if(i&&(i.isContentEditable||p==="INPUT"||p==="TEXTAREA")||e.ctrlKey||e.metaKey||e.altKey)return;let a=e.code,u=(e.key||"").toLowerCase();if(a==="Space"||a==="Enter"||a==="NumpadEnter"||a==="MediaPlayPause"||a==="KeyK"||u==="k"){rt(),e.preventDefault();return}if(a==="ArrowLeft"||u==="arrowleft"||a==="KeyJ"||u==="j"){n.currentTime=F((n.currentTime||0)-5,0,C||0),e.preventDefault();return}if(a==="ArrowRight"||u==="arrowright"||a==="KeyL"||u==="l"){n.currentTime=F((n.currentTime||0)+5,0,C||0),e.preventDefault();return}if(a==="KeyM"||u==="m"){Lt(),e.preventDefault();return}if(a==="KeyF"||u==="f"){document.fullscreenElement?document.exitFullscreen().catch(()=>{}):t.requestFullscreen&&t.requestFullscreen().catch(()=>{}),e.preventDefault();return}if(a==="KeyT"||u==="t"){V&&V.click(),e.preventDefault();return}if(a==="KeyA"||u==="a"){c&&c.click(),e.preventDefault();return}if(a==="KeyC"||u==="c"){f&&!f.disabled&&f.click(),e.preventDefault();return}if(a==="Escape"||u==="escape"){at();return}}document.addEventListener("keydown",Wt),setTimeout(it,200)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",gt):gt();})();
