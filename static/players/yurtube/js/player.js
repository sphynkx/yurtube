(()=>{function Ht(t){(!isFinite(t)||t<0)&&(t=0),t=Math.floor(t);let n=Math.floor(t/3600),s=Math.floor(t%3600/60),c=t%60,l=u=>(u<10?"0":"")+u;return n>0?`${n}:${l(s)}:${l(c)}`:`${s}:${l(c)}`}function U(t,n,s){return t<n?n:t>s?s:t}function ge(t){let n=parseFloat(String(t||"").trim());return isFinite(n)?n:0}function be(t,n){let s=0,c=!1,l=null;return function(...u){l=u;let y=Date.now();!s||y-s>=n?(s=y,t.apply(null,l)):c||(c=!0,setTimeout(()=>{c=!1,t.apply(null,l)},n-(y-s)))}}function ft(t,n,s){let c=t.getAttribute(n);if(!c)return s;try{return JSON.parse(c)}catch(l){return s}}function Bt(t){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).catch(function(){});else{let n=document.createElement("textarea");n.value=t,n.style.position="fixed",n.style.left="-9999px",document.body.appendChild(n),n.select();try{document.execCommand("copy")}catch(s){}document.body.removeChild(n)}}var ve="yrp:";function we(){try{return localStorage.setItem("__t","1"),localStorage.removeItem("__t"),!0}catch(t){return!1}}function $(t,n){if(!we())return n;try{let s=localStorage.getItem(ve+t);return s?JSON.parse(s):n}catch(s){return n}}function Z(t,n){if(we())try{localStorage.setItem(ve+t,JSON.stringify(n))}catch(s){}}var xe="/static/img/fallback_video_notfound.gif";function Se(t,n,s){let c=!1,l=null;function u(g){if(!c){c=!0,s&&s("fallback: applying",g);try{n?n.setAttribute("src",xe):t.src=xe,t.load()}catch(i){}}}function y(){l&&(clearTimeout(l),l=null)}t.addEventListener("loadstart",function(){y(),l=setTimeout(function(){!c&&t.readyState<1&&u("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(g){t.addEventListener(g,y)}),t.addEventListener("error",function(){c||u("error-event")}),setTimeout(function(){let g=n?n.getAttribute("src")||"":t.currentSrc||t.src||"";!c&&!g&&u("empty-src")},0)}var xt=Object.create(null);function Ue(t){let n=String(t).match(/url\(["']?([^"')]+)["']?\)/i);return n&&n[1]?n[1]:null}async function Ke(t){if(!t)return!1;if(xt[t]!==void 0)return xt[t];try{let n=await fetch(t,{method:"GET",credentials:"same-origin",cache:"no-store"});return xt[t]=!!n.ok,xt[t]}catch(n){return xt[t]=!1,!1}}async function Yt({root:t,button:n,varOn:s,varOff:c,isOn:l,fallbackEmoji:u}){if(n&&n.dataset&&n.dataset.forceEmoji==="1"){n.textContent=u,n.style.webkitMaskImage="",n.style.maskImage="",n.style.backgroundColor="transparent",n.style.color="var(--yrp-icon-color)",n.style.textIndent="0",n.dataset.maskApplied="0";return}let y=l?s:c,i=getComputedStyle(t).getPropertyValue(y)||t.style.getPropertyValue(y)||"",E=Ue(i);if(!E){n.style.webkitMaskImage="",n.style.maskImage="",n.textContent=u,n.style.backgroundColor="transparent",n.style.color="var(--yrp-icon-color)",n.style.textIndent="0",n.dataset.maskApplied="0";return}if(await Ke(E)){n.textContent="";let x=`var(${y})`;n.style.webkitMaskImage=x,n.style.maskImage=x,n.style.backgroundColor="var(--yrp-icon-color)",n.style.color="",n.style.textIndent="-9999px",n.dataset.maskApplied="1"}else n.style.webkitMaskImage="",n.style.maskImage="",n.textContent=u,n.style.backgroundColor="transparent",n.style.color="var(--yrp-icon-color)",n.style.textIndent="0",n.dataset.maskApplied="0"}function zt({root:t,video:n,btnPrev:s,btnNext:c,leftGrp:l,vol:u,DEBUG:y}){let g=new URL(window.location.href),i=g.searchParams.get("p"),E=g.searchParams.get("v")||t.getAttribute("data-video-id")||"";if(i)s&&(s.style.display=""),c&&(c.style.display="");else{s&&(s.style.display="none"),c&&(c.style.display="none");let a=t.querySelector(".yrp-shuffle"),L=t.querySelector(".yrp-cycle");a&&(a.style.display="none"),L&&(L.style.display="none");return}function K(){let a=[],L=document.querySelector("#upnext-block .rb-list"),P=document.querySelector("#panel-upnext .upnext-list"),N=[];return L?N=L.querySelectorAll("a.rb-item[href*='/watch']"):P&&(N=P.querySelectorAll("a.rb-item[href*='/watch']")),N.forEach(_=>{let H=(_.getAttribute("href")||"").match(/[?&]v=([^&]+)/);H&&H[1]&&a.push(decodeURIComponent(H[1]))}),a}let x=K();if(!x||x.length===0)return;let k=x.indexOf(E);k<0&&(k=0);let T=a=>`pl:${i}:${a}`,A=$(T("order"),"direct")==="shuffle"?"shuffle":"direct",F=(()=>{let a=$(T("cycle"),"0");return a===!0||a==="1"})();function Q(a){A=a==="shuffle"?"shuffle":"direct",Z(T("order"),A),M()}function ut(a){F=!!a,Z(T("cycle"),F?"1":"0"),I()}function it(a){if(x.length<=1)return a;let L=0,P=a;for(;L<6&&P===a;)P=Math.floor(Math.random()*x.length),L++;return P===a&&(P=(a+1)%x.length),P}function R(){if(A==="shuffle")return it(k);let a=k+1;return a>=x.length?F?0:-1:a}function G(){if(A==="shuffle")return it(k);let a=k-1;return a<0?F?x.length-1:-1:a}function J(a){a=Math.max(0,Math.min(x.length-1,a));let L=x[a];if(!L)return;try{let N=$("resume",{});N&&N[L]&&(delete N[L],Z("resume",N))}catch(N){}let P=new URL(window.location.href);P.searchParams.set("v",L),P.searchParams.set("p",i),window.location.href=P.toString()}t.addEventListener("yrp-prev",()=>{let a=G();a>=0&&J(a)}),t.addEventListener("yrp-next",()=>{let a=R();a>=0&&J(a)});let v=t.querySelector(".yrp-shuffle"),C=t.querySelector(".yrp-cycle");v||(v=document.createElement("button"),v.type="button",v.className="yrp-btn yrp-shuffle",v.title="Shuffle playlist",v.setAttribute("aria-label","Shuffle playlist"),Object.assign(v.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginLeft:"6px",marginRight:"2px"})),C||(C=document.createElement("button"),C.type="button",C.className="yrp-btn yrp-cycle",C.title="Cycle playlist",C.setAttribute("aria-label","Cycle playlist"),Object.assign(C.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginRight:"8px"})),v.dataset.forceEmoji="0",C.dataset.forceEmoji="0";async function M(){v.setAttribute("aria-pressed",A==="shuffle"?"true":"false"),await Yt({root:t,button:v,varOn:"--icon-shuffle-on",varOff:"--icon-shuffle-off",isOn:A==="shuffle",fallbackEmoji:"\u{1F500}"}),v.style.opacity=A==="shuffle"?"1":"0.55",v.style.display=""}async function I(){C.setAttribute("aria-pressed",F?"true":"false"),await Yt({root:t,button:C,varOn:"--icon-cycle-on",varOff:"--icon-cycle-off",isOn:!!F,fallbackEmoji:"\u{1F501}"}),C.style.opacity=F?"1":"0.55",C.style.display=""}M(),I(),v.addEventListener("click",()=>{Q(A==="shuffle"?"direct":"shuffle")}),C.addEventListener("click",()=>{ut(!F)});try{let a=l||c&&c.parentNode||t;u&&a?(a.insertBefore(v,u),a.insertBefore(C,u)):c&&a?(a.insertBefore(v,c.nextSibling),a.insertBefore(C,v.nextSibling)):(a.appendChild(v),a.appendChild(C))}catch(a){}n.addEventListener("ended",function(){let a=R();a>=0&&J(a)}),document.addEventListener("keydown",function(a){let L=a.target,P=L&&L.tagName?L.tagName.toUpperCase():"";if(L&&(L.isContentEditable||P==="INPUT"||P==="TEXTAREA")||a.ctrlKey||a.metaKey||a.altKey)return;let N=a.code||"";if(N==="PageUp"){a.preventDefault();let _=G();_>=0&&J(_)}else if(N==="PageDown"){a.preventDefault();let _=R();_>=0&&J(_)}})}var Dt=null;function _e(){if(Dt)return Dt;try{typeof Intl!="undefined"&&Intl.DisplayNames&&(Dt=new Intl.DisplayNames(["en"],{type:"language"}))}catch(t){}return Dt}function Xe(t,n){let s=String(t||"").trim();if(!s)return String(n||"");if(s.toLowerCase()==="auto")return"Auto";let c=s.split("-",1)[0].toLowerCase();try{let l=_e();if(l&&typeof l.of=="function"){let u=l.of(c);if(u)return u.charAt(0).toUpperCase()+u.slice(1)}}catch(l){}return String(n||s)}function St(t){try{return t.textTracks?Array.prototype.filter.call(t.textTracks,function(n){return n.kind==="subtitles"||n.kind==="captions"}):[]}catch(n){return[]}}function kt(t){return St(t).length>0}function Ft(t,n){let s=St(t);if(s.length===0)return null;let c=n<0||n>=s.length?0:n;return s[c]}function Lt(t,n,s){St(t).forEach(function(l,u){l.mode=u===n&&s?"hidden":"disabled"})}function $e(t,n){let s=Ft(t,n);if(!s||!s.cues)return"";let c=t.currentTime||0;for(let l=0;l<s.cues.length;l++){let u=s.cues[l];if(c>=u.startTime&&c<=u.endTime)return(u.text||"").replace(/\r/g,"")}return""}function ke(t){return St(t).map(function(s,c){let l=String(s.language||s.srclang||"").toLowerCase(),u=String(s.label||l||"Lang "+(c+1)),y=Xe(l,u);return{index:c,lang:l,label:y}})}function Qt(t,n){let s=String(n||"").toLowerCase(),c=ke(t);for(var l=0;l<c.length;l++)if(c[l].lang===s||c[l].label.toLowerCase()===s)return c[l].index;return-1}function Le(t,n,s,c){if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);let l=document.createElement("button");l.type="button",l.className="yrp-menu-item",l.setAttribute("data-action","back"),l.textContent="\u2190 Back",s(l),t.appendChild(l);let u=document.createElement("button");u.type="button",u.className="yrp-menu-item",u.setAttribute("data-action","subs-on"),u.textContent="On"+(n?" \u2713":""),c(u),t.appendChild(u);let y=document.createElement("button");y.type="button",y.className="yrp-menu-item",y.setAttribute("data-action","subs-off"),y.textContent="Off"+(n?"":" \u2713"),c(y),t.appendChild(y)}function Ce(t,n,s,c,l,u){if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);let y=document.createElement("button");y.type="button",y.className="yrp-menu-item",y.setAttribute("data-action","back"),y.textContent="\u2190 Back",c(y),t.appendChild(y);let g=u(y,t);t.appendChild(g);let i=ke(n),E=Ft(n,s),K=E&&(E.language||E.srclang)?String(E.language||E.srclang).toLowerCase():"",x=i.slice().sort(function(k,T){let A=(k.lang||"").toLowerCase(),F=(T.lang||"").toLowerCase();return A==="auto"&&F!=="auto"?-1:F==="auto"&&A!=="auto"?1:(k.label||"").localeCompare(T.label||"")});if(x.forEach(function(k){let T=document.createElement("button");T.type="button",T.className="yrp-menu-item",T.setAttribute("data-action","select-lang"),T.setAttribute("data-lang",k.lang||"");let A=k.lang?` (${k.lang})`:"",F=k.index===s||k.lang&&K&&k.lang===K;T.textContent=k.label+A+(F?" \u2713":""),l(T),g.appendChild(T)}),!x.length){let k=document.createElement("div");k.className="yrp-menu-title",k.style.marginTop="6px",k.style.fontSize="12px",k.style.opacity="0.8",k.textContent="No subtitle tracks",g.appendChild(k)}}function yt(t,n,s){if(!t)return;let c=kt(n);t.disabled=!c,t.style.visibility=c?"visible":"hidden",t.classList.toggle("no-tracks",!c),t.classList.toggle("has-tracks",c),t.classList.toggle("active",c&&s),t.classList.toggle("disabled-track",c&&!s),t.setAttribute("aria-pressed",s?"true":"false")}function mt(t,n,s,c){!t||!t.textBox||(t.textBox.textContent=c?$e(n,s):"")}function Ee(t,n,s){let l=St(t).map(function(u,y){return{i:y,mode:u.mode,label:u.label,srclang:u.language||u.srclang,cues:u.cues?u.cues.length:0,kind:u.kind}});n(s,l)}function z(t){try{t.style.background="transparent",t.style.backgroundColor="transparent",t.style.border="none",t.style.boxShadow="none",t.style.color="inherit",t.style.textAlign="left",t.style.width="100%",t.style.display="block"}catch(n){}}function ht(t){z(t);try{t.style.background="rgba(255,255,255,0.12)",t.style.backgroundColor="rgba(255,255,255,0.12)",t.style.borderRadius="4px",t.style.fontWeight="700",t.style.marginBottom="6px",t.style.paddingLeft="8px",t.style.paddingRight="8px"}catch(n){}}function gt(t){try{t.classList.add("has-submenu")}catch(n){}}function Rt(t,n){let s=document.createElement("div");s.className="yrp-menu-scroll";let c=300;if(n)try{let u=n.closest(".yrp-container");if(u){let y=u.querySelector(".yrp-video-wrap");if(y){let g=y.getBoundingClientRect().height,i=Math.floor(g*2/3)-34-50-20;i>150&&(c=i)}}}catch(u){}Object.assign(s.style,{overflowY:"scroll",overflowX:"hidden",maxHeight:c+"px",minHeight:"100px",height:"auto",paddingRight:"8px",paddingLeft:"2px",marginTop:"4px",pointerEvents:"auto",position:"relative",display:"block",boxSizing:"border-box",WebkitOverflowScrolling:"touch"});let l=document.createElement("style");return l.textContent=`
    .yrp-menu-scroll {
      scrollbar-width: thin;
      scrollbar-color: rgba(255,255,255,0.4) rgba(255,255,255,0.1);
    }
    .yrp-menu-scroll::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }
    .yrp-menu-scroll::-webkit-scrollbar-track {
      background: rgba(255,255,255,0.1);
      border-radius: 5px;
      margin: 2px;
    }
    .yrp-menu-scroll::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.4);
      border-radius: 5px;
      border: 2px solid transparent;
      background-clip: padding-box;
    }
    .yrp-menu-scroll::-webkit-scrollbar-thumb:hover {
      background: rgba(255,255,255,0.6);
      background-clip: padding-box;
    }
    .yrp-menu-scroll::-webkit-scrollbar-thumb:active {
      background: rgba(255,255,255,0.8);
      background-clip: padding-box;
    }
  `,document.querySelector("#yrp-menu-scroll-style")||(l.id="yrp-menu-scroll-style",document.head.appendChild(l)),s.addEventListener("wheel",function(u){let y=s.scrollTop===0,g=s.scrollTop+s.clientHeight>=s.scrollHeight-1;(u.deltaY<0&&!y||u.deltaY>0&&!g||!y&&!g)&&u.stopPropagation()},{passive:!1}),s}function Ye(t){if(t)try{let n=t.querySelector('.yrp-menu-section[data-section="subtitles"]');n&&n.parentNode&&n.parentNode.removeChild(n)}catch(n){}}function bt(t,n,s,c,l,u){if(!t)return null;let y=t.querySelector(".yrp-menu-section")||null,g=document.createElement("button");return g.type="button",g.className="yrp-menu-item",g.setAttribute("data-action",s),g.textContent=n,l(g),c&&c.disabled===!0&&(g.disabled=!0,g.style.opacity="0.6"),c&&c.hasSubmenu===!0&&u(g),y&&y.parentNode===t?t.insertBefore(g,y):t.appendChild(g),g}function ze(){return[.5,.75,1,1.25,1.5,2]}function Ae(t,n,s,c){if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);let l=document.createElement("button");l.type="button",l.className="yrp-menu-item",l.setAttribute("data-action","back"),l.textContent="\u2190 Back",s(l),t.appendChild(l);let u=isFinite(n.playbackRate)?n.playbackRate:1;ze().forEach(function(y){let g=document.createElement("button");g.type="button",g.className="yrp-menu-item",g.setAttribute("data-action","set-speed"),g.setAttribute("data-speed",String(y)),g.textContent=(y===1?"1.0x":String(y)+"x")+(Math.abs(y-u)<.001?" \u2713":""),c(g),t.appendChild(g)})}function Gt(t,n){let s=parseFloat(String(n));if(!(!isFinite(s)||s<=0)){t.playbackRate=s;try{localStorage.setItem("playback_speed",String(s))}catch(c){}}}var Nt=class{constructor(n){this.menu=n,this.menuView="main",this.menuMainHTML="",this.menuFixedMinHeight=0}ensureMainSnapshot(){this.menu&&(this.menuMainHTML||(this.menuMainHTML=this.menu.innerHTML||""))}lockHeightFromCurrent(){if(this.menu&&!(this.menuFixedMinHeight>0))try{let n=this.menu.getBoundingClientRect();this.menuFixedMinHeight=Math.ceil(n.height||0),this.menuFixedMinHeight>0&&(this.menu.style.minHeight=this.menuFixedMinHeight+"px")}catch(n){}}resetHeightLock(){this.menu&&(this.menuFixedMinHeight=0,this.menu.style.minHeight="")}setView(n){this.menuView=n}getView(){return this.menuView}openMainView(n){if(this.menu){this.ensureMainSnapshot(),this.menu.innerHTML=this.menuMainHTML,this.menuView="main",this.menu.style.maxHeight="";try{let s=this.menu.querySelector('.yrp-menu-section[data-section="speed"]');s&&s.parentNode&&s.parentNode.removeChild(s)}catch(s){}Ye(this.menu),n&&(n.injectSpeed&&n.injectSpeed(),n.injectLanguages&&n.injectLanguages(),n.injectSubtitles&&n.injectSubtitles(),n.injectQuality&&n.injectQuality(),n.injectDownload&&n.injectDownload())}}constrainToPlayerHeight(n=2/3){if(this.menu)try{let s=this.menu.closest(".yrp-container");if(s){let c=s.querySelector(".yrp-video-wrap");if(c){let l=c.getBoundingClientRect().height,u=Math.floor(l*n)-34;u>100&&(this.menu.style.maxHeight=u+"px")}}}catch(s){}}};var nn={};function Qe(){try{let n=new URL(nn.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(n)return n[1]}catch(t){}try{let n=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(n)return n[1]}catch(t){}try{let t=document.querySelector(".player-host[data-player]");if(t){let n=String(t.getAttribute("data-player")||"").trim();if(n)return n}}catch(t){}return"yurtube"}function Jt(){let t=Qe(),n=`/static/players/${t}`,s=document.querySelectorAll(`.player-host[data-player="${t}"]`);s.length&&fetch(n+"/templates/player.html",{credentials:"same-origin"}).then(c=>c.text()).then(function(c){for(let l=0;l<s.length;l++)Ge(s[l],c,n)}).catch(function(){})}function Me(t,...n){if(t)try{}catch(s){}}function Ge(t,n,s){t.innerHTML=n;let c=t.querySelector(".yrp-container"),l=c.querySelector(".yrp-video-wrap"),u=c.querySelector(".yrp-video"),y=u.querySelector("source"),g=t.getAttribute("data-video-src")||"",i=t.getAttribute("data-poster-url")||"",E=t.getAttribute("data-video-id")||"",K=ft(t,"data-subtitles",[]),x=ft(t,"data-options",{}),k=t.getAttribute("data-sprites-vtt")||"",T=t.getAttribute("data-caption-vtt")||"",A=t.getAttribute("data-caption-lang")||"",F=ft(t,"data-sources",[]),Q=String(t.getAttribute("data-permit-download")||"")==="1",ut=ft(t,"data-download-items",[]),it=/\byrpdebug=1\b/i.test(location.search)||!!(x&&x.debug),R=(...m)=>Me(it,...m);if(y&&y.setAttribute("src",g),i&&u.setAttribute("poster",i),x.autoplay&&u.setAttribute("autoplay",""),x.muted&&u.setAttribute("muted",""),x.loop&&u.setAttribute("loop",""),E&&c.setAttribute("data-video-id",E),k&&c.setAttribute("data-sprites-vtt",k),u.setAttribute("playsinline",""),Array.isArray(K)&&K.forEach(function(m){if(!m||!m.src)return;let V=document.createElement("track");V.setAttribute("kind","captions"),m.srclang&&V.setAttribute("srclang",String(m.srclang)),m.label&&V.setAttribute("label",String(m.label)),V.setAttribute("src",String(m.src)),m.default&&V.setAttribute("default",""),u.appendChild(V)}),T)try{let m=document.createElement("track");m.setAttribute("kind","captions"),m.setAttribute("src",T),m.setAttribute("srclang",A||"auto"),m.setAttribute("label",A||"Original"),m.setAttribute("default",""),u.appendChild(m)}catch(m){R("caption append failed",m)}try{u.load(),R("video.load()",{src:g})}catch(m){R("video.load() error",m)}Se(u,y,R);let G=s+"/img/buttons";[["--icon-play","play.svg"],["--icon-pause","pause.svg"],["--icon-prev","prev.svg"],["--icon-next","next.svg"],["--icon-vol","volume.svg"],["--icon-mute","mute.svg"],["--icon-cc","cc.svg"],["--icon-mini","mini.svg"],["--icon-settings","settings.svg"],["--icon-theater","theater.svg"],["--icon-full","full.svg"],["--icon-autoplay-on","autoplay-on.svg"],["--icon-autoplay-off","autoplay-off.svg"],["--icon-shuffle-on","shuffle-on.svg"],["--icon-shuffle-off","shuffle-off.svg"],["--icon-cycle-on","cycle-on.svg"],["--icon-cycle-off","cycle-off.svg"]].forEach(([m,V])=>{c.style.setProperty(m,`url("${G}/${V}")`)}),c.classList.add("yrp-icons-ready");let J=c.querySelector(".yrp-center-logo");J&&J.setAttribute("src",s+"/img/logo.png");let v=document.createElement("div");v.className="yrp-captions-layer",Object.assign(v.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let C=document.createElement("div");C.className="yrp-captions-text",Object.assign(C.style,{display:"inline-block",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:"16px",lineHeight:"1.35",padding:"6px 10px",borderRadius:"6px",maxWidth:"80%",minWidth:"220px",boxShadow:"0 2px 6px rgba(0,0,0,0.35)",whiteSpace:"pre-wrap",wordBreak:"break-word"}),v.appendChild(C),l&&(l.style.position="relative",l.appendChild(v));let M={active:!1,startX:0,startY:0,startLeftPct:50,startTopPct:80},I=!1;function a(){return l?l.getBoundingClientRect():{width:0,height:0,left:0,top:0}}function L(m){let V=a(),W=Math.min(m,V.width-m)*2,O=12,Y=220;C.style.maxWidth=Math.max(Y,Math.floor(W-O))+"px"}function P(m){let V=m.touches?m.touches[0]:m,W=a(),O=v.getBoundingClientRect();M.startLeftPct=(O.left+O.width/2-W.left)/W.width*100,M.startTopPct=(O.top+O.height/2-W.top)/W.height*100,M.active=!0,M.startX=V.clientX,M.startY=V.clientY,m.preventDefault(),m.stopPropagation()}function N(m){if(!M.active)return;let V=m.touches?m.touches[0]:m,W=V.clientX-M.startX,O=V.clientY-M.startY,Y=a(),rt=M.startLeftPct/100*Y.width+W,tt=M.startTopPct/100*Y.height+O,st=v.getBoundingClientRect(),dt=st.width/2,pt=st.height/2;rt=U(rt,dt,Y.width-dt),tt=U(tt,pt,Y.height-pt),v.style.left=rt/Y.width*100+"%",v.style.top=tt/Y.height*100+"%",v.style.transform="translate(-50%,-50%)",I=!0,L(rt),m.preventDefault(),m.stopPropagation()}function _(m){M.active&&(M.active=!1,m.preventDefault(),m.stopPropagation())}v.addEventListener("mousedown",P),v.addEventListener("touchstart",P,{passive:!1}),document.addEventListener("mousemove",N),document.addEventListener("touchmove",N,{passive:!1}),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),v.addEventListener("click",function(m){m.stopPropagation()});function vt(){if(I)return;let m=!c.classList.contains("autohide");v.style.top=m?"78%":"82%",v.style.left="50%",v.style.transform="translate(-50%,-50%)",L(a().width/2)}let H=0;typeof x.start=="number"&&x.start>0&&(H=Math.max(0,x.start));try{let V=new URL(window.location.href).searchParams.get("t");if(V!=null){let W=parseInt(String(V).trim(),10);isFinite(W)&&W>0&&(H=Math.max(H,W))}}catch(m){}en(c,H,it,{overlay:v,textBox:C,autoAdjust:vt},H,s,{sources:F,permitDownload:Q,downloadItems:ut})}function Te(t){return Array.isArray(t)?t:[]}function Je(t,n){let s=Te(t).filter(Boolean),c=[];function l(i){if(!i)return;let E=String(i.src||"").trim();E&&c.push({id:String(i.id||E),label:String(i.label||i.preset||"Source"),preset:String(i.preset||""),src:E})}for(let i=0;i<s.length;i++)l(s[i]);!c.some(i=>i.src===n)&&n&&c.unshift({id:"original",label:"Original",preset:"",src:n});let y=new Set,g=[];for(let i of c)y.has(i.src)||(y.add(i.src),g.push(i));return g}function Ze(t){try{return t?String(localStorage.getItem("yrp:quality:"+t)||""):""}catch(n){return""}}function tn(t,n){try{if(!t)return;localStorage.setItem("yrp:quality:"+t,String(n||""))}catch(s){}}function en(t,n,s,c,l,u,y){let g=(...e)=>Me(s,...e),i=t.querySelector(".yrp-video"),E=i?i.querySelector("source"):null,K=t.querySelector(".yrp-center-play"),x=t.querySelector(".yrp-play"),k=t.querySelector(".yrp-prev"),T=t.querySelector(".yrp-next"),A=t.querySelector(".yrp-vol-btn"),F=t.querySelector(".yrp-volume"),Q=t.querySelector(".yrp-vol-slider"),ut=t.querySelector(".yrp-time-current"),it=t.querySelector(".yrp-time-total"),R=t.querySelector(".yrp-progress"),G=t.querySelector(".yrp-progress-rail"),J=t.querySelector(".yrp-progress-buffer"),v=t.querySelector(".yrp-progress-played"),C=t.querySelector(".yrp-progress-handle"),M=t.querySelector(".yrp-progress-tooltip"),I=t.querySelector(".yrp-settings"),a=t.querySelector(".yrp-menu"),L=t.querySelector(".yrp-theater"),P=t.querySelector(".yrp-fullscreen"),N=t.querySelector(".yrp-pip"),_=t.querySelector(".yrp-left"),vt=t.querySelector(".yrp-right"),H=t.querySelector(".yrp-autoplay"),m=t.querySelector(".yrp-subtitles"),V=t.closest(".player-host")||t,W=String(t.getAttribute("data-video-id")||""),O=Je(y&&y.sources,E&&E.getAttribute("src")||""),Y=!!(y&&y.permitDownload),rt=Te(y&&y.downloadItems),tt=E&&E.getAttribute("src")||"",st="";(function(){let e=O.find(r=>r.src===tt);e&&(st=e.label||"")})();let dt=null,pt=!1,et=0,Ct=!1,ot=!1,rn=!1,an=!1,sn=!1,on=null,Zt=!!$("autoplay",!1),ct=t.getAttribute("data-sprites-vtt")||"",Et=[],Ot=0,nt=null,At=!1,Mt=!1,B=!0,X=0,te=function(){try{return String(localStorage.getItem("subtitle_lang")||"")}catch(e){return""}}(),jt=function(){try{return parseFloat(localStorage.getItem("playback_speed")||"")}catch(e){return NaN}}(),b=new Nt(a),ee=!1;function ne(e,r){if(!i||!E||(e=String(e||"").trim(),!e)||e===tt)return;let d=!i.paused,o=!!i.muted,p=i.playbackRate,h=i.volume,S=Math.max(0,i.currentTime||0);tt=e,st=String(r||"");try{E.setAttribute("src",e),i.load()}catch(w){g("setVideoSource load failed",w);return}let f=function(){i.removeEventListener("loadedmetadata",f);try{try{i.muted=o}catch(D){}try{i.volume=h}catch(D){}try{isFinite(p)&&p>0&&(i.playbackRate=p)}catch(D){}let w=isFinite(i.duration)?i.duration:0,q=S;w>0&&(q=Math.min(S,Math.max(0,w-.25)));try{i.currentTime=q}catch(D){}if(d)try{i.play().catch(function(){})}catch(D){}}catch(w){g("setVideoSource restore failed",w)}};i.addEventListener("loadedmetadata",f),tn(W,e)}(function(){let r=Ze(W);if(!r)return;let d=O.find(o=>o.src===r);d&&r&&r!==tt&&ne(d.src,d.label)})();function ie(){if(!a)return;for(;a.firstChild;)a.removeChild(a.firstChild);let e=document.createElement("button");e.type="button",e.className="yrp-menu-item",e.setAttribute("data-action","back"),e.textContent="\u2190 Back",ht(e),a.appendChild(e);let r=Rt(e,a);a.appendChild(r);let d=tt;for(let o of O){let p=document.createElement("button");p.type="button",p.className="yrp-menu-item",p.setAttribute("data-action","set-quality"),p.setAttribute("data-src",o.src),p.textContent=(o.label||o.preset||"Quality")+(o.src===d?" \u2713":""),z(p),r.appendChild(p)}b.setView("quality"),b.constrainToPlayerHeight(2/3)}function re(){if(!a)return;for(;a.firstChild;)a.removeChild(a.firstChild);let e=document.createElement("button");e.type="button",e.className="yrp-menu-item",e.setAttribute("data-action","back"),e.textContent="\u2190 Back",ht(e),a.appendChild(e);let r=Rt(e,a);a.appendChild(r);for(let d of rt){if(!d||!d.url)continue;let o=document.createElement("button");o.type="button",o.className="yrp-menu-item",o.setAttribute("data-action","do-download"),o.setAttribute("data-url",String(d.url||"")),o.setAttribute("data-filename",String(d.filename||"")),o.textContent=String(d.label||d.filename||d.url),z(o),r.appendChild(o)}b.setView("download"),b.constrainToPlayerHeight(2/3)}function Pe(e){let r=Qt(i,e);if(r>=0){X=r,B=!0,Lt(i,X,B),mt(c,i,X,B);try{localStorage.setItem("subtitle_lang",String(e||""))}catch(d){}yt(m,i,B)}}function ae(e){B=!!e,Lt(i,X,B),mt(c,i,X,B),yt(m,i,B)}function Wt(){b.openMainView({injectSpeed:Ie,injectLanguages:qe,injectSubtitles:Ve,injectQuality:He,injectDownload:Be})}function qe(){a&&(a.querySelector('.yrp-menu-item[data-action="open-langs"]')||bt(a,"Languages","open-langs",{hasSubmenu:!0},z,gt))}function Ie(){a&&(a.querySelector('.yrp-menu-item[data-action="open-speed"]')||bt(a,"Speed","open-speed",{hasSubmenu:!0},z,gt))}function Ve(){if(!a||a.querySelector('.yrp-menu-item[data-action="open-subs"]'))return;let e=kt(i),r=bt(a,"Subtitles","open-subs",{hasSubmenu:!0,disabled:!e},z,gt);r&&!e&&(r.title="No subtitle tracks")}function He(){if(!a||a.querySelector('.yrp-menu-item[data-action="open-quality"]'))return;let e=O&&O.length>1,r=st?`Quality (${st})`:"Quality",d=bt(a,r,"open-quality",{hasSubmenu:!0,disabled:!e},z,gt);d&&!e&&(d.title="No alternative qualities")}function Be(){if(!a||a.querySelector('.yrp-menu-item[data-action="open-download"]'))return;let e=Y&&rt.length>0,r=bt(a,"Download","open-download",{hasSubmenu:!0,disabled:!e},z,gt);r&&!e&&(r.title=Y?"No download items":"Downloads disabled")}function se(){Ce(a,i,X,ht,z,Rt),b.setView("langs"),b.constrainToPlayerHeight(2/3)}function oe(){Ae(a,i,ht,z),b.setView("speed"),b.constrainToPlayerHeight(2/3)}function ce(){Le(a,B,ht,z),b.setView("subs"),b.constrainToPlayerHeight(2/3)}function cn(e,r,d,o,p){let h=o?r:d,f=getComputedStyle(t).getPropertyValue(h)||t.style.getPropertyValue(h)||"",w=String(f).match(/url\(["']?([^"')]+)["']?\)/i);if(!(w&&w[1]?w[1]:null)){e.style.webkitMaskImage="",e.style.maskImage="",e.textContent=p,e.style.backgroundColor="transparent",e.style.color="var(--yrp-icon-color)",e.style.textIndent="0",e.dataset.maskApplied="0";return}e.textContent="";let D=`var(${h})`;e.style.webkitMaskImage=D,e.style.maskImage=D,e.style.backgroundColor="var(--yrp-icon-color)",e.style.color="",e.style.textIndent="-9999px",e.dataset.maskApplied="1"}function De(){return nt||(R?(nt=document.createElement("div"),Object.assign(nt.style,{position:"absolute",display:"none",bottom:"calc(100% + 30px)",left:"0",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),nt.className="yrp-sprite-pop",getComputedStyle(R).position==="static"&&(R.style.position="relative"),R.appendChild(nt),nt):null)}function le(e){let r=String(e||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);return r?parseInt(r[1],10)*3600+parseInt(r[2],10)*60+parseFloat(r[3]):0}function Fe(e){if(!e)return"";try{let r=new URL(ct,window.location.href);return new URL(e,r).href}catch(r){return e}}function ue(){if(!ct||At||Mt)return;let e="";try{e=new URL(ct,window.location.href).href}catch(r){e=ct}fetch(e,{credentials:"same-origin"}).then(r=>r.text()).then(function(r){let d=r.split(/\r?\n/);for(let o=0;o<d.length;o++){let p=d[o].trim();if(p&&p.indexOf("-->")>=0){let h=p.split("-->").map(lt=>lt.trim());if(h.length<2)continue;let S=le(h[0]),f=le(h[1]),w=(d[o+1]||"").trim(),q="",D=0,at=0,Vt=0,he=0,$t=w.indexOf("#xywh=");if($t>0){q=w.substring(0,$t);let lt=w.substring($t+6).split(",");lt.length===4&&(D=parseInt(lt[0],10),at=parseInt(lt[1],10),Vt=parseInt(lt[2],10),he=parseInt(lt[3],10))}else q=w||"";let We=Fe(q);Et.push({start:S,end:f,spriteUrl:We,x:D,y:at,w:Vt,h:he}),f>Ot&&(Ot=f),o++}}At=!0}).catch(function(){Mt=!0})}function Ne(e){if(!ct||!Et.length||!G)return;let r=G.getBoundingClientRect(),d=U(e-r.left,0,r.width),o=r.width>0?d/r.width:0,p=(et||Ot||0)*o,h=null;for(let q=0;q<Et.length;q++){let D=Et[q];if(p>=D.start&&p<D.end){h=D;break}}let S=De();if(!S)return;if(!h||!h.spriteUrl||h.w<=0||h.h<=0){S.style.display="none";return}for(;S.firstChild;)S.removeChild(S.firstChild);let f=document.createElement("img");Object.assign(f.style,{position:"absolute",left:-h.x+"px",top:-h.y+"px"}),f.src=h.spriteUrl,S.appendChild(f),S.style.display="block";let w=U(d-h.w/2,0,r.width-h.w);S.style.left=w+"px",S.style.width=h.w+"px",S.style.height=h.h+"px"}function de(){if(!H)return;let e=Zt;H.setAttribute("aria-pressed",e?"true":"false"),H.title=e?"Autoplay on (A)":"Autoplay off (A)",H.textContent="";let r=e?"var(--icon-autoplay-on)":"var(--icon-autoplay-off)";Object.assign(H.style,{backgroundColor:"currentColor",webkitMaskImage:r,maskImage:r,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px",opacity:e?"1":"0.6"})}function Ut(){if(!x)return;let e=!i.paused;x.classList.toggle("icon-play",!e),x.classList.toggle("icon-pause",e),x.setAttribute("aria-label",e?"Pause (Space, K)":"Play (Space, K)"),x.title=e?"Pause (Space, K)":"Play (Space, K)",x.textContent="";let r=e?"var(--icon-pause)":"var(--icon-play)";Object.assign(x.style,{backgroundColor:"currentColor",webkitMaskImage:r,maskImage:r,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px"})}function Kt(e){dt&&clearTimeout(dt),dt=setTimeout(function(){t.classList.add("autohide"),c&&c.autoAdjust&&c.autoAdjust()},Math.max(0,e||1200))}function j(){t.classList.remove("autohide"),c&&c.autoAdjust&&c.autoAdjust(),Kt(2e3)}function pe(){try{et=isFinite(i.duration)?i.duration:0}catch(e){et=0}it&&(it.textContent=Ht(et)),ut&&(ut.textContent=Ht(i.currentTime||0))}function _t(){let e=et||0,r=i.currentTime||0,d=e>0?U(r/e,0,1):0;v&&(v.style.width=(d*100).toFixed(3)+"%"),C&&(C.style.left=(d*100).toFixed(3)+"%");let o=0;if(i.buffered&&i.buffered.length>0)try{o=i.buffered.end(i.buffered.length-1)}catch(h){o=0}let p=e>0?U(o/e,0,1):0;J&&(J.style.width=(p*100).toFixed(3)+"%")}function Tt(){i.paused?i.play().catch(()=>{}):i.pause()}function fe(){i.muted=!i.muted,wt()}function wt(){let e=i.muted?0:i.volume,r=i.muted||e===0?"Mute":"Vol";A&&(A.textContent=r,A.classList.toggle("icon-mute",r==="Mute"),A.classList.toggle("icon-vol",r!=="Mute"))}function ye(e){if(!G)return;let r=G.getBoundingClientRect(),d=U(e-r.left,0,r.width),o=r.width>0?d/r.width:0;i.currentTime=(et||0)*o}function Re(e){if(!M||!G)return;let r=G.getBoundingClientRect(),d=U(e-r.left,0,r.width),o=r.width>0?d/r.width:0,p=(et||0)*o;M.textContent=Ht(p),M.style.left=(o*100).toFixed(3)+"%",M.hidden=!1}(function(){let r=t.getAttribute("data-video-id")||"";if(!r)return;if(l>0){try{let f=$("resume",{});f&&f[r]&&(delete f[r],Z("resume",f))}catch(f){}return}let d=$("resume",{}),o=d[r],p=Date.now();function h(f){let w=isFinite(i.duration)?i.duration:0;if(w&&f>10&&f<w-5)try{i.currentTime=f}catch(q){}}if(o&&typeof o.t=="number"&&p-(o.ts||0)<180*24*3600*1e3){let f=Math.max(0,o.t|0);isFinite(i.duration)&&i.duration>0?h(f):i.addEventListener("loadedmetadata",function w(){i.removeEventListener("loadedmetadata",w),h(f)})}let S=be(function(){let f=isFinite(i.duration)?i.duration:0,w=Math.max(0,Math.floor(i.currentTime||0)),q=$("resume",{});q[r]={t:w,ts:Date.now(),d:f};let D=Object.keys(q);if(D.length>200){D.sort((at,Vt)=>(q[at].ts||0)-(q[Vt].ts||0));for(let at=0;at<D.length-200;at++)delete q[D[at]]}Z("resume",q)},3e3);i.addEventListener("timeupdate",function(){!i.paused&&!i.seeking&&S()}),i.addEventListener("ended",function(){let f=$("resume",{});delete f[r],Z("resume",f)})})(),function(){function r(o){t.classList.toggle("yrp-theater",o);try{if(typeof window.setTheater=="function")window.setTheater(o);else{let p=t.closest(".watch-layout")||document.querySelector(".watch-layout");p&&(p.classList.toggle("theater-mode",o),typeof window.relocateUpNext=="function"&&window.relocateUpNext())}}catch(p){}o?(t.style.maxWidth="",t.style.minWidth="",t.style.width=""):Pt()}!!$("theater",!1)&&r(!0),L&&L.addEventListener("click",function(){let o=!t.classList.contains("yrp-theater");r(o),Z("theater",o),j()})}(),i.addEventListener("loadedmetadata",function(){if(n>0)try{i.currentTime=Math.min(n,Math.floor(i.duration||n))}catch(o){}if(setTimeout(Pt,0),pe(),_t(),wt(),de(),Ut(),yt(m,i,B),te){let o=Qt(i,te);o>=0&&(X=o)}isFinite(jt)&&jt>0&&Gt(jt),Ft(i,X),Lt(i,X,B),yt(m,i,B),Kt(1200),ue(),mt(c,i,X,B);let e=t.querySelector(".yrp-video-wrap").getBoundingClientRect(),r=e.width/2,d=t.querySelector(".yrp-captions-text");if(d){let o=Math.min(r,e.width-r)*2,p=12,h=220;d.style.maxWidth=Math.max(h,Math.floor(o-p))+"px"}if(Ee(i,g,"after loadedmetadata"),a&&!a.hidden){let o=b.getView();o==="main"?Wt():o==="langs"?se():o==="speed"?oe():o==="subs"?ce():o==="quality"?ie():o==="download"&&re()}});function Pt(){if(t.classList.contains("yrp-theater"))return;let e=getComputedStyle(i),r=ge(e.getPropertyValue("max-height"))||i.clientHeight||0,d=i.videoWidth||16,o=i.videoHeight||9,p=o>0?d/o:16/9,h=Math.min(r||i.clientHeight||0,window.innerHeight*.9);if(!h||!isFinite(h))return;let S=Math.floor(h*p),f=Math.floor(window.innerWidth*.95),w=Oe(),q=Math.max(w,Math.min(S,f));t.style.maxWidth=q+"px",t.style.minWidth=w+"px",t.style.width="100%"}function Oe(){let e=_?_.getBoundingClientRect().width:0,r=vt?vt.getBoundingClientRect().width:0,o=Math.ceil(e+r+24);return!isFinite(o)||o<=0?480:o}(function(){let r=t.closest(".player-host")||t,d=ft(r,"data-options",null);function o(){return d&&d.autoplay===!0?!0:!!$("autoplay",!1)}if(!o()){setTimeout(function(){Kt(1e3)},0);return}function p(){let f=null;try{f=i.play()}catch(w){f=null}f&&typeof f.then=="function"?f.then(function(){}).catch(function(){if(!i.muted){ot=!0,i.muted=!0,i.setAttribute("muted","");try{i.play().catch(function(){})}catch(w){}}}):setTimeout(function(){if(i.paused){ot=!0,i.muted=!0,i.setAttribute("muted","");try{i.play().catch(function(){})}catch(w){}}},0)}let h=!1;function S(){h||(h=!0,p())}i.readyState>=1&&S(),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(f){let w=function(){i.removeEventListener(f,w),S()};i.addEventListener(f,w)}),setTimeout(function(){if(i.paused){ot=!0,i.muted=!0,i.setAttribute("muted","");try{i.play().catch(function(){})}catch(f){}}},1200)})(),window.addEventListener("resize",Pt),i.addEventListener("timeupdate",function(){pe(),_t(),mt(c,i,X,B)}),i.addEventListener("progress",_t),i.addEventListener("play",function(){t.classList.add("playing"),Ut(),j()}),i.addEventListener("pause",function(){t.classList.remove("playing"),Ut(),j()});function Xt(){!document.pictureInPictureEnabled||!i.requestPictureInPicture||i.disablePictureInPicture||(document.pictureInPictureElement===i?document.exitPictureInPicture().catch(function(){}):i.requestPictureInPicture().catch(function(){}))}i.addEventListener("click",Tt),K&&K.addEventListener("click",Tt),x&&x.addEventListener("click",Tt),k&&k.addEventListener("click",function(){t.dispatchEvent(new CustomEvent("yrp-prev",{bubbles:!0}))}),T&&T.addEventListener("click",function(){t.dispatchEvent(new CustomEvent("yrp-next",{bubbles:!0}))});try{zt&&zt(t,i,s)}catch(e){}A&&A.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),Ct=!0,ot=!1,fe(),j(),t.classList.add("vol-open"),setTimeout(function(){t.classList.remove("vol-open")},1200)}),F&&F.addEventListener("wheel",function(e){e.preventDefault(),Ct=!0,ot=!1;let r=.05,d=i.muted?0:i.volume,o=U(d+(e.deltaY<0?r:-r),0,1);i.volume=o,o>0&&(i.muted=!1),Q&&(Q.value=String(o)),wt(),j()},{passive:!1}),Q&&(Q.addEventListener("input",function(){Ct=!0,ot=!1;let e=parseFloat(Q.value||"1");isFinite(e)||(e=1),e=U(e,0,1),i.volume=e,e>0&&(i.muted=!1),wt()}),Q.addEventListener("wheel",function(e){e.preventDefault(),Ct=!0,ot=!1;let r=.05,d=i.muted?0:i.volume,o=U(d+(e.deltaY<0?r:-r),0,1);i.volume=o,o>0&&(i.muted=!1),Q.value=String(o),wt(),j()},{passive:!1})),R&&(R.addEventListener("mousedown",function(e){pt=!0,qt(),ye(e.clientX)}),window.addEventListener("mousemove",function(e){pt&&ye(e.clientX)}),window.addEventListener("mouseup",function(){pt=!1}),R.addEventListener("mousemove",function(e){Re(e.clientX),ct&&At&&!Mt?Ne(e.clientX):ct&&!At&&!Mt&&ue()}),R.addEventListener("mouseleave",function(){M&&(M.hidden=!0),nt&&(nt.style.display="none")}));function qt(){a&&(a.hidden=!0,I&&I.setAttribute("aria-expanded","false"));let e=t.querySelector(".yrp-context");e&&(e.hidden=!0),t.classList.remove("vol-open"),b.setView("main"),b.resetHeightLock()}I&&a&&(b.ensureMainSnapshot(),ee||(ee=!0,I.addEventListener("click",function(e){!a.hidden?(a.hidden=!0,I.setAttribute("aria-expanded","false"),b.setView("main"),b.resetHeightLock()):(qt(),Wt(),a.hidden=!1,I.setAttribute("aria-expanded","true"),b.lockHeightFromCurrent()),e.stopPropagation(),t.classList.add("vol-open"),j()}),a.addEventListener("click",function(e){let r=e.target&&e.target.closest?e.target.closest(".yrp-menu-item"):null;if(!r||!a.contains(r))return;let d=r.getAttribute("data-action")||"",o=r.getAttribute("data-lang")||"",p=b.getView();if(p==="main"){if(d==="open-langs"){e.preventDefault(),e.stopPropagation(),se(),b.lockHeightFromCurrent(),t.classList.add("vol-open"),j();return}if(d==="open-speed"){e.preventDefault(),e.stopPropagation(),oe(),b.lockHeightFromCurrent(),t.classList.add("vol-open"),j();return}if(d==="open-subs"){if(e.preventDefault(),e.stopPropagation(),!kt(i))return;ce(),b.lockHeightFromCurrent(),t.classList.add("vol-open"),j();return}if(d==="open-quality"){if(e.preventDefault(),e.stopPropagation(),!O||O.length<=1)return;ie(),b.lockHeightFromCurrent(),t.classList.add("vol-open"),j();return}if(d==="open-download"){if(e.preventDefault(),e.stopPropagation(),!(Y&&rt.length>0))return;re(),b.lockHeightFromCurrent(),t.classList.add("vol-open"),j();return}return}if(d==="back"){e.preventDefault(),e.stopPropagation(),Wt(),b.lockHeightFromCurrent(),t.classList.add("vol-open"),j();return}if(p==="langs"&&d==="select-lang"&&o){e.preventDefault(),e.stopPropagation(),Pe(o),a.hidden=!0,I.setAttribute("aria-expanded","false"),b.setView("main"),b.resetHeightLock();return}if(p==="speed"&&d==="set-speed"){let h=parseFloat(r.getAttribute("data-speed")||"NaN");if(!isNaN(h)){e.preventDefault(),e.stopPropagation(),Gt(i,h),a.hidden=!0,I.setAttribute("aria-expanded","false"),b.setView("main"),b.resetHeightLock();return}}if(p==="subs"){if(d==="subs-on"){e.preventDefault(),e.stopPropagation(),ae(!0),a.hidden=!0,I.setAttribute("aria-expanded","false"),b.setView("main"),b.resetHeightLock();return}if(d==="subs-off"){e.preventDefault(),e.stopPropagation(),ae(!1),a.hidden=!0,I.setAttribute("aria-expanded","false"),b.setView("main"),b.resetHeightLock();return}}if(p==="quality"&&d==="set-quality"){let h=String(r.getAttribute("data-src")||""),S=O.find(f=>f.src===h);e.preventDefault(),e.stopPropagation(),S&&ne(S.src,S.label),a.hidden=!0,I.setAttribute("aria-expanded","false"),b.setView("main"),b.resetHeightLock();return}if(p==="download"&&d==="do-download"){let h=String(r.getAttribute("data-url")||""),S=String(r.getAttribute("data-filename")||"");if(e.preventDefault(),e.stopPropagation(),h)try{let f=document.createElement("a");f.href=h,S&&f.setAttribute("download",S),f.rel="noopener",f.target="_blank",document.body.appendChild(f),f.click(),document.body.removeChild(f)}catch(f){try{window.open(h,"_blank","noopener")}catch(w){}}a.hidden=!0,I.setAttribute("aria-expanded","false"),b.setView("main"),b.resetHeightLock();return}}),document.addEventListener("click",function(e){!a.hidden&&!a.contains(e.target)&&e.target!==I&&(a.hidden=!0,I.setAttribute("aria-expanded","false"),b.setView("main"),b.resetHeightLock())}))),P&&P.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):t.requestFullscreen&&t.requestFullscreen().catch(function(){})}),N&&N.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),Xt()}),H&&H.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();let r=!$("autoplay",!1);Z("autoplay",r),Zt=r,de()}),m&&m.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),kt(i)&&(B=!B,Lt(i,X,B),mt(c,i,X,B),yt(m,i,B))}),t.addEventListener("contextmenu",function(e){e.preventDefault(),qt();let r=t.querySelector(".yrp-context");if(!r)return;let d=t.getBoundingClientRect();r.style.left=e.clientX-d.left+"px",r.style.top=e.clientY-d.top+"px",r.hidden=!1,r.onclick=function(o){let p=o.target&&o.target.getAttribute("data-action"),h=Math.floor(i.currentTime||0),S=t.getAttribute("data-video-id")||"";if(p==="pip")Xt();else if(p==="copy-url"){let f=new URL(window.location.href);f.searchParams.delete("t"),Bt(f.toString())}else if(p==="copy-url-time"){let f=new URL(window.location.href);f.searchParams.set("t",String(h)),Bt(f.toString())}else if(p==="copy-embed"){let w=`<iframe width="560" height="315" src="${(window.location.origin||"")+"/embed?v="+encodeURIComponent(S||"")}" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>`;Bt(w)}r.hidden=!0},document.addEventListener("click",function(o){let p=t.querySelector(".yrp-context");p&&!p.hidden&&!p.contains(o.target)&&(p.hidden=!0)},{once:!0}),document.addEventListener("keydown",function o(p){if(p.code==="Escape"||(p.key||"").toLowerCase()==="escape"){let h=t.querySelector(".yrp-context");h&&!h.hidden&&(h.hidden=!0),document.removeEventListener("keydown",o)}})});function It(e){let r=t.getBoundingClientRect();e.clientX>=r.left&&e.clientX<=r.right&&e.clientY>=r.top&&e.clientY<=r.bottom&&j()}document.addEventListener("mousemove",It,{passive:!0}),document.addEventListener("pointermove",It,{passive:!0}),["mousemove","pointermove","mouseenter","mouseover","touchstart"].forEach(function(e){t.addEventListener(e,function(){try{t.focus()}catch(r){}j()},{passive:!0}),i&&i.addEventListener(e,j,{passive:!0}),K&&K.addEventListener(e,j,{passive:!0})});function me(){try{document.fullscreenElement===t&&(document.addEventListener("mousemove",It,{passive:!0}),document.addEventListener("pointermove",It,{passive:!0}))}catch(e){}}document.addEventListener("fullscreenchange",me),me();function je(e){let r=e.target,d=r&&r.tagName?r.tagName.toUpperCase():"";if(r&&(r.isContentEditable||d==="INPUT"||d==="TEXTAREA")||e.ctrlKey||e.metaKey||e.altKey)return;let o=e.code,p=(e.key||"").toLowerCase();if(o==="Space"||o==="Enter"||o==="NumpadEnter"||o==="MediaPlayPause"||o==="KeyK"||p==="k"){Tt(),e.preventDefault();return}if(o==="ArrowLeft"||p==="arrowleft"||o==="KeyJ"||p==="j"){i.currentTime=U((i.currentTime||0)-5,0,et||0),e.preventDefault();return}if(o==="ArrowRight"||p==="arrowright"||o==="KeyL"||p==="l"){i.currentTime=U((i.currentTime||0)+5,0,et||0),e.preventDefault();return}if(o==="KeyM"||p==="m"){fe(),e.preventDefault();return}if(o==="KeyF"||p==="f"){document.fullscreenElement?document.exitFullscreen().catch(function(){}):t.requestFullscreen&&t.requestFullscreen().catch(function(){}),e.preventDefault();return}if(o==="KeyT"||p==="t"){L&&L.click(),e.preventDefault();return}if(o==="KeyI"||p==="i"){Xt(),e.preventDefault();return}if(o==="KeyA"||p==="a"){H&&H.click(),e.preventDefault();return}if(o==="KeyC"||p==="c"){m&&!m.disabled&&m.click(),e.preventDefault();return}if(o==="Escape"||p==="escape"){qt();return}}document.addEventListener("keydown",je),setTimeout(Pt,200)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Jt):Jt();})();
