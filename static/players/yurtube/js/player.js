(()=>{function Ot(n){(!isFinite(n)||n<0)&&(n=0),n=Math.floor(n);let u=Math.floor(n/3600),h=Math.floor(n%3600/60),p=n%60,b=w=>(w<10?"0":"")+w;return u>0?`${u}:${b(h)}:${b(p)}`:`${h}:${b(p)}`}function N(n,u,h){return n<u?u:n>h?h:n}function ke(n){let u=parseFloat(String(n||"").trim());return isFinite(u)?u:0}function Le(n,u){let h=0,p=!1,b=null;return function(...w){b=w;let D=Date.now();!h||D-h>=u?(h=D,n.apply(null,b)):p||(p=!0,setTimeout(()=>{p=!1,n.apply(null,b)},u-(D-h)))}}function Dt(n,u,h){let p=n.getAttribute(u);if(!p)return h;try{return JSON.parse(p)}catch(b){return h}}function Ft(n){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(n).catch(function(){});else{let u=document.createElement("textarea");u.value=n,u.style.position="fixed",u.style.left="-9999px",document.body.appendChild(u),u.select();try{document.execCommand("copy")}catch(h){}document.body.removeChild(u)}}var Ce="yrp:";function Ee(){try{return localStorage.setItem("__t","1"),localStorage.removeItem("__t"),!0}catch(n){return!1}}function O(n,u){if(!Ee())return u;try{let h=localStorage.getItem(Ce+n);return h?JSON.parse(h):u}catch(h){return u}}function X(n,u){if(Ee())try{localStorage.setItem(Ce+n,JSON.stringify(u))}catch(h){}}var Ae="/static/img/fallback_video_notfound.gif";function Me(n,u,h){let p=!1,b=null;function w(i){if(!p){p=!0,h&&h("fallback: applying",i);try{u?u.setAttribute("src",Ae):n.src=Ae,n.load()}catch(Z){}}}function D(){b&&(clearTimeout(b),b=null)}n.addEventListener("loadstart",function(){D(),b=setTimeout(function(){!p&&n.readyState<1&&w("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(i){n.addEventListener(i,D)}),n.addEventListener("error",function(){p||w("error-event")}),setTimeout(function(){let i=u?u.getAttribute("src")||"":n.currentSrc||n.src||"";!p&&!i&&w("empty-src")},0)}var ze={};function Xe(){try{let u=new URL(ze.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(u)return u[1]}catch(n){}try{let u=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(u)return u[1]}catch(n){}try{let n=document.querySelector(".player-host[data-player]");if(n){let u=String(n.getAttribute("data-player")||"").trim();if(u)return u}}catch(n){}return"yurtube"}function te(){let n=Xe(),u=`/static/players/${n}`,h=document.querySelectorAll(`.player-host[data-player="${n}"]`);h.length&&fetch(u+"/templates/player.html",{credentials:"same-origin"}).then(p=>p.text()).then(function(p){for(let b=0;b<h.length;b++)$e(h[b],p,u)}).catch(function(){})}function Pe(n,...u){if(n)try{}catch(h){}}function $e(n,u,h){n.innerHTML=u;let p=n.querySelector(".yrp-container"),b=p.querySelector(".yrp-video-wrap"),w=p.querySelector(".yrp-video"),D=w.querySelector("source"),i=n.getAttribute("data-video-src")||"",Z=n.getAttribute("data-poster-url")||"",F=n.getAttribute("data-video-id")||"",$=Dt(n,"data-subtitles",[]),S=Dt(n,"data-options",{}),Y=n.getAttribute("data-sprites-vtt")||"",tt=n.getAttribute("data-caption-vtt")||"",V=n.getAttribute("data-caption-lang")||"",pt=/\byrpdebug=1\b/i.test(location.search)||!!(S&&S.debug),it=(...l)=>Pe(pt,...l);if(D&&D.setAttribute("src",i),Z&&w.setAttribute("poster",Z),S.autoplay&&w.setAttribute("autoplay",""),S.muted&&w.setAttribute("muted",""),S.loop&&w.setAttribute("loop",""),F&&p.setAttribute("data-video-id",F),Y&&p.setAttribute("data-sprites-vtt",Y),w.setAttribute("playsinline",""),Array.isArray($)&&$.forEach(function(l){if(!l||!l.src)return;let g=document.createElement("track");g.setAttribute("kind","captions"),l.srclang&&g.setAttribute("srclang",String(l.srclang)),l.label&&g.setAttribute("label",String(l.label)),g.setAttribute("src",String(l.src)),l.default&&g.setAttribute("default",""),w.appendChild(g)}),tt)try{let l=document.createElement("track");l.setAttribute("kind","captions"),l.setAttribute("src",tt),l.setAttribute("srclang",V||"auto"),l.setAttribute("label",V||"Original"),l.setAttribute("default",""),w.appendChild(l)}catch(l){it("caption append failed",l)}try{w.load(),it("video.load()",{src:i})}catch(l){it("video.load() error",l)}Me(w,D,it);let W=h+"/img/buttons";[["--icon-play","play.svg"],["--icon-pause","pause.svg"],["--icon-prev","prev.svg"],["--icon-next","next.svg"],["--icon-vol","volume.svg"],["--icon-mute","mute.svg"],["--icon-cc","cc.svg"],["--icon-mini","mini.svg"],["--icon-settings","settings.svg"],["--icon-theater","theater.svg"],["--icon-full","full.svg"],["--icon-autoplay-on","autoplay-on.svg"],["--icon-autoplay-off","autoplay-off.svg"],["--icon-shuffle-on","shuffle-on.svg"],["--icon-shuffle-off","shuffle-off.svg"],["--icon-cycle-on","cycle-on.svg"],["--icon-cycle-off","cycle-off.svg"]].forEach(([l,g])=>{p.style.setProperty(l,`url("${W}/${g}")`)}),p.classList.add("yrp-icons-ready");let z=p.querySelector(".yrp-center-logo");z&&z.setAttribute("src",h+"/img/logo.png");let k=document.createElement("div");k.className="yrp-captions-layer",Object.assign(k.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let et=document.createElement("div");et.className="yrp-captions-text",Object.assign(et.style,{display:"inline-block",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:"16px",lineHeight:"1.35",padding:"6px 10px",borderRadius:"6px",maxWidth:"80%",minWidth:"220px",boxShadow:"0 2px 6px rgba(0,0,0,0.35)",whiteSpace:"pre-wrap",wordBreak:"break-word"}),k.appendChild(et),b&&(b.style.position="relative",b.appendChild(k));let B={active:!1,startX:0,startY:0,startLeftPct:50,startTopPct:80},G=!1;function E(){return b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0}}function c(l){let g=E(),P=Math.min(l,g.width-l)*2,U=12,C=220;et.style.maxWidth=Math.max(C,Math.floor(P-U))+"px"}function at(l){let g=l.touches?l.touches[0]:l,P=E(),U=k.getBoundingClientRect();B.startLeftPct=(U.left+U.width/2-P.left)/P.width*100,B.startTopPct=(U.top+U.height/2-P.top)/P.height*100,B.active=!0,B.startX=g.clientX,B.startY=g.clientY,l.preventDefault(),l.stopPropagation()}function yt(l){if(!B.active)return;let g=l.touches?l.touches[0]:l,P=g.clientX-B.startX,U=g.clientY-B.startY,C=E(),J=B.startLeftPct/100*C.width+P,j=B.startTopPct/100*C.height+U,Ut=k.getBoundingClientRect(),jt=Ut.width/2,Kt=Ut.height/2;J=N(J,jt,C.width-jt),j=N(j,Kt,C.height-Kt),k.style.left=J/C.width*100+"%",k.style.top=j/C.height*100+"%",k.style.transform="translate(-50%,-50%)",G=!0,c(J),l.preventDefault(),l.stopPropagation()}function mt(l){B.active&&(B.active=!1,l.preventDefault(),l.stopPropagation())}k.addEventListener("mousedown",at),k.addEventListener("touchstart",at,{passive:!1}),document.addEventListener("mousemove",yt),document.addEventListener("touchmove",yt,{passive:!1}),document.addEventListener("mouseup",mt),document.addEventListener("touchend",mt),k.addEventListener("click",function(l){l.stopPropagation()});function ht(){if(G)return;let l=!p.classList.contains("autohide");k.style.top=l?"78%":"82%",k.style.left="50%",k.style.transform="translate(-50%,-50%)",c(E().width/2)}let nt=0;typeof S.start=="number"&&S.start>0&&(nt=Math.max(0,S.start));try{let g=new URL(window.location.href).searchParams.get("t");if(g!=null){let P=parseInt(String(g).trim(),10);isFinite(P)&&P>0&&(nt=Math.max(nt,P))}}catch(l){}Ye(p,nt,pt,{overlay:k,textBox:et,autoAdjust:ht},nt,h)}function Ye(n,u,h,p,b,w){let D=(...t)=>Pe(h,...t),i=n.querySelector(".yrp-video"),Z=n.querySelector(".yrp-center-play"),F=n.querySelector(".yrp-play"),$=n.querySelector(".yrp-prev"),S=n.querySelector(".yrp-next"),Y=n.querySelector(".yrp-vol-btn"),tt=n.querySelector(".yrp-volume"),V=n.querySelector(".yrp-vol-slider"),pt=n.querySelector(".yrp-time-current"),it=n.querySelector(".yrp-time-total"),W=n.querySelector(".yrp-progress"),z=n.querySelector(".yrp-progress-rail"),k=n.querySelector(".yrp-progress-buffer"),et=n.querySelector(".yrp-progress-played"),B=n.querySelector(".yrp-progress-handle"),G=n.querySelector(".yrp-progress-tooltip"),E=n.querySelector(".yrp-settings"),c=n.querySelector(".yrp-menu"),at=n.querySelector(".yrp-theater"),yt=n.querySelector(".yrp-fullscreen"),mt=n.querySelector(".yrp-pip"),ht=n.querySelector(".yrp-left"),nt=n.querySelector(".yrp-right"),l=n.querySelector(".yrp-autoplay"),g=n.querySelector(".yrp-subtitles"),P=null,U=!1,C=0,J=!1,j=!1,Ut=!1,jt=!1,Kt=!1,Ge=null,ee=!!O("autoplay",!1),st=n.getAttribute("data-sprites-vtt")||"",Ct=[],Vt=0,Q=null,Et=!1,At=!1,K=!0,ot=0,ne=function(){try{return String(localStorage.getItem("subtitle_lang")||"")}catch(t){return""}}(),Wt=function(){try{return parseFloat(localStorage.getItem("playback_speed")||"")}catch(t){return NaN}}(),L="main",Ht="",gt=0,re=!1;function vt(){try{return i.textTracks?Array.prototype.filter.call(i.textTracks,function(t){return t.kind==="subtitles"||t.kind==="captions"}):[]}catch(t){return[]}}function Mt(){return vt().length>0}function _t(){let t=vt();return t.length===0?null:((ot<0||ot>=t.length)&&(ot=0),t[ot])}function Pt(){vt().forEach(function(e,a){e.mode=a===ot&&K?"hidden":"disabled"}),be("applyPageModes")}function Te(){let t=_t();if(!t||!t.cues)return"";let e=i.currentTime||0;for(let a=0;a<t.cues.length;a++){let r=t.cues[a];if(e>=r.startTime&&e<=r.endTime)return(r.text||"").replace(/\r/g,"")}return""}function bt(){!p||!p.textBox||(p.textBox.textContent=K?Te():"")}function ie(){return vt().map(function(e,a){var r=(e.language||"").toLowerCase(),s=String(e.label||r||"Lang "+(a+1));return{index:a,lang:r,label:s}})}function ae(t){let e=String(t||"").toLowerCase(),a=ie();for(var r=0;r<a.length;r++)if(a[r].lang===e||a[r].label.toLowerCase()===e)return a[r].index;return-1}function qe(t){let e=ae(t);if(e>=0){ot=e,K=!0,Pt(),bt();try{localStorage.setItem("subtitle_lang",String(t||""))}catch(a){}ut&&ut()}}function se(t){K=!!t,Pt(),bt(),ut&&ut()}function oe(){c&&(Ht||(Ht=c.innerHTML||""))}function xt(){if(c&&!(gt>0))try{let t=c.getBoundingClientRect();gt=Math.ceil(t.height||0),gt>0&&(c.style.minHeight=gt+"px")}catch(t){}}function ct(){c&&(gt=0,c.style.minHeight="")}function lt(t){try{t.style.background="transparent",t.style.backgroundColor="transparent",t.style.border="none",t.style.boxShadow="none",t.style.color="inherit",t.style.textAlign="left",t.style.width="100%",t.style.display="block"}catch(e){}}function Xt(t){lt(t);try{t.style.background="rgba(255,255,255,0.12)",t.style.backgroundColor="rgba(255,255,255,0.12)",t.style.borderRadius="4px",t.style.fontWeight="700",t.style.marginBottom="6px",t.style.paddingLeft="8px",t.style.paddingRight="8px"}catch(e){}}function Ie(t){try{t.classList.add("has-submenu")}catch(e){}}function Be(){if(c)try{let t=c.querySelector('.yrp-menu-section[data-section="quality"]');if(!t)return;let e=t.querySelector(".yrp-menu-title");if(e&&e.parentNode&&e.parentNode.removeChild(e),t.querySelector(".yrp-menu-item.quality-future"))return;let a=document.createElement("button");a.type="button",a.className="yrp-menu-item quality-future",a.textContent="Quality (future)",a.disabled=!0,lt(a),a.style.opacity="0.75",t.appendChild(a)}catch(t){}}function Re(){if(c)try{let t=c.querySelector('.yrp-menu-section[data-section="subtitles"]');t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}}function $t(){if(c){oe(),c.innerHTML=Ht,L="main";try{let t=c.querySelector('.yrp-menu-section[data-section="speed"]');t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}Re(),Be(),Oe(),Ne(),De()}}function Yt(t,e,a={}){if(!c)return null;let r=c.querySelector(".yrp-menu-section")||null,s=document.createElement("button");return s.type="button",s.className="yrp-menu-item",s.setAttribute("data-action",e),s.textContent=t,lt(s),a&&a.disabled===!0&&(s.disabled=!0,s.style.opacity="0.6"),a&&a.hasSubmenu===!0&&Ie(s),r&&r.parentNode===c?c.insertBefore(s,r):c.appendChild(s),s}function Ne(){c&&(c.querySelector('.yrp-menu-item[data-action="open-langs"]')||Yt("Languages","open-langs",{hasSubmenu:!0}))}function Oe(){c&&(c.querySelector('.yrp-menu-item[data-action="open-speed"]')||Yt("Speed","open-speed",{hasSubmenu:!0}))}function De(){if(!c||c.querySelector('.yrp-menu-item[data-action="open-subs"]'))return;let t=Mt(),e=Yt("Subtitles","open-subs",{hasSubmenu:!0,disabled:!t});e&&!t&&(e.title="No subtitles tracks")}function Fe(t){let e=document.createElement("div");return e.className="yrp-menu-scroll",Object.assign(e.style,{overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100% - 40px)",paddingRight:"2px"}),e}function ce(){if(!c)return;for(L="langs";c.firstChild;)c.removeChild(c.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",Xt(t),c.appendChild(t);let e=Fe(t);c.appendChild(e);let a=ie(),r=_t(),s=r&&r.language?String(r.language).toLowerCase():"",f=a.slice().sort(function(y,o){let m=(y.lang||"").toLowerCase(),v=(o.lang||"").toLowerCase();return m==="auto"&&v!=="auto"?-1:v==="auto"&&m!=="auto"?1:(y.label||"").localeCompare(o.label||"")});if(f.forEach(function(y){let o=document.createElement("button");o.type="button",o.className="yrp-menu-item",o.setAttribute("data-action","select-lang"),o.setAttribute("data-lang",y.lang||""),o.textContent=y.label+(y.lang===s?" \u2713":""),lt(o),e.appendChild(o)}),!f.length){let y=document.createElement("div");y.className="yrp-menu-title",y.style.marginTop="6px",y.style.fontSize="12px",y.style.opacity="0.8",y.textContent="No subtitles tracks",e.appendChild(y)}}function Ue(){return[.5,.75,1,1.25,1.5,2]}function le(t){let e=parseFloat(String(t));if(!(!isFinite(e)||e<=0)){i.playbackRate=e;try{localStorage.setItem("playback_speed",String(e))}catch(a){}}}function ue(){if(!c)return;for(L="speed";c.firstChild;)c.removeChild(c.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",Xt(t),c.appendChild(t);let e=isFinite(i.playbackRate)?i.playbackRate:1;Ue().forEach(function(a){let r=document.createElement("button");r.type="button",r.className="yrp-menu-item",r.setAttribute("data-action","set-speed"),r.setAttribute("data-speed",String(a)),r.textContent=(a===1?"1.0x":String(a)+"x")+(Math.abs(a-e)<.001?" \u2713":""),lt(r),c.appendChild(r)})}function de(){if(!c)return;for(L="subs";c.firstChild;)c.removeChild(c.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",Xt(t),c.appendChild(t);let e=document.createElement("button");e.type="button",e.className="yrp-menu-item",e.setAttribute("data-action","subs-on"),e.textContent="On"+(K?" \u2713":""),lt(e),c.appendChild(e);let a=document.createElement("button");a.type="button",a.className="yrp-menu-item",a.setAttribute("data-action","subs-off"),a.textContent="Off"+(K?"":" \u2713"),lt(a),c.appendChild(a)}function fe(t,e,a,r,s){let f=r?e:a,o=getComputedStyle(n).getPropertyValue(f)||n.style.getPropertyValue(f)||"",m=String(o).match(/url\(["']?([^"')]+)["']?\)/i);if(!(m&&m[1]?m[1]:null)){t.style.webkitMaskImage="",t.style.maskImage="",t.textContent=s,t.style.backgroundColor="transparent",t.style.color="var(--yrp-icon-color)",t.style.textIndent="0",t.dataset.maskApplied="0";return}t.textContent="";let x=`var(${f})`;t.style.webkitMaskImage=x,t.style.maskImage=x,t.style.backgroundColor="var(--yrp-icon-color)",t.style.color="",t.style.textIndent="-9999px",t.dataset.maskApplied="1"}function je(){return Q||(W?(Q=document.createElement("div"),Object.assign(Q.style,{position:"absolute",display:"none",bottom:"calc(100% + 30px)",left:"0",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),Q.className="yrp-sprite-pop",getComputedStyle(W).position==="static"&&(W.style.position="relative"),W.appendChild(Q),Q):null)}function pe(t){let e=String(t||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);return e?parseInt(e[1],10)*3600+parseInt(e[2],10)*60+parseFloat(e[3]):0}function Ke(t){if(!t)return"";try{let e=new URL(st,window.location.href);return new URL(t,e).href}catch(e){return t}}function ye(){if(!st||Et||At)return;let t="";try{t=new URL(st,window.location.href).href}catch(e){t=st}fetch(t,{credentials:"same-origin"}).then(e=>e.text()).then(function(e){let a=e.split(/\r?\n/);for(let r=0;r<a.length;r++){let s=a[r].trim();if(s&&s.indexOf("-->")>=0){let f=s.split("-->").map(H=>H.trim());if(f.length<2)continue;let y=pe(f[0]),o=pe(f[1]),m=(a[r+1]||"").trim(),v="",x=0,A=0,dt=0,Rt=0,ft=m.indexOf("#xywh=");if(ft>0){v=m.substring(0,ft);let H=m.substring(ft+6).split(",");H.length===4&&(x=parseInt(H[0],10),A=parseInt(H[1],10),dt=parseInt(H[2],10),Rt=parseInt(H[3],10))}else v=m||"";let St=Ke(v);Ct.push({start:y,end:o,spriteUrl:St,x,y:A,w:dt,h:Rt}),o>Vt&&(Vt=o),r++}}Et=!0}).catch(function(){At=!0})}function Ve(t){if(!st||!Ct.length||!z)return;let e=z.getBoundingClientRect(),a=N(t-e.left,0,e.width),r=e.width>0?a/e.width:0,s=(C||Vt||0)*r,f=null;for(let v=0;v<Ct.length;v++){let x=Ct[v];if(s>=x.start&&s<x.end){f=x;break}}let y=je();if(!y)return;if(!f||!f.spriteUrl||f.w<=0||f.h<=0){y.style.display="none";return}for(;y.firstChild;)y.removeChild(y.firstChild);let o=document.createElement("img");Object.assign(o.style,{position:"absolute",left:-f.x+"px",top:-f.y+"px"}),o.src=f.spriteUrl,y.appendChild(o),y.style.display="block";let m=N(a-f.w/2,0,e.width-f.w);y.style.left=m+"px",y.style.width=f.w+"px",y.style.height=f.h+"px"}function me(){if(!l)return;let t=ee;l.setAttribute("aria-pressed",t?"true":"false"),l.title=t?"Autoplay on (A)":"Autoplay off (A)",l.textContent="";let e=t?"var(--icon-autoplay-on)":"var(--icon-autoplay-off)";Object.assign(l.style,{backgroundColor:"currentColor",webkitMaskImage:e,maskImage:e,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px",opacity:t?"1":"0.6"})}function zt(){if(!F)return;let t=!i.paused;F.classList.toggle("icon-play",!t),F.classList.toggle("icon-pause",t),F.setAttribute("aria-label",t?"Pause (Space, K)":"Play (Space, K)"),F.title=t?"Pause (Space, K)":"Play (Space, K)",F.textContent="";let e=t?"var(--icon-pause)":"var(--icon-play)";Object.assign(F.style,{backgroundColor:"currentColor",webkitMaskImage:e,maskImage:e,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px"})}function ut(){if(!g)return;let t=Mt();g.disabled=!t,g.style.visibility=t?"visible":"hidden",g.classList.toggle("no-tracks",!t),g.classList.toggle("has-tracks",t),g.classList.toggle("active",t&&K),g.classList.toggle("disabled-track",t&&!K),g.setAttribute("aria-pressed",K?"true":"false")}function Gt(t){P&&clearTimeout(P),P=setTimeout(function(){n.classList.add("autohide"),p&&p.autoAdjust&&p.autoAdjust()},Math.max(0,t||1200))}function R(){n.classList.remove("autohide"),p&&p.autoAdjust&&p.autoAdjust(),Gt(2e3)}function he(){try{C=isFinite(i.duration)?i.duration:0}catch(t){C=0}it&&(it.textContent=Ot(C)),pt&&(pt.textContent=Ot(i.currentTime||0))}function Jt(){let t=C||0,e=i.currentTime||0,a=t>0?N(e/t,0,1):0;et&&(et.style.width=(a*100).toFixed(3)+"%"),B&&(B.style.left=(a*100).toFixed(3)+"%");let r=0;if(i.buffered&&i.buffered.length>0)try{r=i.buffered.end(i.buffered.length-1)}catch(f){r=0}let s=t>0?N(r/t,0,1):0;k&&(k.style.width=(s*100).toFixed(3)+"%")}function Tt(){i.paused?i.play().catch(()=>{}):i.pause()}function ge(){i.muted=!i.muted,wt()}function wt(){let t=i.muted?0:i.volume,e=i.muted||t===0?"Mute":"Vol";Y&&(Y.textContent=e,Y.classList.toggle("icon-mute",e==="Mute"),Y.classList.toggle("icon-vol",e!=="Mute"))}function ve(t){if(!z)return;let e=z.getBoundingClientRect(),a=N(t-e.left,0,e.width),r=e.width>0?a/e.width:0;i.currentTime=(C||0)*r}function We(t){if(!G||!z)return;let e=z.getBoundingClientRect(),a=N(t-e.left,0,e.width),r=e.width>0?a/e.width:0,s=(C||0)*r;G.textContent=Ot(s),G.style.left=(r*100).toFixed(3)+"%",G.hidden=!1}(function(){let e=n.getAttribute("data-video-id")||"";if(!e)return;if(b>0){try{let o=O("resume",{});o&&o[e]&&(delete o[e],X("resume",o))}catch(o){}return}let a=O("resume",{}),r=a[e],s=Date.now();function f(o){let m=isFinite(i.duration)?i.duration:0;if(m&&o>10&&o<m-5)try{i.currentTime=o}catch(v){}}if(r&&typeof r.t=="number"&&s-(r.ts||0)<180*24*3600*1e3){let o=Math.max(0,r.t|0);isFinite(i.duration)&&i.duration>0?f(o):i.addEventListener("loadedmetadata",function m(){i.removeEventListener("loadedmetadata",m),f(o)})}let y=Le(function(){let o=isFinite(i.duration)?i.duration:0,m=Math.max(0,Math.floor(i.currentTime||0)),v=O("resume",{});v[e]={t:m,ts:Date.now(),d:o};let x=Object.keys(v);if(x.length>200){x.sort((A,dt)=>(v[A].ts||0)-(v[dt].ts||0));for(let A=0;A<x.length-200;A++)delete v[x[A]]}X("resume",v)},3e3);i.addEventListener("timeupdate",function(){!i.paused&&!i.seeking&&y()}),i.addEventListener("ended",function(){let o=O("resume",{});delete o[e],X("resume",o)})})(),function(){function e(r){n.classList.toggle("yrp-theater",r);try{if(typeof window.setTheater=="function")window.setTheater(r);else{let s=n.closest(".watch-layout")||document.querySelector(".watch-layout");s&&(s.classList.toggle("theater-mode",r),typeof window.relocateUpNext=="function"&&window.relocateUpNext())}}catch(s){}r?(n.style.maxWidth="",n.style.minWidth="",n.style.width=""):qt()}!!O("theater",!1)&&e(!0),at&&at.addEventListener("click",function(){let r=!n.classList.contains("yrp-theater");e(r),X("theater",r),R()})}(),i.addEventListener("loadedmetadata",function(){if(u>0)try{i.currentTime=Math.min(u,Math.floor(i.duration||u))}catch(r){}if(setTimeout(qt,0),he(),Jt(),wt(),me(),zt(),ne){let r=ae(ne);r>=0&&(ot=r)}isFinite(Wt)&&Wt>0&&le(Wt),_t(),Pt(),ut(),Gt(1200),ye(),bt();let t=n.querySelector(".yrp-video-wrap").getBoundingClientRect(),e=t.width/2,a=n.querySelector(".yrp-captions-text");if(a){let r=Math.min(e,t.width-e)*2,s=12,f=220;a.style.maxWidth=Math.max(f,Math.floor(r-s))+"px"}be("after loadedmetadata"),c&&!c.hidden&&(L==="main"?$t():L==="langs"?ce():L==="speed"?ue():L==="subs"&&de())});function be(t){let a=vt().map(function(r,s){return{i:s,mode:r.mode,label:r.label,srclang:r.language||r.srclang,cues:r.cues?r.cues.length:0,kind:r.kind}});D(t,a)}function qt(){if(n.classList.contains("yrp-theater"))return;let t=getComputedStyle(i),e=ke(t.getPropertyValue("max-height"))||i.clientHeight||0,a=i.videoWidth||16,r=i.videoHeight||9,s=r>0?a/r:16/9,f=Math.min(e||i.clientHeight||0,window.innerHeight*.9);if(!f||!isFinite(f))return;let y=Math.floor(f*s),o=Math.floor(window.innerWidth*.95),m=He(),v=Math.max(m,Math.min(y,o));n.style.maxWidth=v+"px",n.style.minWidth=m+"px",n.style.width="100%"}function He(){let t=ht?ht.getBoundingClientRect().width:0,e=nt?nt.getBoundingClientRect().width:0,r=Math.ceil(t+e+24);return!isFinite(r)||r<=0?480:r}(function(){let e=n.closest(".player-host")||n,a=Dt(e,"data-options",null);function r(){return a&&a.autoplay===!0?!0:!!O("autoplay",!1)}if(!r()){setTimeout(function(){Gt(1e3)},0);return}function s(){let o=null;try{o=i.play()}catch(m){o=null}o&&typeof o.then=="function"?o.then(function(){}).catch(function(){if(!i.muted){j=!0,i.muted=!0,i.setAttribute("muted","");try{i.play().catch(function(){})}catch(m){}}}):setTimeout(function(){if(i.paused){j=!0,i.muted=!0,i.setAttribute("muted","");try{i.play().catch(function(){})}catch(m){}}},0)}let f=!1;function y(){f||(f=!0,s())}i.readyState>=1&&y(),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(o){let m=function(){i.removeEventListener(o,m),y()};i.addEventListener(o,m)}),setTimeout(function(){if(i.paused){j=!0,i.muted=!0,i.setAttribute("muted","");try{i.play().catch(function(){})}catch(o){}}},1200)})(),window.addEventListener("resize",qt),i.addEventListener("timeupdate",function(){he(),Jt(),bt()}),i.addEventListener("progress",Jt),i.addEventListener("play",function(){n.classList.add("playing"),zt(),R()}),i.addEventListener("pause",function(){n.classList.remove("playing"),zt(),R()});function Qt(){!document.pictureInPictureEnabled||!i.requestPictureInPicture||i.disablePictureInPicture||(document.pictureInPictureElement===i?document.exitPictureInPicture().catch(function(){}):i.requestPictureInPicture().catch(function(){}))}i.addEventListener("click",Tt),Z&&Z.addEventListener("click",Tt),F&&F.addEventListener("click",Tt),$&&$.addEventListener("click",function(){n.dispatchEvent(new CustomEvent("yrp-prev",{bubbles:!0}))}),S&&S.addEventListener("click",function(){n.dispatchEvent(new CustomEvent("yrp-next",{bubbles:!0}))}),function(){var e=new URL(window.location.href),a=e.searchParams.get("p"),r=e.searchParams.get("v")||n.getAttribute("data-video-id")||"";if(a)$&&($.style.display=""),S&&(S.style.display="");else{$&&($.style.display="none"),S&&(S.style.display="none");var s=n.querySelector(".yrp-shuffle"),f=n.querySelector(".yrp-cycle");s&&(s.style.display="none"),f&&(f.style.display="none");return}function y(){var d=[],q=document.querySelector("#upnext-block .rb-list"),I=document.querySelector("#panel-upnext .upnext-list"),_=[];return q?_=q.querySelectorAll("a.rb-item[href*='/watch']"):I&&(_=I.querySelectorAll("a.rb-item[href*='/watch']")),_.forEach(function(Lt){var Nt=Lt.getAttribute("href")||"",Zt=Nt.match(/[?&]v=([^&]+)/);Zt&&Zt[1]&&d.push(decodeURIComponent(Zt[1]))}),d}var o=y();if(!o||o.length===0)return;var m=o.indexOf(r);m<0&&(m=0);function v(d){return"pl:"+a+":"+d}var x=function(){var d=O(v("order"),"direct");return d==="shuffle"?"shuffle":"direct"}(),A=function(){var d=O(v("cycle"),"0");return d===!0||d==="1"}();function dt(d){x=d==="shuffle"?"shuffle":"direct",X(v("order"),x),we()}function Rt(d){A=!!d,X(v("cycle"),A?"1":"0"),Se()}function ft(d){if(o.length<=1)return d;for(var q=0,I=d;q<6&&I===d;)I=Math.floor(Math.random()*o.length),q++;return I===d&&(I=(d+1)%o.length),I}function St(){if(x==="shuffle")return ft(m);var d=m+1;return d>=o.length?A?0:-1:d}function H(){if(x==="shuffle")return ft(m);var d=m-1;return d<0?A?o.length-1:-1:d}function kt(d){d=Math.max(0,Math.min(o.length-1,d));var q=o[d];if(q){try{var I=O("resume",{});I&&I[q]&&(delete I[q],X("resume",I))}catch(Lt){}var _=new URL(window.location.href);_.searchParams.set("v",q),_.searchParams.set("p",a),window.location.href=_.toString()}}n.addEventListener("yrp-prev",function(){var d=H();d>=0&&kt(d)}),n.addEventListener("yrp-next",function(){var d=St();d>=0&&kt(d)});var M=n.querySelector(".yrp-shuffle"),T=n.querySelector(".yrp-cycle");M||(M=document.createElement("button"),M.type="button",M.className="yrp-btn yrp-shuffle",M.title="Shuffle playlist",M.setAttribute("aria-label","Shuffle playlist"),Object.assign(M.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginLeft:"6px",marginRight:"2px"})),T||(T=document.createElement("button"),T.type="button",T.className="yrp-btn yrp-cycle",T.title="Cycle playlist",T.setAttribute("aria-label","Cycle playlist"),Object.assign(T.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginRight:"8px"})),M.dataset.forceEmoji="0",T.dataset.forceEmoji="0";function we(){M.setAttribute("aria-pressed",x==="shuffle"?"true":"false"),fe(M,"--icon-shuffle-on","--icon-shuffle-off",x==="shuffle","\u{1F500}"),M.style.opacity=x==="shuffle"?"1":"0.55",M.style.display=""}function Se(){T.setAttribute("aria-pressed",A?"true":"false"),fe(T,"--icon-cycle-on","--icon-cycle-off",!!A,"\u{1F501}"),T.style.opacity=A?"1":"0.55",T.style.display=""}we(),Se(),M.addEventListener("click",function(){dt(x==="shuffle"?"direct":"shuffle")}),T.addEventListener("click",function(){Rt(!A)});try{var rt=ht||S&&S.parentNode||n;tt&&rt?(rt.insertBefore(M,tt),rt.insertBefore(T,tt)):S&&rt?(rt.insertBefore(M,S.nextSibling),rt.insertBefore(T,M.nextSibling)):(rt.appendChild(M),rt.appendChild(T))}catch(d){}i.addEventListener("ended",function(){var d=St();d>=0&&kt(d)}),document.addEventListener("keydown",function(d){var q=d.target,I=q&&q.tagName?q.tagName.toUpperCase():"";if(!(q&&(q.isContentEditable||I==="INPUT"||I==="TEXTAREA"))&&!(d.ctrlKey||d.metaKey||d.altKey)){var _=d.code||"";if(_==="PageUp"){d.preventDefault();var Lt=H();Lt>=0&&kt(Lt)}else if(_==="PageDown"){d.preventDefault();var Nt=St();Nt>=0&&kt(Nt)}}})}(),Y&&Y.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),J=!0,j=!1,ge(),R(),n.classList.add("vol-open"),setTimeout(function(){n.classList.remove("vol-open")},1200)}),tt&&tt.addEventListener("wheel",function(t){t.preventDefault(),J=!0,j=!1;let e=.05,a=i.muted?0:i.volume,r=N(a+(t.deltaY<0?e:-e),0,1);i.volume=r,r>0&&(i.muted=!1),V&&(V.value=String(r)),wt(),R()},{passive:!1}),V&&(V.addEventListener("input",function(){J=!0,j=!1;let t=parseFloat(V.value||"1");isFinite(t)||(t=1),t=N(t,0,1),i.volume=t,t>0&&(i.muted=!1),wt()}),V.addEventListener("wheel",function(t){t.preventDefault(),J=!0,j=!1;let e=.05,a=i.muted?0:i.volume,r=N(a+(t.deltaY<0?e:-e),0,1);i.volume=r,r>0&&(i.muted=!1),V.value=String(r),wt(),R()},{passive:!1})),W&&(W.addEventListener("mousedown",function(t){U=!0,It(),ve(t.clientX)}),window.addEventListener("mousemove",function(t){U&&ve(t.clientX)}),window.addEventListener("mouseup",function(){U=!1}),W.addEventListener("mousemove",function(t){We(t.clientX),st&&Et&&!At?Ve(t.clientX):st&&!Et&&!At&&ye()}),W.addEventListener("mouseleave",function(){G&&(G.hidden=!0),Q&&(Q.style.display="none")}));function It(){c&&(c.hidden=!0,E&&E.setAttribute("aria-expanded","false"));let t=n.querySelector(".yrp-context");t&&(t.hidden=!0),n.classList.remove("vol-open"),L="main",ct()}E&&c&&(oe(),re||(re=!0,E.addEventListener("click",function(t){!c.hidden?(c.hidden=!0,E.setAttribute("aria-expanded","false"),L="main",ct()):(It(),$t(),c.hidden=!1,E.setAttribute("aria-expanded","true"),xt()),t.stopPropagation(),n.classList.add("vol-open"),R()}),c.addEventListener("click",function(t){let e=t.target&&t.target.closest?t.target.closest(".yrp-menu-item"):null;if(!e||!c.contains(e))return;let a=e.getAttribute("data-action")||"",r=e.getAttribute("data-lang")||"";if(L==="main"){if(a==="open-langs"){t.preventDefault(),t.stopPropagation(),ce(),xt(),n.classList.add("vol-open"),R();return}if(a==="open-speed"){t.preventDefault(),t.stopPropagation(),ue(),xt(),n.classList.add("vol-open"),R();return}if(a==="open-subs"){if(t.preventDefault(),t.stopPropagation(),!Mt())return;de(),xt(),n.classList.add("vol-open"),R();return}return}if(a==="back"){t.preventDefault(),t.stopPropagation(),$t(),xt(),n.classList.add("vol-open"),R();return}if(L==="langs"&&a==="select-lang"&&r){t.preventDefault(),t.stopPropagation(),qe(r),c.hidden=!0,E.setAttribute("aria-expanded","false"),L="main",ct();return}if(L==="speed"&&a==="set-speed"){let s=parseFloat(e.getAttribute("data-speed")||"NaN");if(!isNaN(s)){t.preventDefault(),t.stopPropagation(),le(s),c.hidden=!0,E.setAttribute("aria-expanded","false"),L="main",ct();return}}if(L==="subs"){if(a==="subs-on"){t.preventDefault(),t.stopPropagation(),se(!0),c.hidden=!0,E.setAttribute("aria-expanded","false"),L="main",ct();return}if(a==="subs-off"){t.preventDefault(),t.stopPropagation(),se(!1),c.hidden=!0,E.setAttribute("aria-expanded","false"),L="main",ct();return}}}),document.addEventListener("click",function(t){!c.hidden&&!c.contains(t.target)&&t.target!==E&&(c.hidden=!0,E.setAttribute("aria-expanded","false"),L="main",ct())}))),yt&&yt.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):n.requestFullscreen&&n.requestFullscreen().catch(function(){})}),mt&&mt.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),Qt()}),l&&l.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();let e=!O("autoplay",!1);X("autoplay",e),ee=e,me()}),g&&g.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),Mt()&&(K=!K,Pt(),bt(),ut())}),n.addEventListener("contextmenu",function(t){t.preventDefault(),It();let e=n.querySelector(".yrp-context");if(!e)return;let a=n.getBoundingClientRect();e.style.left=t.clientX-a.left+"px",e.style.top=t.clientY-a.top+"px",e.hidden=!1,e.onclick=function(r){let s=r.target&&r.target.getAttribute("data-action"),f=Math.floor(i.currentTime||0),y=n.getAttribute("data-video-id")||"";if(s==="pip")Qt();else if(s==="copy-url"){let o=new URL(window.location.href);o.searchParams.delete("t"),Ft(o.toString())}else if(s==="copy-url-time"){let o=new URL(window.location.href);o.searchParams.set("t",String(f)),Ft(o.toString())}else if(s==="copy-embed"){let m=`<iframe width="560" height="315" src="${(window.location.origin||"")+"/embed?v="+encodeURIComponent(y||"")}" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>`;Ft(m)}e.hidden=!0},document.addEventListener("click",function(r){let s=n.querySelector(".yrp-context");s&&!s.hidden&&!s.contains(r.target)&&(s.hidden=!0)},{once:!0}),document.addEventListener("keydown",function r(s){if(s.code==="Escape"||(s.key||"").toLowerCase()==="escape"){let f=n.querySelector(".yrp-context");f&&!f.hidden&&(f.hidden=!0),document.removeEventListener("keydown",r)}})});function Bt(t){let e=n.getBoundingClientRect();t.clientX>=e.left&&t.clientX<=e.right&&t.clientY>=e.top&&t.clientY<=e.bottom&&R()}document.addEventListener("mousemove",Bt,{passive:!0}),document.addEventListener("pointermove",Bt,{passive:!0}),["mousemove","pointermove","mouseenter","mouseover","touchstart"].forEach(function(t){n.addEventListener(t,function(){try{n.focus()}catch(e){}R()},{passive:!0}),i&&i.addEventListener(t,R,{passive:!0}),Z&&Z.addEventListener(t,R,{passive:!0})});function xe(){try{document.fullscreenElement===n&&(document.addEventListener("mousemove",Bt,{passive:!0}),document.addEventListener("pointermove",Bt,{passive:!0}))}catch(t){}}document.addEventListener("fullscreenchange",xe),xe();function _e(t){let e=t.target,a=e&&e.tagName?e.tagName.toUpperCase():"";if(e&&(e.isContentEditable||a==="INPUT"||a==="TEXTAREA")||t.ctrlKey||t.metaKey||t.altKey)return;let r=t.code,s=(t.key||"").toLowerCase();if(r==="Space"||r==="Enter"||r==="NumpadEnter"||r==="MediaPlayPause"||r==="KeyK"||s==="k"){Tt(),t.preventDefault();return}if(r==="ArrowLeft"||s==="arrowleft"||r==="KeyJ"||s==="j"){i.currentTime=N((i.currentTime||0)-5,0,C||0),t.preventDefault();return}if(r==="ArrowRight"||s==="arrowright"||r==="KeyL"||s==="l"){i.currentTime=N((i.currentTime||0)+5,0,C||0),t.preventDefault();return}if(r==="KeyM"||s==="m"){ge(),t.preventDefault();return}if(r==="KeyF"||s==="f"){document.fullscreenElement?document.exitFullscreen().catch(function(){}):n.requestFullscreen&&n.requestFullscreen().catch(function(){}),t.preventDefault();return}if(r==="KeyT"||s==="t"){at&&at.click(),t.preventDefault();return}if(r==="KeyI"||s==="i"){Qt(),t.preventDefault();return}if(r==="KeyA"||s==="a"){l&&l.click(),t.preventDefault();return}if(r==="KeyC"||s==="c"){g&&!g.disabled&&g.click(),t.preventDefault();return}if(r==="Escape"||s==="escape"){It();return}}document.addEventListener("keydown",_e),setTimeout(qt,200)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",te):te();})();
