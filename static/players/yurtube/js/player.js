(()=>{function Ct(e){(!isFinite(e)||e<0)&&(e=0),e=Math.floor(e);let l=Math.floor(e/3600),y=Math.floor(e%3600/60),f=e%60,m=w=>(w<10?"0":"")+w;return l>0?`${l}:${m(y)}:${m(f)}`:`${y}:${m(f)}`}function I(e,l,y){return e<l?l:e>y?y:e}function re(e){let l=parseFloat(String(e||"").trim());return isFinite(l)?l:0}function ie(e,l){let y=0,f=!1,m=null;return function(...w){m=w;let B=Date.now();!y||B-y>=l?(y=B,e.apply(null,m)):f||(f=!0,setTimeout(()=>{f=!1,e.apply(null,m)},l-(B-y)))}}function Pt(e,l,y){let f=e.getAttribute(l);if(!f)return y;try{return JSON.parse(f)}catch(m){return y}}function Tt(e){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).catch(function(){});else{let l=document.createElement("textarea");l.value=e,l.style.position="fixed",l.style.left="-9999px",document.body.appendChild(l),l.select();try{document.execCommand("copy")}catch(y){}document.body.removeChild(l)}}var ae="yrp:";function se(){try{return localStorage.setItem("__t","1"),localStorage.removeItem("__t"),!0}catch(e){return!1}}function O(e,l){if(!se())return l;try{let y=localStorage.getItem(ae+e);return y?JSON.parse(y):l}catch(y){return l}}function X(e,l){if(se())try{localStorage.setItem(ae+e,JSON.stringify(l))}catch(y){}}var ce="/static/img/fallback_video_notfound.gif";function oe(e,l,y){let f=!1,m=null;function w(r){if(!f){f=!0,y&&y("fallback: applying",r);try{l?l.setAttribute("src",ce):e.src=ce,e.load()}catch(J){}}}function B(){m&&(clearTimeout(m),m=null)}e.addEventListener("loadstart",function(){B(),m=setTimeout(function(){!f&&e.readyState<1&&w("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(r){e.addEventListener(r,B)}),e.addEventListener("error",function(){f||w("error-event")}),setTimeout(function(){let r=l?l.getAttribute("src")||"":e.currentSrc||e.src||"";!f&&!r&&w("empty-src")},0)}var we={};function ge(){try{let l=new URL(we.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(l)return l[1]}catch(e){}try{let l=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(l)return l[1]}catch(e){}try{let e=document.querySelector(".player-host[data-player]");if(e){let l=String(e.getAttribute("data-player")||"").trim();if(l)return l}}catch(e){}return"yurtube"}function Kt(){let e=ge(),l=`/static/players/${e}`,y=document.querySelectorAll(`.player-host[data-player="${e}"]`);y.length&&fetch(l+"/templates/player.html",{credentials:"same-origin"}).then(f=>f.text()).then(function(f){for(let m=0;m<y.length;m++)ve(y[m],f,l)}).catch(function(){})}function le(e,...l){if(e)try{}catch(y){}}function ve(e,l,y){e.innerHTML=l;let f=e.querySelector(".yrp-container"),m=f.querySelector(".yrp-video-wrap"),w=f.querySelector(".yrp-video"),B=w.querySelector("source"),r=e.getAttribute("data-video-src")||"",J=e.getAttribute("data-poster-url")||"",D=e.getAttribute("data-video-id")||"",$=Pt(e,"data-subtitles",[]),x=Pt(e,"data-options",{}),H=e.getAttribute("data-sprites-vtt")||"",Q=e.getAttribute("data-caption-vtt")||"",K=e.getAttribute("data-caption-lang")||"",ot=/\byrpdebug=1\b/i.test(location.search)||!!(x&&x.debug),nt=(...a)=>le(ot,...a);if(B&&B.setAttribute("src",r),J&&w.setAttribute("poster",J),x.autoplay&&w.setAttribute("autoplay",""),x.muted&&w.setAttribute("muted",""),x.loop&&w.setAttribute("loop",""),D&&f.setAttribute("data-video-id",D),H&&f.setAttribute("data-sprites-vtt",H),w.setAttribute("playsinline",""),Array.isArray($)&&$.forEach(function(a){if(!a||!a.src)return;let h=document.createElement("track");h.setAttribute("kind","captions"),a.srclang&&h.setAttribute("srclang",String(a.srclang)),a.label&&h.setAttribute("label",String(a.label)),h.setAttribute("src",String(a.src)),a.default&&h.setAttribute("default",""),w.appendChild(h)}),Q)try{let a=document.createElement("track");a.setAttribute("kind","captions"),a.setAttribute("src",Q),a.setAttribute("srclang",K||"auto"),a.setAttribute("label",K||"Original"),a.setAttribute("default",""),w.appendChild(a)}catch(a){nt("caption append failed",a)}try{w.load(),nt("video.load()",{src:r})}catch(a){nt("video.load() error",a)}oe(w,B,nt);let j=y+"/img/buttons";[["--icon-play","play.svg"],["--icon-pause","pause.svg"],["--icon-prev","prev.svg"],["--icon-next","next.svg"],["--icon-vol","volume.svg"],["--icon-mute","mute.svg"],["--icon-cc","cc.svg"],["--icon-mini","mini.svg"],["--icon-settings","settings.svg"],["--icon-theater","theater.svg"],["--icon-full","full.svg"],["--icon-autoplay-on","autoplay-on.svg"],["--icon-autoplay-off","autoplay-off.svg"],["--icon-shuffle-on","shuffle-on.svg"],["--icon-shuffle-off","shuffle-off.svg"],["--icon-cycle-on","cycle-on.svg"],["--icon-cycle-off","cycle-off.svg"]].forEach(([a,h])=>{f.style.setProperty(a,`url("${j}/${h}")`)}),f.classList.add("yrp-icons-ready");let _=f.querySelector(".yrp-center-logo");_&&_.setAttribute("src",y+"/img/logo.png");let S=document.createElement("div");S.className="yrp-captions-layer",Object.assign(S.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let Z=document.createElement("div");Z.className="yrp-captions-text",Object.assign(Z.style,{display:"inline-block",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:"16px",lineHeight:"1.35",padding:"6px 10px",borderRadius:"6px",maxWidth:"80%",minWidth:"220px",boxShadow:"0 2px 6px rgba(0,0,0,0.35)",whiteSpace:"pre-wrap",wordBreak:"break-word"}),S.appendChild(Z),m&&(m.style.position="relative",m.appendChild(S));let M={active:!1,startX:0,startY:0,startLeftPct:50,startTopPct:80},Y=!1;function R(){return m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0}}function q(a){let h=R(),A=Math.min(a,h.width-a)*2,U=12,k=220;Z.style.maxWidth=Math.max(k,Math.floor(A-U))+"px"}function rt(a){let h=a.touches?a.touches[0]:a,A=R(),U=S.getBoundingClientRect();M.startLeftPct=(U.left+U.width/2-A.left)/A.width*100,M.startTopPct=(U.top+U.height/2-A.top)/A.height*100,M.active=!0,M.startX=h.clientX,M.startY=h.clientY,a.preventDefault(),a.stopPropagation()}function lt(a){if(!M.active)return;let h=a.touches?a.touches[0]:a,A=h.clientX-M.startX,U=h.clientY-M.startY,k=R(),z=M.startLeftPct/100*k.width+A,F=M.startTopPct/100*k.height+U,Mt=S.getBoundingClientRect(),qt=Mt.width/2,It=Mt.height/2;z=I(z,qt,k.width-qt),F=I(F,It,k.height-It),S.style.left=z/k.width*100+"%",S.style.top=F/k.height*100+"%",S.style.transform="translate(-50%,-50%)",Y=!0,q(z),a.preventDefault(),a.stopPropagation()}function ut(a){M.active&&(M.active=!1,a.preventDefault(),a.stopPropagation())}S.addEventListener("mousedown",rt),S.addEventListener("touchstart",rt,{passive:!1}),document.addEventListener("mousemove",lt),document.addEventListener("touchmove",lt,{passive:!1}),document.addEventListener("mouseup",ut),document.addEventListener("touchend",ut),S.addEventListener("click",function(a){a.stopPropagation()});function dt(){if(Y)return;let a=!f.classList.contains("autohide");S.style.top=a?"78%":"82%",S.style.left="50%",S.style.transform="translate(-50%,-50%)",q(R().width/2)}let tt=0;typeof x.start=="number"&&x.start>0&&(tt=Math.max(0,x.start));try{let h=new URL(window.location.href).searchParams.get("t");if(h!=null){let A=parseInt(String(h).trim(),10);isFinite(A)&&A>0&&(tt=Math.max(tt,A))}}catch(a){}be(f,tt,ot,{overlay:S,textBox:Z,autoAdjust:dt},tt,y)}function be(e,l,y,f,m,w){let B=(...t)=>le(y,...t),r=e.querySelector(".yrp-video"),J=e.querySelector(".yrp-center-play"),D=e.querySelector(".yrp-play"),$=e.querySelector(".yrp-prev"),x=e.querySelector(".yrp-next"),H=e.querySelector(".yrp-vol-btn"),Q=e.querySelector(".yrp-volume"),K=e.querySelector(".yrp-vol-slider"),ot=e.querySelector(".yrp-time-current"),nt=e.querySelector(".yrp-time-total"),j=e.querySelector(".yrp-progress"),_=e.querySelector(".yrp-progress-rail"),S=e.querySelector(".yrp-progress-buffer"),Z=e.querySelector(".yrp-progress-played"),M=e.querySelector(".yrp-progress-handle"),Y=e.querySelector(".yrp-progress-tooltip"),R=e.querySelector(".yrp-settings"),q=e.querySelector(".yrp-menu"),rt=e.querySelector(".yrp-theater"),lt=e.querySelector(".yrp-fullscreen"),ut=e.querySelector(".yrp-pip"),dt=e.querySelector(".yrp-left"),tt=e.querySelector(".yrp-right"),a=e.querySelector(".yrp-autoplay"),h=e.querySelector(".yrp-subtitles"),A=null,U=!1,k=0,z=!1,F=!1,Mt=!1,qt=!1,It=!1,xe=null,jt=!!O("autoplay",!1),it=e.getAttribute("data-sprites-vtt")||"",gt=[],Rt=0,G=null,vt=!1,bt=!1,at=!0,ft=0;function wt(){try{return r.textTracks?Array.prototype.filter.call(r.textTracks,function(t){return t.kind==="subtitles"||t.kind==="captions"}):[]}catch(t){return[]}}function Wt(){return wt().length>0}function Vt(){let t=wt();return t.length===0?null:((ft<0||ft>=t.length)&&(ft=0),t[ft])}function Xt(){wt().forEach(function(n,o){n.mode=o===ft&&at?"hidden":"disabled"}),Zt("applyPageModes")}function ue(){let t=Vt();if(!t||!t.cues)return"";let n=r.currentTime||0;for(let o=0;o<t.cues.length;o++){let i=t.cues[o];if(n>=i.startTime&&n<=i.endTime)return(i.text||"").replace(/\r/g,"")}return""}function Ot(){!f||!f.textBox||(f.textBox.textContent=at?ue():"")}function $t(t,n,o,i,c){let d=i?n:o,s=getComputedStyle(e).getPropertyValue(d)||e.style.getPropertyValue(d)||"",p=String(s).match(/url\(["']?([^"')]+)["']?\)/i);if(!(p&&p[1]?p[1]:null)){t.style.webkitMaskImage="",t.style.maskImage="",t.textContent=c,t.style.backgroundColor="transparent",t.style.color="var(--yrp-icon-color)",t.style.textIndent="0",t.dataset.maskApplied="0";return}t.textContent="";let b=`var(${d})`;t.style.webkitMaskImage=b,t.style.maskImage=b,t.style.backgroundColor="var(--yrp-icon-color)",t.style.color="",t.style.textIndent="-9999px",t.dataset.maskApplied="1"}function de(){return G||(j?(G=document.createElement("div"),Object.assign(G.style,{position:"absolute",display:"none",bottom:"calc(100% + 30px)",left:"0",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),G.className="yrp-sprite-pop",getComputedStyle(j).position==="static"&&(j.style.position="relative"),j.appendChild(G),G):null)}function Ht(t){let n=String(t||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);return n?parseInt(n[1],10)*3600+parseInt(n[2],10)*60+parseFloat(n[3]):0}function fe(t){if(!t)return"";try{let n=new URL(it,window.location.href);return new URL(t,n).href}catch(n){return t}}function _t(){if(!it||vt||bt)return;let t="";try{t=new URL(it,window.location.href).href}catch(n){t=it}fetch(t,{credentials:"same-origin"}).then(n=>n.text()).then(function(n){let o=n.split(/\r?\n/);for(let i=0;i<o.length;i++){let c=o[i].trim();if(c&&c.indexOf("-->")>=0){let d=c.split("-->").map(W=>W.trim());if(d.length<2)continue;let g=Ht(d[0]),s=Ht(d[1]),p=(o[i+1]||"").trim(),v="",b=0,E=0,st=0,Lt=0,ct=p.indexOf("#xywh=");if(ct>0){v=p.substring(0,ct);let W=p.substring(ct+6).split(",");W.length===4&&(b=parseInt(W[0],10),E=parseInt(W[1],10),st=parseInt(W[2],10),Lt=parseInt(W[3],10))}else v=p||"";let yt=fe(v);gt.push({start:g,end:s,spriteUrl:yt,x:b,y:E,w:st,h:Lt}),s>Rt&&(Rt=s),i++}}vt=!0}).catch(function(){bt=!0})}function pe(t){if(!it||!gt.length||!_)return;let n=_.getBoundingClientRect(),o=I(t-n.left,0,n.width),i=n.width>0?o/n.width:0,c=(k||Rt||0)*i,d=null;for(let v=0;v<gt.length;v++){let b=gt[v];if(c>=b.start&&c<b.end){d=b;break}}let g=de();if(!g)return;if(!d||!d.spriteUrl||d.w<=0||d.h<=0){g.style.display="none";return}for(;g.firstChild;)g.removeChild(g.firstChild);let s=document.createElement("img");Object.assign(s.style,{position:"absolute",left:-d.x+"px",top:-d.y+"px"}),s.src=d.spriteUrl,g.appendChild(s),g.style.display="block";let p=I(o-d.w/2,0,n.width-d.w);g.style.left=p+"px",g.style.width=d.w+"px",g.style.height=d.h+"px"}function Yt(){if(!a)return;let t=jt;a.setAttribute("aria-pressed",t?"true":"false"),a.title=t?"Autoplay on (A)":"Autoplay off (A)",a.textContent="";let n=t?"var(--icon-autoplay-on)":"var(--icon-autoplay-off)";Object.assign(a.style,{backgroundColor:"currentColor",webkitMaskImage:n,maskImage:n,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px",opacity:t?"1":"0.6"})}function Bt(){if(!D)return;let t=!r.paused;D.classList.toggle("icon-play",!t),D.classList.toggle("icon-pause",t),D.setAttribute("aria-label",t?"Pause (Space, K)":"Play (Space, K)"),D.title=t?"Pause (Space, K)":"Play (Space, K)",D.textContent="";let n=t?"var(--icon-pause)":"var(--icon-play)";Object.assign(D.style,{backgroundColor:"currentColor",webkitMaskImage:n,maskImage:n,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px"})}function zt(){if(!h)return;let t=Wt();h.disabled=!t,h.style.visibility=t?"visible":"hidden",h.classList.toggle("no-tracks",!t),h.classList.toggle("has-tracks",t),h.classList.toggle("active",t&&at),h.classList.toggle("disabled-track",t&&!at),h.setAttribute("aria-pressed",at?"true":"false")}function Dt(t){A&&clearTimeout(A),A=setTimeout(function(){e.classList.add("autohide"),f&&f.autoAdjust&&f.autoAdjust()},Math.max(0,t||1200))}function N(){e.classList.remove("autohide"),f&&f.autoAdjust&&f.autoAdjust(),Dt(2e3)}function Gt(){try{k=isFinite(r.duration)?r.duration:0}catch(t){k=0}nt&&(nt.textContent=Ct(k)),ot&&(ot.textContent=Ct(r.currentTime||0))}function Ut(){let t=k||0,n=r.currentTime||0,o=t>0?I(n/t,0,1):0;Z&&(Z.style.width=(o*100).toFixed(3)+"%"),M&&(M.style.left=(o*100).toFixed(3)+"%");let i=0;if(r.buffered&&r.buffered.length>0)try{i=r.buffered.end(r.buffered.length-1)}catch(d){i=0}let c=t>0?I(i/t,0,1):0;S&&(S.style.width=(c*100).toFixed(3)+"%")}function xt(){r.paused?r.play().catch(()=>{}):r.pause()}function Jt(){r.muted=!r.muted,pt()}function pt(){let t=r.muted?0:r.volume,n=r.muted||t===0?"Mute":"Vol";H&&(H.textContent=n,H.classList.toggle("icon-mute",n==="Mute"),H.classList.toggle("icon-vol",n!=="Mute"))}function Qt(t){if(!_)return;let n=_.getBoundingClientRect(),o=I(t-n.left,0,n.width),i=n.width>0?o/n.width:0;r.currentTime=(k||0)*i}function ye(t){if(!Y||!_)return;let n=_.getBoundingClientRect(),o=I(t-n.left,0,n.width),i=n.width>0?o/n.width:0,c=(k||0)*i;Y.textContent=Ct(c),Y.style.left=(i*100).toFixed(3)+"%",Y.hidden=!1}(function(){let n=e.getAttribute("data-video-id")||"";if(!n)return;if(m>0){try{let s=O("resume",{});s&&s[n]&&(delete s[n],X("resume",s))}catch(s){}return}let o=O("resume",{}),i=o[n],c=Date.now();function d(s){let p=isFinite(r.duration)?r.duration:0;if(p&&s>10&&s<p-5)try{r.currentTime=s}catch(v){}}if(i&&typeof i.t=="number"&&c-(i.ts||0)<180*24*3600*1e3){let s=Math.max(0,i.t|0);isFinite(r.duration)&&r.duration>0?d(s):r.addEventListener("loadedmetadata",function p(){r.removeEventListener("loadedmetadata",p),d(s)})}let g=ie(function(){let s=isFinite(r.duration)?r.duration:0,p=Math.max(0,Math.floor(r.currentTime||0)),v=O("resume",{});v[n]={t:p,ts:Date.now(),d:s};let b=Object.keys(v);if(b.length>200){b.sort((E,st)=>(v[E].ts||0)-(v[st].ts||0));for(let E=0;E<b.length-200;E++)delete v[b[E]]}X("resume",v)},3e3);r.addEventListener("timeupdate",function(){!r.paused&&!r.seeking&&g()}),r.addEventListener("ended",function(){let s=O("resume",{});delete s[n],X("resume",s)})})(),function(){function n(i){e.classList.toggle("yrp-theater",i);try{if(typeof window.setTheater=="function")window.setTheater(i);else{let c=e.closest(".watch-layout")||document.querySelector(".watch-layout");c&&(c.classList.toggle("theater-mode",i),typeof window.relocateUpNext=="function"&&window.relocateUpNext())}}catch(c){}i?(e.style.maxWidth="",e.style.minWidth="",e.style.width=""):St()}!!O("theater",!1)&&n(!0),rt&&rt.addEventListener("click",function(){let i=!e.classList.contains("yrp-theater");n(i),X("theater",i),N()})}(),r.addEventListener("loadedmetadata",function(){if(l>0)try{r.currentTime=Math.min(l,Math.floor(r.duration||l))}catch(i){}setTimeout(St,0),Gt(),Ut(),pt(),Yt(),Bt(),Vt(),Xt(),zt(),Dt(1200),_t(),Ot();let t=e.querySelector(".yrp-video-wrap").getBoundingClientRect(),n=t.width/2,o=e.querySelector(".yrp-captions-text");if(o){let i=Math.min(n,t.width-n)*2,c=12,d=220;o.style.maxWidth=Math.max(d,Math.floor(i-c))+"px"}Zt("after loadedmetadata")});function Zt(t){let o=wt().map(function(i,c){return{i:c,mode:i.mode,label:i.label,srclang:i.language||i.srclang,cues:i.cues?i.cues.length:0,kind:i.kind}});B(t,o)}function St(){if(e.classList.contains("yrp-theater"))return;let t=getComputedStyle(r),n=re(t.getPropertyValue("max-height"))||r.clientHeight||0,o=r.videoWidth||16,i=r.videoHeight||9,c=i>0?o/i:16/9,d=Math.min(n||r.clientHeight||0,window.innerHeight*.9);if(!d||!isFinite(d))return;let g=Math.floor(d*c),s=Math.floor(window.innerWidth*.95),p=he(),v=Math.max(p,Math.min(g,s));e.style.maxWidth=v+"px",e.style.minWidth=p+"px",e.style.width="100%"}function he(){let t=dt?dt.getBoundingClientRect().width:0,n=tt?tt.getBoundingClientRect().width:0,i=Math.ceil(t+n+24);return!isFinite(i)||i<=0?480:i}(function(){let n=e.closest(".player-host")||e,o=Pt(n,"data-options",null);function i(){return o&&o.autoplay===!0?!0:!!O("autoplay",!1)}if(!i()){setTimeout(function(){Dt(1e3)},0);return}function c(){let s=null;try{s=r.play()}catch(p){s=null}s&&typeof s.then=="function"?s.then(function(){}).catch(function(){if(!r.muted){F=!0,r.muted=!0,r.setAttribute("muted","");try{r.play().catch(function(){})}catch(p){}}}):setTimeout(function(){if(r.paused){F=!0,r.muted=!0,r.setAttribute("muted","");try{r.play().catch(function(){})}catch(p){}}},0)}let d=!1;function g(){d||(d=!0,c())}r.readyState>=1&&g(),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(s){let p=function(){r.removeEventListener(s,p),g()};r.addEventListener(s,p)}),setTimeout(function(){if(r.paused){F=!0,r.muted=!0,r.setAttribute("muted","");try{r.play().catch(function(){})}catch(s){}}},1200)})(),window.addEventListener("resize",St),r.addEventListener("timeupdate",function(){Gt(),Ut(),Ot()}),r.addEventListener("progress",Ut),r.addEventListener("play",function(){e.classList.add("playing"),Bt(),N()}),r.addEventListener("pause",function(){e.classList.remove("playing"),Bt(),N()});function Ft(){!document.pictureInPictureEnabled||!r.requestPictureInPicture||r.disablePictureInPicture||(document.pictureInPictureElement===r?document.exitPictureInPicture().catch(function(){}):r.requestPictureInPicture().catch(function(){}))}r.addEventListener("click",xt),J&&J.addEventListener("click",xt),D&&D.addEventListener("click",xt),$&&$.addEventListener("click",function(){e.dispatchEvent(new CustomEvent("yrp-prev",{bubbles:!0}))}),x&&x.addEventListener("click",function(){e.dispatchEvent(new CustomEvent("yrp-next",{bubbles:!0}))}),function(){var n=new URL(window.location.href),o=n.searchParams.get("p"),i=n.searchParams.get("v")||e.getAttribute("data-video-id")||"";if(o)$&&($.style.display=""),x&&(x.style.display="");else{$&&($.style.display="none"),x&&(x.style.display="none");var c=e.querySelector(".yrp-shuffle"),d=e.querySelector(".yrp-cycle");c&&(c.style.display="none"),d&&(d.style.display="none");return}function g(){var u=[],P=document.querySelector("#upnext-block .rb-list"),T=document.querySelector("#panel-upnext .upnext-list"),V=[];return P?V=P.querySelectorAll("a.rb-item[href*='/watch']"):T&&(V=T.querySelectorAll("a.rb-item[href*='/watch']")),V.forEach(function(mt){var At=mt.getAttribute("href")||"",Nt=At.match(/[?&]v=([^&]+)/);Nt&&Nt[1]&&u.push(decodeURIComponent(Nt[1]))}),u}var s=g();if(!s||s.length===0)return;var p=s.indexOf(i);p<0&&(p=0);function v(u){return"pl:"+o+":"+u}var b=function(){var u=O(v("order"),"direct");return u==="shuffle"?"shuffle":"direct"}(),E=function(){var u=O(v("cycle"),"0");return u===!0||u==="1"}();function st(u){b=u==="shuffle"?"shuffle":"direct",X(v("order"),b),ee()}function Lt(u){E=!!u,X(v("cycle"),E?"1":"0"),ne()}function ct(u){if(s.length<=1)return u;for(var P=0,T=u;P<6&&T===u;)T=Math.floor(Math.random()*s.length),P++;return T===u&&(T=(u+1)%s.length),T}function yt(){if(b==="shuffle")return ct(p);var u=p+1;return u>=s.length?E?0:-1:u}function W(){if(b==="shuffle")return ct(p);var u=p-1;return u<0?E?s.length-1:-1:u}function ht(u){u=Math.max(0,Math.min(s.length-1,u));var P=s[u];if(P){try{var T=O("resume",{});T&&T[P]&&(delete T[P],X("resume",T))}catch(mt){}var V=new URL(window.location.href);V.searchParams.set("v",P),V.searchParams.set("p",o),window.location.href=V.toString()}}e.addEventListener("yrp-prev",function(){var u=W();u>=0&&ht(u)}),e.addEventListener("yrp-next",function(){var u=yt();u>=0&&ht(u)});var L=e.querySelector(".yrp-shuffle"),C=e.querySelector(".yrp-cycle");L||(L=document.createElement("button"),L.type="button",L.className="yrp-btn yrp-shuffle",L.title="Shuffle playlist",L.setAttribute("aria-label","Shuffle playlist"),Object.assign(L.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginLeft:"6px",marginRight:"2px"})),C||(C=document.createElement("button"),C.type="button",C.className="yrp-btn yrp-cycle",C.title="Cycle playlist",C.setAttribute("aria-label","Cycle playlist"),Object.assign(C.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginRight:"8px"})),L.dataset.forceEmoji="0",C.dataset.forceEmoji="0";function ee(){L.setAttribute("aria-pressed",b==="shuffle"?"true":"false"),$t(L,"--icon-shuffle-on","--icon-shuffle-off",b==="shuffle","\u{1F500}"),L.style.opacity=b==="shuffle"?"1":"0.55",L.style.display=""}function ne(){C.setAttribute("aria-pressed",E?"true":"false"),$t(C,"--icon-cycle-on","--icon-cycle-off",!!E,"\u{1F501}"),C.style.opacity=E?"1":"0.55",C.style.display=""}ee(),ne(),L.addEventListener("click",function(){st(b==="shuffle"?"direct":"shuffle")}),C.addEventListener("click",function(){Lt(!E)});try{var et=dt||x&&x.parentNode||e;Q&&et?(et.insertBefore(L,Q),et.insertBefore(C,Q)):x&&et?(et.insertBefore(L,x.nextSibling),et.insertBefore(C,L.nextSibling)):(et.appendChild(L),et.appendChild(C))}catch(u){}r.addEventListener("ended",function(){var u=yt();u>=0&&ht(u)}),document.addEventListener("keydown",function(u){var P=u.target,T=P&&P.tagName?P.tagName.toUpperCase():"";if(!(P&&(P.isContentEditable||T==="INPUT"||T==="TEXTAREA"))&&!(u.ctrlKey||u.metaKey||u.altKey)){var V=u.code||"";if(V==="PageUp"){u.preventDefault();var mt=W();mt>=0&&ht(mt)}else if(V==="PageDown"){u.preventDefault();var At=yt();At>=0&&ht(At)}}})}(),H&&H.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),z=!0,F=!1,Jt(),N(),e.classList.add("vol-open"),setTimeout(function(){e.classList.remove("vol-open")},1200)}),Q&&Q.addEventListener("wheel",function(t){t.preventDefault(),z=!0,F=!1;let n=.05,o=r.muted?0:r.volume,i=I(o+(t.deltaY<0?n:-n),0,1);r.volume=i,i>0&&(r.muted=!1),K&&(K.value=String(i)),pt(),N()},{passive:!1}),K&&(K.addEventListener("input",function(){z=!0,F=!1;let t=parseFloat(K.value||"1");isFinite(t)||(t=1),t=I(t,0,1),r.volume=t,t>0&&(r.muted=!1),pt()}),K.addEventListener("wheel",function(t){t.preventDefault(),z=!0,F=!1;let n=.05,o=r.muted?0:r.volume,i=I(o+(t.deltaY<0?n:-n),0,1);r.volume=i,i>0&&(r.muted=!1),K.value=String(i),pt(),N()},{passive:!1})),j&&(j.addEventListener("mousedown",function(t){U=!0,kt(),Qt(t.clientX)}),window.addEventListener("mousemove",function(t){U&&Qt(t.clientX)}),window.addEventListener("mouseup",function(){U=!1}),j.addEventListener("mousemove",function(t){ye(t.clientX),it&&vt&&!bt?pe(t.clientX):it&&!vt&&!bt&&_t()}),j.addEventListener("mouseleave",function(){Y&&(Y.hidden=!0),G&&(G.style.display="none")})),R&&q&&(R.addEventListener("click",function(t){!q.hidden?(q.hidden=!0,R.setAttribute("aria-expanded","false")):(kt(),q.hidden=!1,R.setAttribute("aria-expanded","true")),t.stopPropagation(),e.classList.add("vol-open"),N()}),q.addEventListener("click",function(t){let n=t.target;if(n&&n.classList.contains("yrp-menu-item")){let o=parseFloat(n.getAttribute("data-speed")||"NaN");isNaN(o)||(r.playbackRate=o,q.hidden=!0,R.setAttribute("aria-expanded","false"))}}),document.addEventListener("click",function(t){!q.hidden&&!q.contains(t.target)&&t.target!==R&&(q.hidden=!0)})),lt&&lt.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):e.requestFullscreen&&e.requestFullscreen().catch(function(){})}),ut&&ut.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),Ft()}),a&&a.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();let n=!O("autoplay",!1);X("autoplay",n),jt=n,Yt()}),h&&h.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),Wt()&&(at=!at,Xt(),Ot(),zt())});function kt(){q&&(q.hidden=!0,R&&R.setAttribute("aria-expanded","false"));let t=e.querySelector(".yrp-context");t&&(t.hidden=!0),e.classList.remove("vol-open")}e.addEventListener("contextmenu",function(t){t.preventDefault(),kt();let n=e.querySelector(".yrp-context");if(!n)return;let o=e.getBoundingClientRect();n.style.left=t.clientX-o.left+"px",n.style.top=t.clientY-o.top+"px",n.hidden=!1,n.onclick=function(i){let c=i.target&&i.target.getAttribute("data-action"),d=Math.floor(r.currentTime||0),g=e.getAttribute("data-video-id")||"";if(c==="pip")Ft();else if(c==="copy-url"){let s=new URL(window.location.href);s.searchParams.delete("t"),Tt(s.toString())}else if(c==="copy-url-time"){let s=new URL(window.location.href);s.searchParams.set("t",String(d)),Tt(s.toString())}else if(c==="copy-embed"){let p=`<iframe width="560" height="315" src="${(window.location.origin||"")+"/embed?v="+encodeURIComponent(g||"")}" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>`;Tt(p)}n.hidden=!0},document.addEventListener("click",function(i){let c=e.querySelector(".yrp-context");c&&!c.hidden&&!c.contains(i.target)&&(c.hidden=!0)},{once:!0}),document.addEventListener("keydown",function i(c){if(c.code==="Escape"||(c.key||"").toLowerCase()==="escape"){let d=e.querySelector(".yrp-context");d&&!d.hidden&&(d.hidden=!0),document.removeEventListener("keydown",i)}})});function Et(t){let n=e.getBoundingClientRect();t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom&&N()}document.addEventListener("mousemove",Et,{passive:!0}),document.addEventListener("pointermove",Et,{passive:!0}),["mousemove","pointermove","mouseenter","mouseover","touchstart"].forEach(function(t){e.addEventListener(t,function(){try{e.focus()}catch(n){}N()},{passive:!0}),r&&r.addEventListener(t,N,{passive:!0}),J&&J.addEventListener(t,N,{passive:!0})});function te(){try{document.fullscreenElement===e&&(document.addEventListener("mousemove",Et,{passive:!0}),document.addEventListener("pointermove",Et,{passive:!0}))}catch(t){}}document.addEventListener("fullscreenchange",te),te();function me(t){let n=t.target,o=n&&n.tagName?n.tagName.toUpperCase():"";if(n&&(n.isContentEditable||o==="INPUT"||o==="TEXTAREA")||t.ctrlKey||t.metaKey||t.altKey)return;let i=t.code,c=(t.key||"").toLowerCase();if(i==="Space"||i==="Enter"||i==="NumpadEnter"||i==="MediaPlayPause"||i==="KeyK"||c==="k"){xt(),t.preventDefault();return}if(i==="ArrowLeft"||c==="arrowleft"||i==="KeyJ"||c==="j"){r.currentTime=I((r.currentTime||0)-5,0,k||0),t.preventDefault();return}if(i==="ArrowRight"||c==="arrowright"||i==="KeyL"||c==="l"){r.currentTime=I((r.currentTime||0)+5,0,k||0),t.preventDefault();return}if(i==="KeyM"||c==="m"){Jt(),t.preventDefault();return}if(i==="KeyF"||c==="f"){document.fullscreenElement?document.exitFullscreen().catch(function(){}):e.requestFullscreen&&e.requestFullscreen().catch(function(){}),t.preventDefault();return}if(i==="KeyT"||c==="t"){rt&&rt.click(),t.preventDefault();return}if(i==="KeyI"||c==="i"){Ft(),t.preventDefault();return}if(i==="KeyA"||c==="a"){a&&a.click(),t.preventDefault();return}if(i==="KeyC"||c==="c"){h&&!h.disabled&&h.click(),t.preventDefault();return}if(i==="Escape"||c==="escape"){kt();return}}document.addEventListener("keydown",me),setTimeout(St,200)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Kt):Kt();})();
