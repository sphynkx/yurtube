(()=>{function Ot(e){(!isFinite(e)||e<0)&&(e=0),e=Math.floor(e);let a=Math.floor(e/3600),c=Math.floor(e%3600/60),s=e%60,u=y=>(y<10?"0":"")+y;return a>0?`${a}:${u(c)}:${u(s)}`:`${c}:${u(s)}`}function j(e,a,c){return e<a?a:e>c?c:e}function Le(e){let a=parseFloat(String(e||"").trim());return isFinite(a)?a:0}function ke(e,a){let c=0,s=!1,u=null;return function(...y){u=y;let v=Date.now();!c||v-c>=a?(c=v,e.apply(null,u)):s||(s=!0,setTimeout(()=>{s=!1,e.apply(null,u)},a-(v-c)))}}function Dt(e,a,c){let s=e.getAttribute(a);if(!s)return c;try{return JSON.parse(s)}catch(u){return c}}function Ft(e){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).catch(function(){});else{let a=document.createElement("textarea");a.value=e,a.style.position="fixed",a.style.left="-9999px",document.body.appendChild(a),a.select();try{document.execCommand("copy")}catch(c){}document.body.removeChild(a)}}var Ce="yrp:";function Ee(){try{return localStorage.setItem("__t","1"),localStorage.removeItem("__t"),!0}catch(e){return!1}}function W(e,a){if(!Ee())return a;try{let c=localStorage.getItem(Ce+e);return c?JSON.parse(c):a}catch(c){return a}}function J(e,a){if(Ee())try{localStorage.setItem(Ce+e,JSON.stringify(a))}catch(c){}}var Ae="/static/img/fallback_video_notfound.gif";function Me(e,a,c){let s=!1,u=null;function y(r){if(!s){s=!0,c&&c("fallback: applying",r);try{a?a.setAttribute("src",Ae):e.src=Ae,e.load()}catch($){}}}function v(){u&&(clearTimeout(u),u=null)}e.addEventListener("loadstart",function(){v(),u=setTimeout(function(){!s&&e.readyState<1&&y("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(r){e.addEventListener(r,v)}),e.addEventListener("error",function(){s||y("error-event")}),setTimeout(function(){let r=a?a.getAttribute("src")||"":e.currentSrc||e.src||"";!s&&!r&&y("empty-src")},0)}var Ut=null;function Ye(){if(Ut)return Ut;try{typeof Intl!="undefined"&&Intl.DisplayNames&&(Ut=new Intl.DisplayNames(["en"],{type:"language"}))}catch(e){}return Ut}function ze(e,a){let c=String(e||"").trim();if(!c)return String(a||"");if(c.toLowerCase()==="auto")return"Auto";let s=c.split("-",1)[0].toLowerCase();try{let u=Ye();if(u&&typeof u.of=="function"){let y=u.of(s);if(y)return y.charAt(0).toUpperCase()+y.slice(1)}}catch(u){}return String(a||c)}function kt(e){try{return e.textTracks?Array.prototype.filter.call(e.textTracks,function(a){return a.kind==="subtitles"||a.kind==="captions"}):[]}catch(a){return[]}}function Ct(e){return kt(e).length>0}function Vt(e,a){let c=kt(e);if(c.length===0)return null;let s=a<0||a>=c.length?0:a;return c[s]}function Et(e,a,c){kt(e).forEach(function(u,y){u.mode=y===a&&c?"hidden":"disabled"})}function Ge(e,a){let c=Vt(e,a);if(!c||!c.cues)return"";let s=e.currentTime||0;for(let u=0;u<c.cues.length;u++){let y=c.cues[u];if(s>=y.startTime&&s<=y.endTime)return(y.text||"").replace(/\r/g,"")}return""}function Pe(e){return kt(e).map(function(c,s){let u=String(c.language||c.srclang||"").toLowerCase(),y=String(c.label||u||"Lang "+(s+1)),v=ze(u,y);return{index:s,lang:u,label:v}})}function ee(e,a){let c=String(a||"").toLowerCase(),s=Pe(e);for(var u=0;u<s.length;u++)if(s[u].lang===c||s[u].label.toLowerCase()===c)return s[u].index;return-1}function Te(e,a,c,s){if(!e)return;for(;e.firstChild;)e.removeChild(e.firstChild);let u=document.createElement("button");u.type="button",u.className="yrp-menu-item",u.setAttribute("data-action","back"),u.textContent="\u2190 Back",c(u),e.appendChild(u);let y=document.createElement("button");y.type="button",y.className="yrp-menu-item",y.setAttribute("data-action","subs-on"),y.textContent="On"+(a?" \u2713":""),s(y),e.appendChild(y);let v=document.createElement("button");v.type="button",v.className="yrp-menu-item",v.setAttribute("data-action","subs-off"),v.textContent="Off"+(a?"":" \u2713"),s(v),e.appendChild(v)}function qe(e,a,c,s,u,y){if(!e)return;for(;e.firstChild;)e.removeChild(e.firstChild);let v=document.createElement("button");v.type="button",v.className="yrp-menu-item",v.setAttribute("data-action","back"),v.textContent="\u2190 Back",s(v),e.appendChild(v);let r=y(v);e.appendChild(r);let $=Pe(a),P=Vt(a,c),_=P&&(P.language||P.srclang)?String(P.language||P.srclang).toLowerCase():"",k=$.slice().sort(function(x,C){let F=(x.lang||"").toLowerCase(),nt=(C.lang||"").toLowerCase();return F==="auto"&&nt!=="auto"?-1:nt==="auto"&&F!=="auto"?1:(x.label||"").localeCompare(C.label||"")});if(k.forEach(function(x){let C=document.createElement("button");C.type="button",C.className="yrp-menu-item",C.setAttribute("data-action","select-lang"),C.setAttribute("data-lang",x.lang||"");let F=x.lang?` (${x.lang})`:"";C.textContent=x.label+F+(x.lang===_?" \u2713":""),u(C),r.appendChild(C)}),!k.length){let x=document.createElement("div");x.className="yrp-menu-title",x.style.marginTop="6px",x.style.fontSize="12px",x.style.opacity="0.8",x.textContent="No subtitle tracks",r.appendChild(x)}}function pt(e,a,c){if(!e)return;let s=Ct(a);e.disabled=!s,e.style.visibility=s?"visible":"hidden",e.classList.toggle("no-tracks",!s),e.classList.toggle("has-tracks",s),e.classList.toggle("active",s&&c),e.classList.toggle("disabled-track",s&&!c),e.setAttribute("aria-pressed",c?"true":"false")}function yt(e,a,c,s){!e||!e.textBox||(e.textBox.textContent=s?Ge(a,c):"")}function ne(e,a,c){let u=kt(e).map(function(y,v){return{i:v,mode:y.mode,label:y.label,srclang:y.language||y.srclang,cues:y.cues?y.cues.length:0,kind:y.kind}});a(c,u)}var tn={};function Je(){try{let a=new URL(tn.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(a)return a[1]}catch(e){}try{let a=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(a)return a[1]}catch(e){}try{let e=document.querySelector(".player-host[data-player]");if(e){let a=String(e.getAttribute("data-player")||"").trim();if(a)return a}}catch(e){}return"yurtube"}function re(){let e=Je(),a=`/static/players/${e}`,c=document.querySelectorAll(`.player-host[data-player="${e}"]`);c.length&&fetch(a+"/templates/player.html",{credentials:"same-origin"}).then(s=>s.text()).then(function(s){for(let u=0;u<c.length;u++)Qe(c[u],s,a)}).catch(function(){})}function Ie(e,...a){if(e)try{}catch(c){}}function Qe(e,a,c){e.innerHTML=a;let s=e.querySelector(".yrp-container"),u=s.querySelector(".yrp-video-wrap"),y=s.querySelector(".yrp-video"),v=y.querySelector("source"),r=e.getAttribute("data-video-src")||"",$=e.getAttribute("data-poster-url")||"",P=e.getAttribute("data-video-id")||"",_=Dt(e,"data-subtitles",[]),k=Dt(e,"data-options",{}),x=e.getAttribute("data-sprites-vtt")||"",C=e.getAttribute("data-caption-vtt")||"",F=e.getAttribute("data-caption-lang")||"",nt=/\byrpdebug=1\b/i.test(location.search)||!!(k&&k.debug),st=(...d)=>Ie(nt,...d);if(v&&v.setAttribute("src",r),$&&y.setAttribute("poster",$),k.autoplay&&y.setAttribute("autoplay",""),k.muted&&y.setAttribute("muted",""),k.loop&&y.setAttribute("loop",""),P&&s.setAttribute("data-video-id",P),x&&s.setAttribute("data-sprites-vtt",x),y.setAttribute("playsinline",""),Array.isArray(_)&&_.forEach(function(d){if(!d||!d.src)return;let b=document.createElement("track");b.setAttribute("kind","captions"),d.srclang&&b.setAttribute("srclang",String(d.srclang)),d.label&&b.setAttribute("label",String(d.label)),b.setAttribute("src",String(d.src)),d.default&&b.setAttribute("default",""),y.appendChild(b)}),C)try{let d=document.createElement("track");d.setAttribute("kind","captions"),d.setAttribute("src",C),d.setAttribute("srclang",F||"auto"),d.setAttribute("label",F||"Original"),d.setAttribute("default",""),y.appendChild(d)}catch(d){st("caption append failed",d)}try{y.load(),st("video.load()",{src:r})}catch(d){st("video.load() error",d)}Me(y,v,st);let Y=c+"/img/buttons";[["--icon-play","play.svg"],["--icon-pause","pause.svg"],["--icon-prev","prev.svg"],["--icon-next","next.svg"],["--icon-vol","volume.svg"],["--icon-mute","mute.svg"],["--icon-cc","cc.svg"],["--icon-mini","mini.svg"],["--icon-settings","settings.svg"],["--icon-theater","theater.svg"],["--icon-full","full.svg"],["--icon-autoplay-on","autoplay-on.svg"],["--icon-autoplay-off","autoplay-off.svg"],["--icon-shuffle-on","shuffle-on.svg"],["--icon-shuffle-off","shuffle-off.svg"],["--icon-cycle-on","cycle-on.svg"],["--icon-cycle-off","cycle-off.svg"]].forEach(([d,b])=>{s.style.setProperty(d,`url("${Y}/${b}")`)}),s.classList.add("yrp-icons-ready");let Q=s.querySelector(".yrp-center-logo");Q&&Q.setAttribute("src",c+"/img/logo.png");let E=document.createElement("div");E.className="yrp-captions-layer",Object.assign(E.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let rt=document.createElement("div");rt.className="yrp-captions-text",Object.assign(rt.style,{display:"inline-block",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:"16px",lineHeight:"1.35",padding:"6px 10px",borderRadius:"6px",maxWidth:"80%",minWidth:"220px",boxShadow:"0 2px 6px rgba(0,0,0,0.35)",whiteSpace:"pre-wrap",wordBreak:"break-word"}),E.appendChild(rt),u&&(u.style.position="relative",u.appendChild(E));let U={active:!1,startX:0,startY:0,startLeftPct:50,startTopPct:80},Z=!1;function q(){return u?u.getBoundingClientRect():{width:0,height:0,left:0,top:0}}function p(d){let b=q(),N=Math.min(d,b.width-d)*2,H=12,T=220;rt.style.maxWidth=Math.max(T,Math.floor(N-H))+"px"}function ot(d){let b=d.touches?d.touches[0]:d,N=q(),H=E.getBoundingClientRect();U.startLeftPct=(H.left+H.width/2-N.left)/N.width*100,U.startTopPct=(H.top+H.height/2-N.top)/N.height*100,U.active=!0,U.startX=b.clientX,U.startY=b.clientY,d.preventDefault(),d.stopPropagation()}function mt(d){if(!U.active)return;let b=d.touches?d.touches[0]:d,N=b.clientX-U.startX,H=b.clientY-U.startY,T=q(),tt=U.startLeftPct/100*T.width+N,X=U.startTopPct/100*T.height+H,jt=E.getBoundingClientRect(),Kt=jt.width/2,Wt=jt.height/2;tt=j(tt,Kt,T.width-Kt),X=j(X,Wt,T.height-Wt),E.style.left=tt/T.width*100+"%",E.style.top=X/T.height*100+"%",E.style.transform="translate(-50%,-50%)",Z=!0,p(tt),d.preventDefault(),d.stopPropagation()}function ht(d){U.active&&(U.active=!1,d.preventDefault(),d.stopPropagation())}E.addEventListener("mousedown",ot),E.addEventListener("touchstart",ot,{passive:!1}),document.addEventListener("mousemove",mt),document.addEventListener("touchmove",mt,{passive:!1}),document.addEventListener("mouseup",ht),document.addEventListener("touchend",ht),E.addEventListener("click",function(d){d.stopPropagation()});function gt(){if(Z)return;let d=!s.classList.contains("autohide");E.style.top=d?"78%":"82%",E.style.left="50%",E.style.transform="translate(-50%,-50%)",p(q().width/2)}let it=0;typeof k.start=="number"&&k.start>0&&(it=Math.max(0,k.start));try{let b=new URL(window.location.href).searchParams.get("t");if(b!=null){let N=parseInt(String(b).trim(),10);isFinite(N)&&N>0&&(it=Math.max(it,N))}}catch(d){}Ze(s,it,nt,{overlay:E,textBox:rt,autoAdjust:gt},it,c)}function Ze(e,a,c,s,u,y){let v=(...t)=>Ie(c,...t),r=e.querySelector(".yrp-video"),$=e.querySelector(".yrp-center-play"),P=e.querySelector(".yrp-play"),_=e.querySelector(".yrp-prev"),k=e.querySelector(".yrp-next"),x=e.querySelector(".yrp-vol-btn"),C=e.querySelector(".yrp-volume"),F=e.querySelector(".yrp-vol-slider"),nt=e.querySelector(".yrp-time-current"),st=e.querySelector(".yrp-time-total"),Y=e.querySelector(".yrp-progress"),Q=e.querySelector(".yrp-progress-rail"),E=e.querySelector(".yrp-progress-buffer"),rt=e.querySelector(".yrp-progress-played"),U=e.querySelector(".yrp-progress-handle"),Z=e.querySelector(".yrp-progress-tooltip"),q=e.querySelector(".yrp-settings"),p=e.querySelector(".yrp-menu"),ot=e.querySelector(".yrp-theater"),mt=e.querySelector(".yrp-fullscreen"),ht=e.querySelector(".yrp-pip"),gt=e.querySelector(".yrp-left"),it=e.querySelector(".yrp-right"),d=e.querySelector(".yrp-autoplay"),b=e.querySelector(".yrp-subtitles"),N=null,H=!1,T=0,tt=!1,X=!1,jt=!1,Kt=!1,Wt=!1,en=null,ie=!!W("autoplay",!1),ct=e.getAttribute("data-sprites-vtt")||"",At=[],Ht=0,et=null,Mt=!1,Pt=!1,A=!0,K=0,ae=function(){try{return String(localStorage.getItem("subtitle_lang")||"")}catch(t){return""}}(),_t=function(){try{return parseFloat(localStorage.getItem("playback_speed")||"")}catch(t){return NaN}}(),M="main",Xt="",vt=0,se=!1;function Ne(t){let n=ee(r,t);if(n>=0){K=n,A=!0,Et(r,K,A),yt(s,r,K,A);try{localStorage.setItem("subtitle_lang",String(t||""))}catch(o){}pt(b,r,A)}}function oe(t){A=!!t,Et(r,K,A),yt(s,r,K,A),pt(b,r,A)}function ce(){p&&(Xt||(Xt=p.innerHTML||""))}function bt(){if(p&&!(vt>0))try{let t=p.getBoundingClientRect();vt=Math.ceil(t.height||0),vt>0&&(p.style.minHeight=vt+"px")}catch(t){}}function lt(){p&&(vt=0,p.style.minHeight="")}function ut(t){try{t.style.background="transparent",t.style.backgroundColor="transparent",t.style.border="none",t.style.boxShadow="none",t.style.color="inherit",t.style.textAlign="left",t.style.width="100%",t.style.display="block"}catch(n){}}function $t(t){ut(t);try{t.style.background="rgba(255,255,255,0.12)",t.style.backgroundColor="rgba(255,255,255,0.12)",t.style.borderRadius="4px",t.style.fontWeight="700",t.style.marginBottom="6px",t.style.paddingLeft="8px",t.style.paddingRight="8px"}catch(n){}}function Be(t){try{t.classList.add("has-submenu")}catch(n){}}function Re(){if(p)try{let t=p.querySelector('.yrp-menu-section[data-section="quality"]');if(!t)return;let n=t.querySelector(".yrp-menu-title");if(n&&n.parentNode&&n.parentNode.removeChild(n),t.querySelector(".yrp-menu-item.quality-future"))return;let o=document.createElement("button");o.type="button",o.className="yrp-menu-item quality-future",o.textContent="Quality (future)",o.disabled=!0,ut(o),o.style.opacity="0.75",t.appendChild(o)}catch(t){}}function Oe(){if(p)try{let t=p.querySelector('.yrp-menu-section[data-section="subtitles"]');t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}}function Yt(){if(p){ce(),p.innerHTML=Xt,M="main";try{let t=p.querySelector('.yrp-menu-section[data-section="speed"]');t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}Oe(),Re(),Fe(),De(),Ue()}}function zt(t,n,o={}){if(!p)return null;let i=p.querySelector(".yrp-menu-section")||null,l=document.createElement("button");return l.type="button",l.className="yrp-menu-item",l.setAttribute("data-action",n),l.textContent=t,ut(l),o&&o.disabled===!0&&(l.disabled=!0,l.style.opacity="0.6"),o&&o.hasSubmenu===!0&&Be(l),i&&i.parentNode===p?p.insertBefore(l,i):p.appendChild(l),l}function De(){p&&(p.querySelector('.yrp-menu-item[data-action="open-langs"]')||zt("Languages","open-langs",{hasSubmenu:!0}))}function Fe(){p&&(p.querySelector('.yrp-menu-item[data-action="open-speed"]')||zt("Speed","open-speed",{hasSubmenu:!0}))}function Ue(){if(!p||p.querySelector('.yrp-menu-item[data-action="open-subs"]'))return;let t=Ct(r),n=zt("Subtitles","open-subs",{hasSubmenu:!0,disabled:!t});n&&!t&&(n.title="No subtitle tracks")}function Ve(t){let n=document.createElement("div");return n.className="yrp-menu-scroll",Object.assign(n.style,{overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100% - 40px)",paddingRight:"2px"}),n}function le(){qe(p,r,K,$t,ut,Ve),M="langs"}function je(){return[.5,.75,1,1.25,1.5,2]}function ue(t){let n=parseFloat(String(t));if(!(!isFinite(n)||n<=0)){r.playbackRate=n;try{localStorage.setItem("playback_speed",String(n))}catch(o){}}}function de(){if(!p)return;for(M="speed";p.firstChild;)p.removeChild(p.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",$t(t),p.appendChild(t);let n=isFinite(r.playbackRate)?r.playbackRate:1;je().forEach(function(o){let i=document.createElement("button");i.type="button",i.className="yrp-menu-item",i.setAttribute("data-action","set-speed"),i.setAttribute("data-speed",String(o)),i.textContent=(o===1?"1.0x":String(o)+"x")+(Math.abs(o-n)<.001?" \u2713":""),ut(i),p.appendChild(i)})}function fe(){Te(p,A,$t,ut),M="subs"}function pe(t,n,o,i,l){let h=i?n:o,f=getComputedStyle(e).getPropertyValue(h)||e.style.getPropertyValue(h)||"",g=String(f).match(/url\(["']?([^"')]+)["']?\)/i);if(!(g&&g[1]?g[1]:null)){t.style.webkitMaskImage="",t.style.maskImage="",t.textContent=l,t.style.backgroundColor="transparent",t.style.color="var(--yrp-icon-color)",t.style.textIndent="0",t.dataset.maskApplied="0";return}t.textContent="";let L=`var(${h})`;t.style.webkitMaskImage=L,t.style.maskImage=L,t.style.backgroundColor="var(--yrp-icon-color)",t.style.color="",t.style.textIndent="-9999px",t.dataset.maskApplied="1"}function Ke(){return et||(Y?(et=document.createElement("div"),Object.assign(et.style,{position:"absolute",display:"none",bottom:"calc(100% + 30px)",left:"0",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),et.className="yrp-sprite-pop",getComputedStyle(Y).position==="static"&&(Y.style.position="relative"),Y.appendChild(et),et):null)}function ye(t){let n=String(t||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);return n?parseInt(n[1],10)*3600+parseInt(n[2],10)*60+parseFloat(n[3]):0}function We(t){if(!t)return"";try{let n=new URL(ct,window.location.href);return new URL(t,n).href}catch(n){return t}}function me(){if(!ct||Mt||Pt)return;let t="";try{t=new URL(ct,window.location.href).href}catch(n){t=ct}fetch(t,{credentials:"same-origin"}).then(n=>n.text()).then(function(n){let o=n.split(/\r?\n/);for(let i=0;i<o.length;i++){let l=o[i].trim();if(l&&l.indexOf("-->")>=0){let h=l.split("-->").map(z=>z.trim());if(h.length<2)continue;let w=ye(h[0]),f=ye(h[1]),g=(o[i+1]||"").trim(),S="",L=0,B=0,dt=0,Bt=0,ft=g.indexOf("#xywh=");if(ft>0){S=g.substring(0,ft);let z=g.substring(ft+6).split(",");z.length===4&&(L=parseInt(z[0],10),B=parseInt(z[1],10),dt=parseInt(z[2],10),Bt=parseInt(z[3],10))}else S=g||"";let wt=We(S);At.push({start:w,end:f,spriteUrl:wt,x:L,y:B,w:dt,h:Bt}),f>Ht&&(Ht=f),i++}}Mt=!0}).catch(function(){Pt=!0})}function He(t){if(!ct||!At.length||!Q)return;let n=Q.getBoundingClientRect(),o=j(t-n.left,0,n.width),i=n.width>0?o/n.width:0,l=(T||Ht||0)*i,h=null;for(let S=0;S<At.length;S++){let L=At[S];if(l>=L.start&&l<L.end){h=L;break}}let w=Ke();if(!w)return;if(!h||!h.spriteUrl||h.w<=0||h.h<=0){w.style.display="none";return}for(;w.firstChild;)w.removeChild(w.firstChild);let f=document.createElement("img");Object.assign(f.style,{position:"absolute",left:-h.x+"px",top:-h.y+"px"}),f.src=h.spriteUrl,w.appendChild(f),w.style.display="block";let g=j(o-h.w/2,0,n.width-h.w);w.style.left=g+"px",w.style.width=h.w+"px",w.style.height=h.h+"px"}function he(){if(!d)return;let t=ie;d.setAttribute("aria-pressed",t?"true":"false"),d.title=t?"Autoplay on (A)":"Autoplay off (A)",d.textContent="";let n=t?"var(--icon-autoplay-on)":"var(--icon-autoplay-off)";Object.assign(d.style,{backgroundColor:"currentColor",webkitMaskImage:n,maskImage:n,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px",opacity:t?"1":"0.6"})}function Gt(){if(!P)return;let t=!r.paused;P.classList.toggle("icon-play",!t),P.classList.toggle("icon-pause",t),P.setAttribute("aria-label",t?"Pause (Space, K)":"Play (Space, K)"),P.title=t?"Pause (Space, K)":"Play (Space, K)",P.textContent="";let n=t?"var(--icon-pause)":"var(--icon-play)";Object.assign(P.style,{backgroundColor:"currentColor",webkitMaskImage:n,maskImage:n,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px"})}function Jt(t){N&&clearTimeout(N),N=setTimeout(function(){e.classList.add("autohide"),s&&s.autoAdjust&&s.autoAdjust()},Math.max(0,t||1200))}function V(){e.classList.remove("autohide"),s&&s.autoAdjust&&s.autoAdjust(),Jt(2e3)}function ge(){try{T=isFinite(r.duration)?r.duration:0}catch(t){T=0}st&&(st.textContent=Ot(T)),nt&&(nt.textContent=Ot(r.currentTime||0))}function Qt(){let t=T||0,n=r.currentTime||0,o=t>0?j(n/t,0,1):0;rt&&(rt.style.width=(o*100).toFixed(3)+"%"),U&&(U.style.left=(o*100).toFixed(3)+"%");let i=0;if(r.buffered&&r.buffered.length>0)try{i=r.buffered.end(r.buffered.length-1)}catch(h){i=0}let l=t>0?j(i/t,0,1):0;E&&(E.style.width=(l*100).toFixed(3)+"%")}function Tt(){r.paused?r.play().catch(()=>{}):r.pause()}function ve(){r.muted=!r.muted,xt()}function xt(){let t=r.muted?0:r.volume,n=r.muted||t===0?"Mute":"Vol";x&&(x.textContent=n,x.classList.toggle("icon-mute",n==="Mute"),x.classList.toggle("icon-vol",n!=="Mute"))}function be(t){if(!Q)return;let n=Q.getBoundingClientRect(),o=j(t-n.left,0,n.width),i=n.width>0?o/n.width:0;r.currentTime=(T||0)*i}function _e(t){if(!Z||!Q)return;let n=Q.getBoundingClientRect(),o=j(t-n.left,0,n.width),i=n.width>0?o/n.width:0,l=(T||0)*i;Z.textContent=Ot(l),Z.style.left=(i*100).toFixed(3)+"%",Z.hidden=!1}(function(){let n=e.getAttribute("data-video-id")||"";if(!n)return;if(u>0){try{let f=W("resume",{});f&&f[n]&&(delete f[n],J("resume",f))}catch(f){}return}let o=W("resume",{}),i=o[n],l=Date.now();function h(f){let g=isFinite(r.duration)?r.duration:0;if(g&&f>10&&f<g-5)try{r.currentTime=f}catch(S){}}if(i&&typeof i.t=="number"&&l-(i.ts||0)<180*24*3600*1e3){let f=Math.max(0,i.t|0);isFinite(r.duration)&&r.duration>0?h(f):r.addEventListener("loadedmetadata",function g(){r.removeEventListener("loadedmetadata",g),h(f)})}let w=ke(function(){let f=isFinite(r.duration)?r.duration:0,g=Math.max(0,Math.floor(r.currentTime||0)),S=W("resume",{});S[n]={t:g,ts:Date.now(),d:f};let L=Object.keys(S);if(L.length>200){L.sort((B,dt)=>(S[B].ts||0)-(S[dt].ts||0));for(let B=0;B<L.length-200;B++)delete S[L[B]]}J("resume",S)},3e3);r.addEventListener("timeupdate",function(){!r.paused&&!r.seeking&&w()}),r.addEventListener("ended",function(){let f=W("resume",{});delete f[n],J("resume",f)})})(),function(){function n(i){e.classList.toggle("yrp-theater",i);try{if(typeof window.setTheater=="function")window.setTheater(i);else{let l=e.closest(".watch-layout")||document.querySelector(".watch-layout");l&&(l.classList.toggle("theater-mode",i),typeof window.relocateUpNext=="function"&&window.relocateUpNext())}}catch(l){}i?(e.style.maxWidth="",e.style.minWidth="",e.style.width=""):qt()}!!W("theater",!1)&&n(!0),ot&&ot.addEventListener("click",function(){let i=!e.classList.contains("yrp-theater");n(i),J("theater",i),V()})}(),r.addEventListener("loadedmetadata",function(){if(a>0)try{r.currentTime=Math.min(a,Math.floor(r.duration||a))}catch(i){}if(setTimeout(qt,0),ge(),Qt(),xt(),he(),Gt(),pt(b,r,A),ae){let i=ee(r,ae);i>=0&&(K=i)}isFinite(_t)&&_t>0&&ue(_t),Vt(r,K),Et(r,K,A),pt(b,r,A),Jt(1200),me(),yt(s,r,K,A);let t=e.querySelector(".yrp-video-wrap").getBoundingClientRect(),n=t.width/2,o=e.querySelector(".yrp-captions-text");if(o){let i=Math.min(n,t.width-n)*2,l=12,h=220;o.style.maxWidth=Math.max(h,Math.floor(i-l))+"px"}ne(r,v,"after loadedmetadata"),p&&!p.hidden&&(M==="main"?Yt():M==="langs"?le():M==="speed"?de():M==="subs"&&fe())});function nn(t){ne(r,v,t)}function qt(){if(e.classList.contains("yrp-theater"))return;let t=getComputedStyle(r),n=Le(t.getPropertyValue("max-height"))||r.clientHeight||0,o=r.videoWidth||16,i=r.videoHeight||9,l=i>0?o/i:16/9,h=Math.min(n||r.clientHeight||0,window.innerHeight*.9);if(!h||!isFinite(h))return;let w=Math.floor(h*l),f=Math.floor(window.innerWidth*.95),g=Xe(),S=Math.max(g,Math.min(w,f));e.style.maxWidth=S+"px",e.style.minWidth=g+"px",e.style.width="100%"}function Xe(){let t=gt?gt.getBoundingClientRect().width:0,n=it?it.getBoundingClientRect().width:0,i=Math.ceil(t+n+24);return!isFinite(i)||i<=0?480:i}(function(){let n=e.closest(".player-host")||e,o=Dt(n,"data-options",null);function i(){return o&&o.autoplay===!0?!0:!!W("autoplay",!1)}if(!i()){setTimeout(function(){Jt(1e3)},0);return}function l(){let f=null;try{f=r.play()}catch(g){f=null}f&&typeof f.then=="function"?f.then(function(){}).catch(function(){if(!r.muted){X=!0,r.muted=!0,r.setAttribute("muted","");try{r.play().catch(function(){})}catch(g){}}}):setTimeout(function(){if(r.paused){X=!0,r.muted=!0,r.setAttribute("muted","");try{r.play().catch(function(){})}catch(g){}}},0)}let h=!1;function w(){h||(h=!0,l())}r.readyState>=1&&w(),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(f){let g=function(){r.removeEventListener(f,g),w()};r.addEventListener(f,g)}),setTimeout(function(){if(r.paused){X=!0,r.muted=!0,r.setAttribute("muted","");try{r.play().catch(function(){})}catch(f){}}},1200)})(),window.addEventListener("resize",qt),r.addEventListener("timeupdate",function(){ge(),Qt(),yt(s,r,K,A)}),r.addEventListener("progress",Qt),r.addEventListener("play",function(){e.classList.add("playing"),Gt(),V()}),r.addEventListener("pause",function(){e.classList.remove("playing"),Gt(),V()});function Zt(){!document.pictureInPictureEnabled||!r.requestPictureInPicture||r.disablePictureInPicture||(document.pictureInPictureElement===r?document.exitPictureInPicture().catch(function(){}):r.requestPictureInPicture().catch(function(){}))}r.addEventListener("click",Tt),$&&$.addEventListener("click",Tt),P&&P.addEventListener("click",Tt),_&&_.addEventListener("click",function(){e.dispatchEvent(new CustomEvent("yrp-prev",{bubbles:!0}))}),k&&k.addEventListener("click",function(){e.dispatchEvent(new CustomEvent("yrp-next",{bubbles:!0}))}),function(){var n=new URL(window.location.href),o=n.searchParams.get("p"),i=n.searchParams.get("v")||e.getAttribute("data-video-id")||"";if(o)_&&(_.style.display=""),k&&(k.style.display="");else{_&&(_.style.display="none"),k&&(k.style.display="none");var l=e.querySelector(".yrp-shuffle"),h=e.querySelector(".yrp-cycle");l&&(l.style.display="none"),h&&(h.style.display="none");return}function w(){var m=[],O=document.querySelector("#upnext-block .rb-list"),D=document.querySelector("#panel-upnext .upnext-list"),G=[];return O?G=O.querySelectorAll("a.rb-item[href*='/watch']"):D&&(G=D.querySelectorAll("a.rb-item[href*='/watch']")),G.forEach(function(Lt){var Rt=Lt.getAttribute("href")||"",te=Rt.match(/[?&]v=([^&]+)/);te&&te[1]&&m.push(decodeURIComponent(te[1]))}),m}var f=w();if(!f||f.length===0)return;var g=f.indexOf(i);g<0&&(g=0);function S(m){return"pl:"+o+":"+m}var L=function(){var m=W(S("order"),"direct");return m==="shuffle"?"shuffle":"direct"}(),B=function(){var m=W(S("cycle"),"0");return m===!0||m==="1"}();function dt(m){L=m==="shuffle"?"shuffle":"direct",J(S("order"),L),we()}function Bt(m){B=!!m,J(S("cycle"),B?"1":"0"),Se()}function ft(m){if(f.length<=1)return m;for(var O=0,D=m;O<6&&D===m;)D=Math.floor(Math.random()*f.length),O++;return D===m&&(D=(m+1)%f.length),D}function wt(){if(L==="shuffle")return ft(g);var m=g+1;return m>=f.length?B?0:-1:m}function z(){if(L==="shuffle")return ft(g);var m=g-1;return m<0?B?f.length-1:-1:m}function St(m){m=Math.max(0,Math.min(f.length-1,m));var O=f[m];if(O){try{var D=W("resume",{});D&&D[O]&&(delete D[O],J("resume",D))}catch(Lt){}var G=new URL(window.location.href);G.searchParams.set("v",O),G.searchParams.set("p",o),window.location.href=G.toString()}}e.addEventListener("yrp-prev",function(){var m=z();m>=0&&St(m)}),e.addEventListener("yrp-next",function(){var m=wt();m>=0&&St(m)});var I=e.querySelector(".yrp-shuffle"),R=e.querySelector(".yrp-cycle");I||(I=document.createElement("button"),I.type="button",I.className="yrp-btn yrp-shuffle",I.title="Shuffle playlist",I.setAttribute("aria-label","Shuffle playlist"),Object.assign(I.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginLeft:"6px",marginRight:"2px"})),R||(R=document.createElement("button"),R.type="button",R.className="yrp-btn yrp-cycle",R.title="Cycle playlist",R.setAttribute("aria-label","Cycle playlist"),Object.assign(R.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginRight:"8px"})),I.dataset.forceEmoji="0",R.dataset.forceEmoji="0";function we(){I.setAttribute("aria-pressed",L==="shuffle"?"true":"false"),pe(I,"--icon-shuffle-on","--icon-shuffle-off",L==="shuffle","\u{1F500}"),I.style.opacity=L==="shuffle"?"1":"0.55",I.style.display=""}function Se(){R.setAttribute("aria-pressed",B?"true":"false"),pe(R,"--icon-cycle-on","--icon-cycle-off",!!B,"\u{1F501}"),R.style.opacity="1",R.style.display=""}we(),Se(),I.addEventListener("click",function(){dt(L==="shuffle"?"direct":"shuffle")}),R.addEventListener("click",function(){Bt(!B)});try{var at=gt||k&&k.parentNode||e;C&&at?(at.insertBefore(I,C),at.insertBefore(R,C)):k&&at?(at.insertBefore(I,k.nextSibling),at.insertBefore(R,I.nextSibling)):(at.appendChild(I),at.appendChild(R))}catch(m){}r.addEventListener("ended",function(){var m=wt();m>=0&&St(m)}),document.addEventListener("keydown",function(m){var O=m.target,D=O&&O.tagName?O.tagName.toUpperCase():"";if(!(O&&(O.isContentEditable||D==="INPUT"||D==="TEXTAREA"))&&!(m.ctrlKey||m.metaKey||m.altKey)){var G=m.code||"";if(G==="PageUp"){m.preventDefault();var Lt=z();Lt>=0&&St(Lt)}else if(G==="PageDown"){m.preventDefault();var Rt=wt();Rt>=0&&St(Rt)}}})}(),x&&x.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),tt=!0,X=!1,ve(),V(),e.classList.add("vol-open"),setTimeout(function(){e.classList.remove("vol-open")},1200)}),C&&C.addEventListener("wheel",function(t){t.preventDefault(),tt=!0,X=!1;let n=.05,o=r.muted?0:r.volume,i=j(o+(t.deltaY<0?n:-n),0,1);r.volume=i,i>0&&(r.muted=!1),F&&(F.value=String(i)),xt(),V()},{passive:!1}),F&&(F.addEventListener("input",function(){tt=!0,X=!1;let t=parseFloat(F.value||"1");isFinite(t)||(t=1),t=j(t,0,1),r.volume=t,t>0&&(r.muted=!1),xt()}),F.addEventListener("wheel",function(t){t.preventDefault(),tt=!0,X=!1;let n=.05,o=r.muted?0:r.volume,i=j(o+(t.deltaY<0?n:-n),0,1);r.volume=i,i>0&&(r.muted=!1),F.value=String(i),xt(),V()},{passive:!1})),Y&&(Y.addEventListener("mousedown",function(t){H=!0,It(),be(t.clientX)}),window.addEventListener("mousemove",function(t){H&&be(t.clientX)}),window.addEventListener("mouseup",function(){H=!1}),Y.addEventListener("mousemove",function(t){_e(t.clientX),ct&&Mt&&!Pt?He(t.clientX):ct&&!Mt&&!Pt&&me()}),Y.addEventListener("mouseleave",function(){Z&&(Z.hidden=!0),et&&(et.style.display="none")}));function It(){p&&(p.hidden=!0,q&&q.setAttribute("aria-expanded","false"));let t=e.querySelector(".yrp-context");t&&(t.hidden=!0),e.classList.remove("vol-open"),M="main",lt()}q&&p&&(ce(),se||(se=!0,q.addEventListener("click",function(t){!p.hidden?(p.hidden=!0,q.setAttribute("aria-expanded","false"),M="main",lt()):(It(),Yt(),p.hidden=!1,q.setAttribute("aria-expanded","true"),bt()),t.stopPropagation(),e.classList.add("vol-open"),V()}),p.addEventListener("click",function(t){let n=t.target&&t.target.closest?t.target.closest(".yrp-menu-item"):null;if(!n||!p.contains(n))return;let o=n.getAttribute("data-action")||"",i=n.getAttribute("data-lang")||"";if(M==="main"){if(o==="open-langs"){t.preventDefault(),t.stopPropagation(),le(),bt(),e.classList.add("vol-open"),V();return}if(o==="open-speed"){t.preventDefault(),t.stopPropagation(),de(),bt(),e.classList.add("vol-open"),V();return}if(o==="open-subs"){if(t.preventDefault(),t.stopPropagation(),!Ct(r))return;fe(),bt(),e.classList.add("vol-open"),V();return}return}if(o==="back"){t.preventDefault(),t.stopPropagation(),Yt(),bt(),e.classList.add("vol-open"),V();return}if(M==="langs"&&o==="select-lang"&&i){t.preventDefault(),t.stopPropagation(),Ne(i),p.hidden=!0,q.setAttribute("aria-expanded","false"),M="main",lt();return}if(M==="speed"&&o==="set-speed"){let l=parseFloat(n.getAttribute("data-speed")||"NaN");if(!isNaN(l)){t.preventDefault(),t.stopPropagation(),ue(l),p.hidden=!0,q.setAttribute("aria-expanded","false"),M="main",lt();return}}if(M==="subs"){if(o==="subs-on"){t.preventDefault(),t.stopPropagation(),oe(!0),p.hidden=!0,q.setAttribute("aria-expanded","false"),M="main",lt();return}if(o==="subs-off"){t.preventDefault(),t.stopPropagation(),oe(!1),p.hidden=!0,q.setAttribute("aria-expanded","false"),M="main",lt();return}}}),document.addEventListener("click",function(t){!p.hidden&&!p.contains(t.target)&&t.target!==q&&(p.hidden=!0,q.setAttribute("aria-expanded","false"),M="main",lt())}))),mt&&mt.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):e.requestFullscreen&&e.requestFullscreen().catch(function(){})}),ht&&ht.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),Zt()}),d&&d.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();let n=!W("autoplay",!1);J("autoplay",n),ie=n,he()}),b&&b.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),Ct(r)&&(A=!A,Et(r,K,A),yt(s,r,K,A),pt(b,r,A))}),e.addEventListener("contextmenu",function(t){t.preventDefault(),It();let n=e.querySelector(".yrp-context");if(!n)return;let o=e.getBoundingClientRect();n.style.left=t.clientX-o.left+"px",n.style.top=t.clientY-o.top+"px",n.hidden=!1,n.onclick=function(i){let l=i.target&&i.target.getAttribute("data-action"),h=Math.floor(r.currentTime||0),w=e.getAttribute("data-video-id")||"";if(l==="pip")Zt();else if(l==="copy-url"){let f=new URL(window.location.href);f.searchParams.delete("t"),Ft(f.toString())}else if(l==="copy-url-time"){let f=new URL(window.location.href);f.searchParams.set("t",String(h)),Ft(f.toString())}else if(l==="copy-embed"){let g=`<iframe width="560" height="315" src="${(window.location.origin||"")+"/embed?v="+encodeURIComponent(w||"")}" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>`;Ft(g)}n.hidden=!0},document.addEventListener("click",function(i){let l=e.querySelector(".yrp-context");l&&!l.hidden&&!l.contains(i.target)&&(l.hidden=!0)},{once:!0}),document.addEventListener("keydown",function i(l){if(l.code==="Escape"||(l.key||"").toLowerCase()==="escape"){let h=e.querySelector(".yrp-context");h&&!h.hidden&&(h.hidden=!0),document.removeEventListener("keydown",i)}})});function Nt(t){let n=e.getBoundingClientRect();t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom&&V()}document.addEventListener("mousemove",Nt,{passive:!0}),document.addEventListener("pointermove",Nt,{passive:!0}),["mousemove","pointermove","mouseenter","mouseover","touchstart"].forEach(function(t){e.addEventListener(t,function(){try{e.focus()}catch(n){}V()},{passive:!0}),r&&r.addEventListener(t,V,{passive:!0}),$&&$.addEventListener(t,V,{passive:!0})});function xe(){try{document.fullscreenElement===e&&(document.addEventListener("mousemove",Nt,{passive:!0}),document.addEventListener("pointermove",Nt,{passive:!0}))}catch(t){}}document.addEventListener("fullscreenchange",xe),xe();function $e(t){let n=t.target,o=n&&n.tagName?n.tagName.toUpperCase():"";if(n&&(n.isContentEditable||o==="INPUT"||o==="TEXTAREA")||t.ctrlKey||t.metaKey||t.altKey)return;let i=t.code,l=(t.key||"").toLowerCase();if(i==="Space"||i==="Enter"||i==="NumpadEnter"||i==="MediaPlayPause"||i==="KeyK"||l==="k"){Tt(),t.preventDefault();return}if(i==="ArrowLeft"||l==="arrowleft"||i==="KeyJ"||l==="j"){r.currentTime=j((r.currentTime||0)-5,0,T||0),t.preventDefault();return}if(i==="ArrowRight"||l==="arrowright"||i==="KeyL"||l==="l"){r.currentTime=j((r.currentTime||0)+5,0,T||0),t.preventDefault();return}if(i==="KeyM"||l==="m"){ve(),t.preventDefault();return}if(i==="KeyF"||l==="f"){document.fullscreenElement?document.exitFullscreen().catch(function(){}):e.requestFullscreen&&e.requestFullscreen().catch(function(){}),t.preventDefault();return}if(i==="KeyT"||l==="t"){ot&&ot.click(),t.preventDefault();return}if(i==="KeyI"||l==="i"){Zt(),t.preventDefault();return}if(i==="KeyA"||l==="a"){d&&d.click(),t.preventDefault();return}if(i==="KeyC"||l==="c"){b&&!b.disabled&&b.click(),t.preventDefault();return}if(i==="Escape"||l==="escape"){It();return}}document.addEventListener("keydown",$e),setTimeout(qt,200)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",re):re();})();
