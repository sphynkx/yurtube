(()=>{function Dt(n){(!isFinite(n)||n<0)&&(n=0),n=Math.floor(n);let d=Math.floor(n/3600),h=Math.floor(n%3600/60),m=n%60,b=x=>(x<10?"0":"")+x;return d>0?`${d}:${b(h)}:${b(m)}`:`${h}:${b(m)}`}function R(n,d,h){return n<d?d:n>h?h:n}function ke(n){let d=parseFloat(String(n||"").trim());return isFinite(d)?d:0}function Ee(n,d){let h=0,m=!1,b=null;return function(...x){b=x;let D=Date.now();!h||D-h>=d?(h=D,n.apply(null,b)):m||(m=!0,setTimeout(()=>{m=!1,n.apply(null,b)},d-(D-h)))}}function Ft(n,d,h){let m=n.getAttribute(d);if(!m)return h;try{return JSON.parse(m)}catch(b){return h}}function Ut(n){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(n).catch(function(){});else{let d=document.createElement("textarea");d.value=n,d.style.position="fixed",d.style.left="-9999px",document.body.appendChild(d),d.select();try{document.execCommand("copy")}catch(h){}document.body.removeChild(d)}}var Ce="yrp:";function Ae(){try{return localStorage.setItem("__t","1"),localStorage.removeItem("__t"),!0}catch(n){return!1}}function O(n,d){if(!Ae())return d;try{let h=localStorage.getItem(Ce+n);return h?JSON.parse(h):d}catch(h){return d}}function X(n,d){if(Ae())try{localStorage.setItem(Ce+n,JSON.stringify(d))}catch(h){}}var Me="/static/img/fallback_video_notfound.gif";function Pe(n,d,h){let m=!1,b=null;function x(a){if(!m){m=!0,h&&h("fallback: applying",a);try{d?d.setAttribute("src",Me):n.src=Me,n.load()}catch(Z){}}}function D(){b&&(clearTimeout(b),b=null)}n.addEventListener("loadstart",function(){D(),b=setTimeout(function(){!m&&n.readyState<1&&x("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(a){n.addEventListener(a,D)}),n.addEventListener("error",function(){m||x("error-event")}),setTimeout(function(){let a=d?d.getAttribute("src")||"":n.currentSrc||n.src||"";!m&&!a&&x("empty-src")},0)}var Qe={};function ze(){try{let d=new URL(Qe.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(d)return d[1]}catch(n){}try{let d=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(d)return d[1]}catch(n){}try{let n=document.querySelector(".player-host[data-player]");if(n){let d=String(n.getAttribute("data-player")||"").trim();if(d)return d}}catch(n){}return"yurtube"}function ee(){let n=ze(),d=`/static/players/${n}`,h=document.querySelectorAll(`.player-host[data-player="${n}"]`);h.length&&fetch(d+"/templates/player.html",{credentials:"same-origin"}).then(m=>m.text()).then(function(m){for(let b=0;b<h.length;b++)Ge(h[b],m,d)}).catch(function(){})}function Te(n,...d){if(n)try{}catch(h){}}function Ge(n,d,h){n.innerHTML=d;let m=n.querySelector(".yrp-container"),b=m.querySelector(".yrp-video-wrap"),x=m.querySelector(".yrp-video"),D=x.querySelector("source"),a=n.getAttribute("data-video-src")||"",Z=n.getAttribute("data-poster-url")||"",F=n.getAttribute("data-video-id")||"",$=Ft(n,"data-subtitles",[]),S=Ft(n,"data-options",{}),Y=n.getAttribute("data-sprites-vtt")||"",tt=n.getAttribute("data-caption-vtt")||"",V=n.getAttribute("data-caption-lang")||"",pt=/\byrpdebug=1\b/i.test(location.search)||!!(S&&S.debug),it=(...l)=>Te(pt,...l);if(D&&D.setAttribute("src",a),Z&&x.setAttribute("poster",Z),S.autoplay&&x.setAttribute("autoplay",""),S.muted&&x.setAttribute("muted",""),S.loop&&x.setAttribute("loop",""),F&&m.setAttribute("data-video-id",F),Y&&m.setAttribute("data-sprites-vtt",Y),x.setAttribute("playsinline",""),Array.isArray($)&&$.forEach(function(l){if(!l||!l.src)return;let g=document.createElement("track");g.setAttribute("kind","captions"),l.srclang&&g.setAttribute("srclang",String(l.srclang)),l.label&&g.setAttribute("label",String(l.label)),g.setAttribute("src",String(l.src)),l.default&&g.setAttribute("default",""),x.appendChild(g)}),tt)try{let l=document.createElement("track");l.setAttribute("kind","captions"),l.setAttribute("src",tt),l.setAttribute("srclang",V||"auto"),l.setAttribute("label",V||"Original"),l.setAttribute("default",""),x.appendChild(l)}catch(l){it("caption append failed",l)}try{x.load(),it("video.load()",{src:a})}catch(l){it("video.load() error",l)}Pe(x,D,it);let H=h+"/img/buttons";[["--icon-play","play.svg"],["--icon-pause","pause.svg"],["--icon-prev","prev.svg"],["--icon-next","next.svg"],["--icon-vol","volume.svg"],["--icon-mute","mute.svg"],["--icon-cc","cc.svg"],["--icon-mini","mini.svg"],["--icon-settings","settings.svg"],["--icon-theater","theater.svg"],["--icon-full","full.svg"],["--icon-autoplay-on","autoplay-on.svg"],["--icon-autoplay-off","autoplay-off.svg"],["--icon-shuffle-on","shuffle-on.svg"],["--icon-shuffle-off","shuffle-off.svg"],["--icon-cycle-on","cycle-on.svg"],["--icon-cycle-off","cycle-off.svg"]].forEach(([l,g])=>{m.style.setProperty(l,`url("${H}/${g}")`)}),m.classList.add("yrp-icons-ready");let z=m.querySelector(".yrp-center-logo");z&&z.setAttribute("src",h+"/img/logo.png");let L=document.createElement("div");L.className="yrp-captions-layer",Object.assign(L.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let et=document.createElement("div");et.className="yrp-captions-text",Object.assign(et.style,{display:"inline-block",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:"16px",lineHeight:"1.35",padding:"6px 10px",borderRadius:"6px",maxWidth:"80%",minWidth:"220px",boxShadow:"0 2px 6px rgba(0,0,0,0.35)",whiteSpace:"pre-wrap",wordBreak:"break-word"}),L.appendChild(et),b&&(b.style.position="relative",b.appendChild(L));let N={active:!1,startX:0,startY:0,startLeftPct:50,startTopPct:80},G=!1;function C(){return b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0}}function c(l){let g=C(),M=Math.min(l,g.width-l)*2,U=12,E=220;et.style.maxWidth=Math.max(E,Math.floor(M-U))+"px"}function at(l){let g=l.touches?l.touches[0]:l,M=C(),U=L.getBoundingClientRect();N.startLeftPct=(U.left+U.width/2-M.left)/M.width*100,N.startTopPct=(U.top+U.height/2-M.top)/M.height*100,N.active=!0,N.startX=g.clientX,N.startY=g.clientY,l.preventDefault(),l.stopPropagation()}function yt(l){if(!N.active)return;let g=l.touches?l.touches[0]:l,M=g.clientX-N.startX,U=g.clientY-N.startY,E=C(),J=N.startLeftPct/100*E.width+M,j=N.startTopPct/100*E.height+U,jt=L.getBoundingClientRect(),Kt=jt.width/2,Vt=jt.height/2;J=R(J,Kt,E.width-Kt),j=R(j,Vt,E.height-Vt),L.style.left=J/E.width*100+"%",L.style.top=j/E.height*100+"%",L.style.transform="translate(-50%,-50%)",G=!0,c(J),l.preventDefault(),l.stopPropagation()}function mt(l){N.active&&(N.active=!1,l.preventDefault(),l.stopPropagation())}L.addEventListener("mousedown",at),L.addEventListener("touchstart",at,{passive:!1}),document.addEventListener("mousemove",yt),document.addEventListener("touchmove",yt,{passive:!1}),document.addEventListener("mouseup",mt),document.addEventListener("touchend",mt),L.addEventListener("click",function(l){l.stopPropagation()});function ht(){if(G)return;let l=!m.classList.contains("autohide");L.style.top=l?"78%":"82%",L.style.left="50%",L.style.transform="translate(-50%,-50%)",c(C().width/2)}let nt=0;typeof S.start=="number"&&S.start>0&&(nt=Math.max(0,S.start));try{let g=new URL(window.location.href).searchParams.get("t");if(g!=null){let M=parseInt(String(g).trim(),10);isFinite(M)&&M>0&&(nt=Math.max(nt,M))}}catch(l){}Je(m,nt,pt,{overlay:L,textBox:et,autoAdjust:ht},nt,h)}function Je(n,d,h,m,b,x){let D=(...t)=>Te(h,...t),a=n.querySelector(".yrp-video"),Z=n.querySelector(".yrp-center-play"),F=n.querySelector(".yrp-play"),$=n.querySelector(".yrp-prev"),S=n.querySelector(".yrp-next"),Y=n.querySelector(".yrp-vol-btn"),tt=n.querySelector(".yrp-volume"),V=n.querySelector(".yrp-vol-slider"),pt=n.querySelector(".yrp-time-current"),it=n.querySelector(".yrp-time-total"),H=n.querySelector(".yrp-progress"),z=n.querySelector(".yrp-progress-rail"),L=n.querySelector(".yrp-progress-buffer"),et=n.querySelector(".yrp-progress-played"),N=n.querySelector(".yrp-progress-handle"),G=n.querySelector(".yrp-progress-tooltip"),C=n.querySelector(".yrp-settings"),c=n.querySelector(".yrp-menu"),at=n.querySelector(".yrp-theater"),yt=n.querySelector(".yrp-fullscreen"),mt=n.querySelector(".yrp-pip"),ht=n.querySelector(".yrp-left"),nt=n.querySelector(".yrp-right"),l=n.querySelector(".yrp-autoplay"),g=n.querySelector(".yrp-subtitles"),M=null,U=!1,E=0,J=!1,j=!1,jt=!1,Kt=!1,Vt=!1,Ze=null,ne=!!O("autoplay",!1),st=n.getAttribute("data-sprites-vtt")||"",Et=[],Ht=0,Q=null,Ct=!1,At=!1,K=!0,ot=0,re=function(){try{return String(localStorage.getItem("subtitle_lang")||"")}catch(t){return""}}(),Wt=function(){try{return parseFloat(localStorage.getItem("playback_speed")||"")}catch(t){return NaN}}(),k="main",_t="",gt=0,ie=!1,Mt=null;function qe(){if(Mt)return Mt;try{typeof Intl!="undefined"&&Intl.DisplayNames&&(Mt=new Intl.DisplayNames(["en"],{type:"language"}))}catch(t){}return Mt}function Ie(t,e){let i=String(t||"").trim();if(!i)return String(e||"");if(i.toLowerCase()==="auto")return"Auto";let r=i.split("-",1)[0].toLowerCase();try{let s=qe();if(s&&typeof s.of=="function"){let u=s.of(r);if(u)return u.charAt(0).toUpperCase()+u.slice(1)}}catch(s){}return String(e||i)}function vt(){try{return a.textTracks?Array.prototype.filter.call(a.textTracks,function(t){return t.kind==="subtitles"||t.kind==="captions"}):[]}catch(t){return[]}}function Pt(){return vt().length>0}function Xt(){let t=vt();return t.length===0?null:((ot<0||ot>=t.length)&&(ot=0),t[ot])}function Tt(){vt().forEach(function(e,i){e.mode=i===ot&&K?"hidden":"disabled"}),we("applyPageModes")}function Ne(){let t=Xt();if(!t||!t.cues)return"";let e=a.currentTime||0;for(let i=0;i<t.cues.length;i++){let r=t.cues[i];if(e>=r.startTime&&e<=r.endTime)return(r.text||"").replace(/\r/g,"")}return""}function bt(){!m||!m.textBox||(m.textBox.textContent=K?Ne():"")}function ae(){return vt().map(function(e,i){let r=String(e.language||e.srclang||"").toLowerCase(),s=String(e.label||r||"Lang "+(i+1)),u=Ie(r,s);return{index:i,lang:r,label:u}})}function se(t){let e=String(t||"").toLowerCase(),i=ae();for(var r=0;r<i.length;r++)if(i[r].lang===e||i[r].label.toLowerCase()===e)return i[r].index;return-1}function Be(t){let e=se(t);if(e>=0){ot=e,K=!0,Tt(),bt();try{localStorage.setItem("subtitle_lang",String(t||""))}catch(i){}ut&&ut()}}function oe(t){K=!!t,Tt(),bt(),ut&&ut()}function ce(){c&&(_t||(_t=c.innerHTML||""))}function wt(){if(c&&!(gt>0))try{let t=c.getBoundingClientRect();gt=Math.ceil(t.height||0),gt>0&&(c.style.minHeight=gt+"px")}catch(t){}}function ct(){c&&(gt=0,c.style.minHeight="")}function lt(t){try{t.style.background="transparent",t.style.backgroundColor="transparent",t.style.border="none",t.style.boxShadow="none",t.style.color="inherit",t.style.textAlign="left",t.style.width="100%",t.style.display="block"}catch(e){}}function $t(t){lt(t);try{t.style.background="rgba(255,255,255,0.12)",t.style.backgroundColor="rgba(255,255,255,0.12)",t.style.borderRadius="4px",t.style.fontWeight="700",t.style.marginBottom="6px",t.style.paddingLeft="8px",t.style.paddingRight="8px"}catch(e){}}function Re(t){try{t.classList.add("has-submenu")}catch(e){}}function Oe(){if(c)try{let t=c.querySelector('.yrp-menu-section[data-section="quality"]');if(!t)return;let e=t.querySelector(".yrp-menu-title");if(e&&e.parentNode&&e.parentNode.removeChild(e),t.querySelector(".yrp-menu-item.quality-future"))return;let i=document.createElement("button");i.type="button",i.className="yrp-menu-item quality-future",i.textContent="Quality (future)",i.disabled=!0,lt(i),i.style.opacity="0.75",t.appendChild(i)}catch(t){}}function De(){if(c)try{let t=c.querySelector('.yrp-menu-section[data-section="subtitles"]');t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}}function Yt(){if(c){ce(),c.innerHTML=_t,k="main";try{let t=c.querySelector('.yrp-menu-section[data-section="speed"]');t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}De(),Oe(),Ue(),Fe(),je()}}function zt(t,e,i={}){if(!c)return null;let r=c.querySelector(".yrp-menu-section")||null,s=document.createElement("button");return s.type="button",s.className="yrp-menu-item",s.setAttribute("data-action",e),s.textContent=t,lt(s),i&&i.disabled===!0&&(s.disabled=!0,s.style.opacity="0.6"),i&&i.hasSubmenu===!0&&Re(s),r&&r.parentNode===c?c.insertBefore(s,r):c.appendChild(s),s}function Fe(){c&&(c.querySelector('.yrp-menu-item[data-action="open-langs"]')||zt("Languages","open-langs",{hasSubmenu:!0}))}function Ue(){c&&(c.querySelector('.yrp-menu-item[data-action="open-speed"]')||zt("Speed","open-speed",{hasSubmenu:!0}))}function je(){if(!c||c.querySelector('.yrp-menu-item[data-action="open-subs"]'))return;let t=Pt(),e=zt("Subtitles","open-subs",{hasSubmenu:!0,disabled:!t});e&&!t&&(e.title="No subtitles tracks")}function Ke(t){let e=document.createElement("div");return e.className="yrp-menu-scroll",Object.assign(e.style,{overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100% - 40px)",paddingRight:"2px"}),e}function le(){if(!c)return;for(k="langs";c.firstChild;)c.removeChild(c.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",$t(t),c.appendChild(t);let e=Ke(t);c.appendChild(e),e.style.maxHeight="70vh",e.style.overflowY="auto",e.style.overflowX="hidden",e.style.webkitOverflowScrolling="touch",e.addEventListener("wheel",function(p){let o=p.deltaY;p.deltaMode===1?o=o*16:p.deltaMode===2&&(o=o*e.clientHeight),e.scrollTop=e.scrollTop+o,p.preventDefault()},{passive:!1});let i=ae(),r=Xt(),s=r&&(r.language||r.srclang)?String(r.language||r.srclang).toLowerCase():"",u=i.slice().sort(function(p,o){let y=(p.lang||"").toLowerCase(),v=(o.lang||"").toLowerCase();return y==="auto"&&v!=="auto"?-1:v==="auto"&&y!=="auto"?1:(p.label||"").localeCompare(o.label||"")});if(u.forEach(function(p){let o=document.createElement("button");o.type="button",o.className="yrp-menu-item",o.setAttribute("data-action","select-lang"),o.setAttribute("data-lang",p.lang||"");let y=p.lang?` (${p.lang})`:"";o.textContent=p.label+y+(p.lang===s?" \u2713":""),lt(o),e.appendChild(o)}),!u.length){let p=document.createElement("div");p.className="yrp-menu-title",p.style.marginTop="6px",p.style.fontSize="12px",p.style.opacity="0.8",p.textContent="No subtitles tracks",e.appendChild(p)}}function Ve(){return[.5,.75,1,1.25,1.5,2]}function ue(t){let e=parseFloat(String(t));if(!(!isFinite(e)||e<=0)){a.playbackRate=e;try{localStorage.setItem("playback_speed",String(e))}catch(i){}}}function de(){if(!c)return;for(k="speed";c.firstChild;)c.removeChild(c.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",$t(t),c.appendChild(t);let e=isFinite(a.playbackRate)?a.playbackRate:1;Ve().forEach(function(i){let r=document.createElement("button");r.type="button",r.className="yrp-menu-item",r.setAttribute("data-action","set-speed"),r.setAttribute("data-speed",String(i)),r.textContent=(i===1?"1.0x":String(i)+"x")+(Math.abs(i-e)<.001?" \u2713":""),lt(r),c.appendChild(r)})}function fe(){if(!c)return;for(k="subs";c.firstChild;)c.removeChild(c.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",$t(t),c.appendChild(t);let e=document.createElement("button");e.type="button",e.className="yrp-menu-item",e.setAttribute("data-action","subs-on"),e.textContent="On"+(K?" \u2713":""),lt(e),c.appendChild(e);let i=document.createElement("button");i.type="button",i.className="yrp-menu-item",i.setAttribute("data-action","subs-off"),i.textContent="Off"+(K?"":" \u2713"),lt(i),c.appendChild(i)}function pe(t,e,i,r,s){let u=r?e:i,o=getComputedStyle(n).getPropertyValue(u)||n.style.getPropertyValue(u)||"",y=String(o).match(/url\(["']?([^"')]+)["']?\)/i);if(!(y&&y[1]?y[1]:null)){t.style.webkitMaskImage="",t.style.maskImage="",t.textContent=s,t.style.backgroundColor="transparent",t.style.color="var(--yrp-icon-color)",t.style.textIndent="0",t.dataset.maskApplied="0";return}t.textContent="";let w=`var(${u})`;t.style.webkitMaskImage=w,t.style.maskImage=w,t.style.backgroundColor="var(--yrp-icon-color)",t.style.color="",t.style.textIndent="-9999px",t.dataset.maskApplied="1"}function He(){return Q||(H?(Q=document.createElement("div"),Object.assign(Q.style,{position:"absolute",display:"none",bottom:"calc(100% + 30px)",left:"0",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),Q.className="yrp-sprite-pop",getComputedStyle(H).position==="static"&&(H.style.position="relative"),H.appendChild(Q),Q):null)}function ye(t){let e=String(t||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);return e?parseInt(e[1],10)*3600+parseInt(e[2],10)*60+parseFloat(e[3]):0}function We(t){if(!t)return"";try{let e=new URL(st,window.location.href);return new URL(t,e).href}catch(e){return t}}function me(){if(!st||Ct||At)return;let t="";try{t=new URL(st,window.location.href).href}catch(e){t=st}fetch(t,{credentials:"same-origin"}).then(e=>e.text()).then(function(e){let i=e.split(/\r?\n/);for(let r=0;r<i.length;r++){let s=i[r].trim();if(s&&s.indexOf("-->")>=0){let u=s.split("-->").map(W=>W.trim());if(u.length<2)continue;let p=ye(u[0]),o=ye(u[1]),y=(i[r+1]||"").trim(),v="",w=0,P=0,dt=0,Rt=0,ft=y.indexOf("#xywh=");if(ft>0){v=y.substring(0,ft);let W=y.substring(ft+6).split(",");W.length===4&&(w=parseInt(W[0],10),P=parseInt(W[1],10),dt=parseInt(W[2],10),Rt=parseInt(W[3],10))}else v=y||"";let St=We(v);Et.push({start:p,end:o,spriteUrl:St,x:w,y:P,w:dt,h:Rt}),o>Ht&&(Ht=o),r++}}Ct=!0}).catch(function(){At=!0})}function _e(t){if(!st||!Et.length||!z)return;let e=z.getBoundingClientRect(),i=R(t-e.left,0,e.width),r=e.width>0?i/e.width:0,s=(E||Ht||0)*r,u=null;for(let v=0;v<Et.length;v++){let w=Et[v];if(s>=w.start&&s<w.end){u=w;break}}let p=He();if(!p)return;if(!u||!u.spriteUrl||u.w<=0||u.h<=0){p.style.display="none";return}for(;p.firstChild;)p.removeChild(p.firstChild);let o=document.createElement("img");Object.assign(o.style,{position:"absolute",left:-u.x+"px",top:-u.y+"px"}),o.src=u.spriteUrl,p.appendChild(o),p.style.display="block";let y=R(i-u.w/2,0,e.width-u.w);p.style.left=y+"px",p.style.width=u.w+"px",p.style.height=u.h+"px"}function he(){if(!l)return;let t=ne;l.setAttribute("aria-pressed",t?"true":"false"),l.title=t?"Autoplay on (A)":"Autoplay off (A)",l.textContent="";let e=t?"var(--icon-autoplay-on)":"var(--icon-autoplay-off)";Object.assign(l.style,{backgroundColor:"currentColor",webkitMaskImage:e,maskImage:e,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px",opacity:t?"1":"0.6"})}function Gt(){if(!F)return;let t=!a.paused;F.classList.toggle("icon-play",!t),F.classList.toggle("icon-pause",t),F.setAttribute("aria-label",t?"Pause (Space, K)":"Play (Space, K)"),F.title=t?"Pause (Space, K)":"Play (Space, K)",F.textContent="";let e=t?"var(--icon-pause)":"var(--icon-play)";Object.assign(F.style,{backgroundColor:"currentColor",webkitMaskImage:e,maskImage:e,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px"})}function ut(){if(!g)return;let t=Pt();g.disabled=!t,g.style.visibility=t?"visible":"hidden",g.classList.toggle("no-tracks",!t),g.classList.toggle("has-tracks",t),g.classList.toggle("active",t&&K),g.classList.toggle("disabled-track",t&&!K),g.setAttribute("aria-pressed",K?"true":"false")}function Jt(t){M&&clearTimeout(M),M=setTimeout(function(){n.classList.add("autohide"),m&&m.autoAdjust&&m.autoAdjust()},Math.max(0,t||1200))}function B(){n.classList.remove("autohide"),m&&m.autoAdjust&&m.autoAdjust(),Jt(2e3)}function ge(){try{E=isFinite(a.duration)?a.duration:0}catch(t){E=0}it&&(it.textContent=Dt(E)),pt&&(pt.textContent=Dt(a.currentTime||0))}function Qt(){let t=E||0,e=a.currentTime||0,i=t>0?R(e/t,0,1):0;et&&(et.style.width=(i*100).toFixed(3)+"%"),N&&(N.style.left=(i*100).toFixed(3)+"%");let r=0;if(a.buffered&&a.buffered.length>0)try{r=a.buffered.end(a.buffered.length-1)}catch(u){r=0}let s=t>0?R(r/t,0,1):0;L&&(L.style.width=(s*100).toFixed(3)+"%")}function qt(){a.paused?a.play().catch(()=>{}):a.pause()}function ve(){a.muted=!a.muted,xt()}function xt(){let t=a.muted?0:a.volume,e=a.muted||t===0?"Mute":"Vol";Y&&(Y.textContent=e,Y.classList.toggle("icon-mute",e==="Mute"),Y.classList.toggle("icon-vol",e!=="Mute"))}function be(t){if(!z)return;let e=z.getBoundingClientRect(),i=R(t-e.left,0,e.width),r=e.width>0?i/e.width:0;a.currentTime=(E||0)*r}function Xe(t){if(!G||!z)return;let e=z.getBoundingClientRect(),i=R(t-e.left,0,e.width),r=e.width>0?i/e.width:0,s=(E||0)*r;G.textContent=Dt(s),G.style.left=(r*100).toFixed(3)+"%",G.hidden=!1}(function(){let e=n.getAttribute("data-video-id")||"";if(!e)return;if(b>0){try{let o=O("resume",{});o&&o[e]&&(delete o[e],X("resume",o))}catch(o){}return}let i=O("resume",{}),r=i[e],s=Date.now();function u(o){let y=isFinite(a.duration)?a.duration:0;if(y&&o>10&&o<y-5)try{a.currentTime=o}catch(v){}}if(r&&typeof r.t=="number"&&s-(r.ts||0)<180*24*3600*1e3){let o=Math.max(0,r.t|0);isFinite(a.duration)&&a.duration>0?u(o):a.addEventListener("loadedmetadata",function y(){a.removeEventListener("loadedmetadata",y),u(o)})}let p=Ee(function(){let o=isFinite(a.duration)?a.duration:0,y=Math.max(0,Math.floor(a.currentTime||0)),v=O("resume",{});v[e]={t:y,ts:Date.now(),d:o};let w=Object.keys(v);if(w.length>200){w.sort((P,dt)=>(v[P].ts||0)-(v[dt].ts||0));for(let P=0;P<w.length-200;P++)delete v[w[P]]}X("resume",v)},3e3);a.addEventListener("timeupdate",function(){!a.paused&&!a.seeking&&p()}),a.addEventListener("ended",function(){let o=O("resume",{});delete o[e],X("resume",o)})})(),function(){function e(r){n.classList.toggle("yrp-theater",r);try{if(typeof window.setTheater=="function")window.setTheater(r);else{let s=n.closest(".watch-layout")||document.querySelector(".watch-layout");s&&(s.classList.toggle("theater-mode",r),typeof window.relocateUpNext=="function"&&window.relocateUpNext())}}catch(s){}r?(n.style.maxWidth="",n.style.minWidth="",n.style.width=""):It()}!!O("theater",!1)&&e(!0),at&&at.addEventListener("click",function(){let r=!n.classList.contains("yrp-theater");e(r),X("theater",r),B()})}(),a.addEventListener("loadedmetadata",function(){if(d>0)try{a.currentTime=Math.min(d,Math.floor(a.duration||d))}catch(r){}if(setTimeout(It,0),ge(),Qt(),xt(),he(),Gt(),re){let r=se(re);r>=0&&(ot=r)}isFinite(Wt)&&Wt>0&&ue(Wt),Xt(),Tt(),ut(),Jt(1200),me(),bt();let t=n.querySelector(".yrp-video-wrap").getBoundingClientRect(),e=t.width/2,i=n.querySelector(".yrp-captions-text");if(i){let r=Math.min(e,t.width-e)*2,s=12,u=220;i.style.maxWidth=Math.max(u,Math.floor(r-s))+"px"}we("after loadedmetadata"),c&&!c.hidden&&(k==="main"?Yt():k==="langs"?le():k==="speed"?de():k==="subs"&&fe())});function we(t){let i=vt().map(function(r,s){return{i:s,mode:r.mode,label:r.label,srclang:r.language||r.srclang,cues:r.cues?r.cues.length:0,kind:r.kind}});D(t,i)}function It(){if(n.classList.contains("yrp-theater"))return;let t=getComputedStyle(a),e=ke(t.getPropertyValue("max-height"))||a.clientHeight||0,i=a.videoWidth||16,r=a.videoHeight||9,s=r>0?i/r:16/9,u=Math.min(e||a.clientHeight||0,window.innerHeight*.9);if(!u||!isFinite(u))return;let p=Math.floor(u*s),o=Math.floor(window.innerWidth*.95),y=$e(),v=Math.max(y,Math.min(p,o));n.style.maxWidth=v+"px",n.style.minWidth=y+"px",n.style.width="100%"}function $e(){let t=ht?ht.getBoundingClientRect().width:0,e=nt?nt.getBoundingClientRect().width:0,r=Math.ceil(t+e+24);return!isFinite(r)||r<=0?480:r}(function(){let e=n.closest(".player-host")||n,i=Ft(e,"data-options",null);function r(){return i&&i.autoplay===!0?!0:!!O("autoplay",!1)}if(!r()){setTimeout(function(){Jt(1e3)},0);return}function s(){let o=null;try{o=a.play()}catch(y){o=null}o&&typeof o.then=="function"?o.then(function(){}).catch(function(){if(!a.muted){j=!0,a.muted=!0,a.setAttribute("muted","");try{a.play().catch(function(){})}catch(y){}}}):setTimeout(function(){if(a.paused){j=!0,a.muted=!0,a.setAttribute("muted","");try{a.play().catch(function(){})}catch(y){}}},0)}let u=!1;function p(){u||(u=!0,s())}a.readyState>=1&&p(),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(o){let y=function(){a.removeEventListener(o,y),p()};a.addEventListener(o,y)}),setTimeout(function(){if(a.paused){j=!0,a.muted=!0,a.setAttribute("muted","");try{a.play().catch(function(){})}catch(o){}}},1200)})(),window.addEventListener("resize",It),a.addEventListener("timeupdate",function(){ge(),Qt(),bt()}),a.addEventListener("progress",Qt),a.addEventListener("play",function(){n.classList.add("playing"),Gt(),B()}),a.addEventListener("pause",function(){n.classList.remove("playing"),Gt(),B()});function Zt(){!document.pictureInPictureEnabled||!a.requestPictureInPicture||a.disablePictureInPicture||(document.pictureInPictureElement===a?document.exitPictureInPicture().catch(function(){}):a.requestPictureInPicture().catch(function(){}))}a.addEventListener("click",qt),Z&&Z.addEventListener("click",qt),F&&F.addEventListener("click",qt),$&&$.addEventListener("click",function(){n.dispatchEvent(new CustomEvent("yrp-prev",{bubbles:!0}))}),S&&S.addEventListener("click",function(){n.dispatchEvent(new CustomEvent("yrp-next",{bubbles:!0}))}),function(){var e=new URL(window.location.href),i=e.searchParams.get("p"),r=e.searchParams.get("v")||n.getAttribute("data-video-id")||"";if(i)$&&($.style.display=""),S&&(S.style.display="");else{$&&($.style.display="none"),S&&(S.style.display="none");var s=n.querySelector(".yrp-shuffle"),u=n.querySelector(".yrp-cycle");s&&(s.style.display="none"),u&&(u.style.display="none");return}function p(){var f=[],q=document.querySelector("#upnext-block .rb-list"),I=document.querySelector("#panel-upnext .upnext-list"),_=[];return q?_=q.querySelectorAll("a.rb-item[href*='/watch']"):I&&(_=I.querySelectorAll("a.rb-item[href*='/watch']")),_.forEach(function(kt){var Ot=kt.getAttribute("href")||"",te=Ot.match(/[?&]v=([^&]+)/);te&&te[1]&&f.push(decodeURIComponent(te[1]))}),f}var o=p();if(!o||o.length===0)return;var y=o.indexOf(r);y<0&&(y=0);function v(f){return"pl:"+i+":"+f}var w=function(){var f=O(v("order"),"direct");return f==="shuffle"?"shuffle":"direct"}(),P=function(){var f=O(v("cycle"),"0");return f===!0||f==="1"}();function dt(f){w=f==="shuffle"?"shuffle":"direct",X(v("order"),w),Se()}function Rt(f){P=!!f,X(v("cycle"),P?"1":"0"),Le()}function ft(f){if(o.length<=1)return f;for(var q=0,I=f;q<6&&I===f;)I=Math.floor(Math.random()*o.length),q++;return I===f&&(I=(f+1)%o.length),I}function St(){if(w==="shuffle")return ft(y);var f=y+1;return f>=o.length?P?0:-1:f}function W(){if(w==="shuffle")return ft(y);var f=y-1;return f<0?P?o.length-1:-1:f}function Lt(f){f=Math.max(0,Math.min(o.length-1,f));var q=o[f];if(q){try{var I=O("resume",{});I&&I[q]&&(delete I[q],X("resume",I))}catch(kt){}var _=new URL(window.location.href);_.searchParams.set("v",q),_.searchParams.set("p",i),window.location.href=_.toString()}}n.addEventListener("yrp-prev",function(){var f=W();f>=0&&Lt(f)}),n.addEventListener("yrp-next",function(){var f=St();f>=0&&Lt(f)});var A=n.querySelector(".yrp-shuffle"),T=n.querySelector(".yrp-cycle");A||(A=document.createElement("button"),A.type="button",A.className="yrp-btn yrp-shuffle",A.title="Shuffle playlist",A.setAttribute("aria-label","Shuffle playlist"),Object.assign(A.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginLeft:"6px",marginRight:"2px"})),T||(T=document.createElement("button"),T.type="button",T.className="yrp-btn yrp-cycle",T.title="Cycle playlist",T.setAttribute("aria-label","Cycle playlist"),Object.assign(T.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginRight:"8px"})),A.dataset.forceEmoji="0",T.dataset.forceEmoji="0";function Se(){A.setAttribute("aria-pressed",w==="shuffle"?"true":"false"),pe(A,"--icon-shuffle-on","--icon-shuffle-off",w==="shuffle","\u{1F500}"),A.style.opacity=w==="shuffle"?"1":"0.55",A.style.display=""}function Le(){T.setAttribute("aria-pressed",P?"true":"false"),pe(T,"--icon-cycle-on","--icon-cycle-off",!!P,"\u{1F501}"),T.style.opacity="1",T.style.display=""}Se(),Le(),A.addEventListener("click",function(){dt(w==="shuffle"?"direct":"shuffle")}),T.addEventListener("click",function(){Rt(!P)});try{var rt=ht||S&&S.parentNode||n;tt&&rt?(rt.insertBefore(A,tt),rt.insertBefore(T,tt)):S&&rt?(rt.insertBefore(A,S.nextSibling),rt.insertBefore(T,A.nextSibling)):(rt.appendChild(A),rt.appendChild(T))}catch(f){}a.addEventListener("ended",function(){var f=St();f>=0&&Lt(f)}),document.addEventListener("keydown",function(f){var q=f.target,I=q&&q.tagName?q.tagName.toUpperCase():"";if(!(q&&(q.isContentEditable||I==="INPUT"||I==="TEXTAREA"))&&!(f.ctrlKey||f.metaKey||f.altKey)){var _=f.code||"";if(_==="PageUp"){f.preventDefault();var kt=W();kt>=0&&Lt(kt)}else if(_==="PageDown"){f.preventDefault();var Ot=St();Ot>=0&&Lt(Ot)}}})}(),Y&&Y.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),J=!0,j=!1,ve(),B(),n.classList.add("vol-open"),setTimeout(function(){n.classList.remove("vol-open")},1200)}),tt&&tt.addEventListener("wheel",function(t){t.preventDefault(),J=!0,j=!1;let e=.05,i=a.muted?0:a.volume,r=R(i+(t.deltaY<0?e:-e),0,1);a.volume=r,r>0&&(a.muted=!1),V&&(V.value=String(r)),xt(),B()},{passive:!1}),V&&(V.addEventListener("input",function(){J=!0,j=!1;let t=parseFloat(V.value||"1");isFinite(t)||(t=1),t=R(t,0,1),a.volume=t,t>0&&(a.muted=!1),xt()}),V.addEventListener("wheel",function(t){t.preventDefault(),J=!0,j=!1;let e=.05,i=a.muted?0:a.volume,r=R(i+(t.deltaY<0?e:-e),0,1);a.volume=r,r>0&&(a.muted=!1),V.value=String(r),xt(),B()},{passive:!1})),H&&(H.addEventListener("mousedown",function(t){U=!0,Nt(),be(t.clientX)}),window.addEventListener("mousemove",function(t){U&&be(t.clientX)}),window.addEventListener("mouseup",function(){U=!1}),H.addEventListener("mousemove",function(t){Xe(t.clientX),st&&Ct&&!At?_e(t.clientX):st&&!Ct&&!At&&me()}),H.addEventListener("mouseleave",function(){G&&(G.hidden=!0),Q&&(Q.style.display="none")}));function Nt(){c&&(c.hidden=!0,C&&C.setAttribute("aria-expanded","false"));let t=n.querySelector(".yrp-context");t&&(t.hidden=!0),n.classList.remove("vol-open"),k="main",ct()}C&&c&&(ce(),ie||(ie=!0,C.addEventListener("click",function(t){!c.hidden?(c.hidden=!0,C.setAttribute("aria-expanded","false"),k="main",ct()):(Nt(),Yt(),c.hidden=!1,C.setAttribute("aria-expanded","true"),wt()),t.stopPropagation(),n.classList.add("vol-open"),B()}),c.addEventListener("click",function(t){let e=t.target&&t.target.closest?t.target.closest(".yrp-menu-item"):null;if(!e||!c.contains(e))return;let i=e.getAttribute("data-action")||"",r=e.getAttribute("data-lang")||"";if(k==="main"){if(i==="open-langs"){t.preventDefault(),t.stopPropagation(),le(),wt(),n.classList.add("vol-open"),B();return}if(i==="open-speed"){t.preventDefault(),t.stopPropagation(),de(),wt(),n.classList.add("vol-open"),B();return}if(i==="open-subs"){if(t.preventDefault(),t.stopPropagation(),!Pt())return;fe(),wt(),n.classList.add("vol-open"),B();return}return}if(i==="back"){t.preventDefault(),t.stopPropagation(),Yt(),wt(),n.classList.add("vol-open"),B();return}if(k==="langs"&&i==="select-lang"&&r){t.preventDefault(),t.stopPropagation(),Be(r),c.hidden=!0,C.setAttribute("aria-expanded","false"),k="main",ct();return}if(k==="speed"&&i==="set-speed"){let s=parseFloat(e.getAttribute("data-speed")||"NaN");if(!isNaN(s)){t.preventDefault(),t.stopPropagation(),ue(s),c.hidden=!0,C.setAttribute("aria-expanded","false"),k="main",ct();return}}if(k==="subs"){if(i==="subs-on"){t.preventDefault(),t.stopPropagation(),oe(!0),c.hidden=!0,C.setAttribute("aria-expanded","false"),k="main",ct();return}if(i==="subs-off"){t.preventDefault(),t.stopPropagation(),oe(!1),c.hidden=!0,C.setAttribute("aria-expanded","false"),k="main",ct();return}}}),document.addEventListener("click",function(t){!c.hidden&&!c.contains(t.target)&&t.target!==C&&(c.hidden=!0,C.setAttribute("aria-expanded","false"),k="main",ct())}))),yt&&yt.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):n.requestFullscreen&&n.requestFullscreen().catch(function(){})}),mt&&mt.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),Zt()}),l&&l.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();let e=!O("autoplay",!1);X("autoplay",e),ne=e,he()}),g&&g.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),Pt()&&(K=!K,Tt(),bt(),ut())}),n.addEventListener("contextmenu",function(t){t.preventDefault(),Nt();let e=n.querySelector(".yrp-context");if(!e)return;let i=n.getBoundingClientRect();e.style.left=t.clientX-i.left+"px",e.style.top=t.clientY-i.top+"px",e.hidden=!1,e.onclick=function(r){let s=r.target&&r.target.getAttribute("data-action"),u=Math.floor(a.currentTime||0),p=n.getAttribute("data-video-id")||"";if(s==="pip")Zt();else if(s==="copy-url"){let o=new URL(window.location.href);o.searchParams.delete("t"),Ut(o.toString())}else if(s==="copy-url-time"){let o=new URL(window.location.href);o.searchParams.set("t",String(u)),Ut(o.toString())}else if(s==="copy-embed"){let y=`<iframe width="560" height="315" src="${(window.location.origin||"")+"/embed?v="+encodeURIComponent(p||"")}" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>`;Ut(y)}e.hidden=!0},document.addEventListener("click",function(r){let s=n.querySelector(".yrp-context");s&&!s.hidden&&!s.contains(r.target)&&(s.hidden=!0)},{once:!0}),document.addEventListener("keydown",function r(s){if(s.code==="Escape"||(s.key||"").toLowerCase()==="escape"){let u=n.querySelector(".yrp-context");u&&!u.hidden&&(u.hidden=!0),document.removeEventListener("keydown",r)}})});function Bt(t){let e=n.getBoundingClientRect();t.clientX>=e.left&&t.clientX<=e.right&&t.clientY>=e.top&&t.clientY<=e.bottom&&B()}document.addEventListener("mousemove",Bt,{passive:!0}),document.addEventListener("pointermove",Bt,{passive:!0}),["mousemove","pointermove","mouseenter","mouseover","touchstart"].forEach(function(t){n.addEventListener(t,function(){try{n.focus()}catch(e){}B()},{passive:!0}),a&&a.addEventListener(t,B,{passive:!0}),Z&&Z.addEventListener(t,B,{passive:!0})});function xe(){try{document.fullscreenElement===n&&(document.addEventListener("mousemove",Bt,{passive:!0}),document.addEventListener("pointermove",Bt,{passive:!0}))}catch(t){}}document.addEventListener("fullscreenchange",xe),xe();function Ye(t){let e=t.target,i=e&&e.tagName?e.tagName.toUpperCase():"";if(e&&(e.isContentEditable||i==="INPUT"||i==="TEXTAREA")||t.ctrlKey||t.metaKey||t.altKey)return;let r=t.code,s=(t.key||"").toLowerCase();if(r==="Space"||r==="Enter"||r==="NumpadEnter"||r==="MediaPlayPause"||r==="KeyK"||s==="k"){qt(),t.preventDefault();return}if(r==="ArrowLeft"||s==="arrowleft"||r==="KeyJ"||s==="j"){a.currentTime=R((a.currentTime||0)-5,0,E||0),t.preventDefault();return}if(r==="ArrowRight"||s==="arrowright"||r==="KeyL"||s==="l"){a.currentTime=R((a.currentTime||0)+5,0,E||0),t.preventDefault();return}if(r==="KeyM"||s==="m"){ve(),t.preventDefault();return}if(r==="KeyF"||s==="f"){document.fullscreenElement?document.exitFullscreen().catch(function(){}):n.requestFullscreen&&n.requestFullscreen().catch(function(){}),t.preventDefault();return}if(r==="KeyT"||s==="t"){at&&at.click(),t.preventDefault();return}if(r==="KeyI"||s==="i"){Zt(),t.preventDefault();return}if(r==="KeyA"||s==="a"){l&&l.click(),t.preventDefault();return}if(r==="KeyC"||s==="c"){g&&!g.disabled&&g.click(),t.preventDefault();return}if(r==="Escape"||s==="escape"){Nt();return}}document.addEventListener("keydown",Ye),setTimeout(It,200)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ee):ee();})();
