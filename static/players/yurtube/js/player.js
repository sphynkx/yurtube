(()=>{function Bt(t){(!isFinite(t)||t<0)&&(t=0),t=Math.floor(t);let r=Math.floor(t/3600),a=Math.floor(t%3600/60),s=t%60,c=p=>(p<10?"0":"")+p;return r>0?`${r}:${c(a)}:${c(s)}`:`${a}:${c(s)}`}function j(t,r,a){return t<r?r:t>a?a:t}function xe(t){let r=parseFloat(String(t||"").trim());return isFinite(r)?r:0}function we(t,r){let a=0,s=!1,c=null;return function(...p){c=p;let m=Date.now();!a||m-a>=r?(a=m,t.apply(null,c)):s||(s=!0,setTimeout(()=>{s=!1,t.apply(null,c)},r-(m-a)))}}function Nt(t,r,a){let s=t.getAttribute(r);if(!s)return a;try{return JSON.parse(s)}catch(c){return a}}function Ht(t){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).catch(function(){});else{let r=document.createElement("textarea");r.value=t,r.style.position="fixed",r.style.left="-9999px",document.body.appendChild(r),r.select();try{document.execCommand("copy")}catch(a){}document.body.removeChild(r)}}var Se="yrp:";function Le(){try{return localStorage.setItem("__t","1"),localStorage.removeItem("__t"),!0}catch(t){return!1}}function W(t,r){if(!Le())return r;try{let a=localStorage.getItem(Se+t);return a?JSON.parse(a):r}catch(a){return r}}function Q(t,r){if(Le())try{localStorage.setItem(Se+t,JSON.stringify(r))}catch(a){}}var ke="/static/img/fallback_video_notfound.gif";function Ce(t,r,a){let s=!1,c=null;function p(n){if(!s){s=!0,a&&a("fallback: applying",n);try{r?r.setAttribute("src",ke):t.src=ke,t.load()}catch($){}}}function m(){c&&(clearTimeout(c),c=null)}t.addEventListener("loadstart",function(){m(),c=setTimeout(function(){!s&&t.readyState<1&&p("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(n){t.addEventListener(n,m)}),t.addEventListener("error",function(){s||p("error-event")}),setTimeout(function(){let n=r?r.getAttribute("src")||"":t.currentSrc||t.src||"";!s&&!n&&p("empty-src")},0)}var Rt=null;function Ue(){if(Rt)return Rt;try{typeof Intl!="undefined"&&Intl.DisplayNames&&(Rt=new Intl.DisplayNames(["en"],{type:"language"}))}catch(t){}return Rt}function We(t,r){let a=String(t||"").trim();if(!a)return String(r||"");if(a.toLowerCase()==="auto")return"Auto";let s=a.split("-",1)[0].toLowerCase();try{let c=Ue();if(c&&typeof c.of=="function"){let p=c.of(s);if(p)return p.charAt(0).toUpperCase()+p.slice(1)}}catch(c){}return String(r||a)}function wt(t){try{return t.textTracks?Array.prototype.filter.call(t.textTracks,function(r){return r.kind==="subtitles"||r.kind==="captions"}):[]}catch(r){return[]}}function St(t){return wt(t).length>0}function Vt(t,r){let a=wt(t);if(a.length===0)return null;let s=r<0||r>=a.length?0:r;return a[s]}function Lt(t,r,a){wt(t).forEach(function(c,p){c.mode=p===r&&a?"hidden":"disabled"})}function Ke(t,r){let a=Vt(t,r);if(!a||!a.cues)return"";let s=t.currentTime||0;for(let c=0;c<a.cues.length;c++){let p=a.cues[c];if(s>=p.startTime&&s<=p.endTime)return(p.text||"").replace(/\r/g,"")}return""}function Ee(t){return wt(t).map(function(a,s){let c=String(a.language||a.srclang||"").toLowerCase(),p=String(a.label||c||"Lang "+(s+1)),m=We(c,p);return{index:s,lang:c,label:m}})}function Zt(t,r){let a=String(r||"").toLowerCase(),s=Ee(t);for(var c=0;c<s.length;c++)if(s[c].lang===a||s[c].label.toLowerCase()===a)return s[c].index;return-1}function Ae(t,r,a,s){if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);let c=document.createElement("button");c.type="button",c.className="yrp-menu-item",c.setAttribute("data-action","back"),c.textContent="\u2190 Back",a(c),t.appendChild(c);let p=document.createElement("button");p.type="button",p.className="yrp-menu-item",p.setAttribute("data-action","subs-on"),p.textContent="On"+(r?" \u2713":""),s(p),t.appendChild(p);let m=document.createElement("button");m.type="button",m.className="yrp-menu-item",m.setAttribute("data-action","subs-off"),m.textContent="Off"+(r?"":" \u2713"),s(m),t.appendChild(m)}function Me(t,r,a,s,c,p){if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);let m=document.createElement("button");m.type="button",m.className="yrp-menu-item",m.setAttribute("data-action","back"),m.textContent="\u2190 Back",s(m),t.appendChild(m);let n=p(m,t);t.appendChild(n);let $=Ee(r),T=Vt(r,a),K=T&&(T.language||T.srclang)?String(T.language||T.srclang).toLowerCase():"",C=$.slice().sort(function(w,E){let O=(w.lang||"").toLowerCase(),Y=(E.lang||"").toLowerCase();return O==="auto"&&Y!=="auto"?-1:Y==="auto"&&O!=="auto"?1:(w.label||"").localeCompare(E.label||"")});if(C.forEach(function(w){let E=document.createElement("button");E.type="button",E.className="yrp-menu-item",E.setAttribute("data-action","select-lang"),E.setAttribute("data-lang",w.lang||"");let O=w.lang?` (${w.lang})`:"",Y=w.index===a||w.lang&&K&&w.lang===K;E.textContent=w.label+O+(Y?" \u2713":""),c(E),n.appendChild(E)}),!C.length){let w=document.createElement("div");w.className="yrp-menu-title",w.style.marginTop="6px",w.style.fontSize="12px",w.style.opacity="0.8",w.textContent="No subtitle tracks",n.appendChild(w)}}function pt(t,r,a){if(!t)return;let s=St(r);t.disabled=!s,t.style.visibility=s?"visible":"hidden",t.classList.toggle("no-tracks",!s),t.classList.toggle("has-tracks",s),t.classList.toggle("active",s&&a),t.classList.toggle("disabled-track",s&&!a),t.setAttribute("aria-pressed",a?"true":"false")}function ft(t,r,a,s){!t||!t.textBox||(t.textBox.textContent=s?Ke(r,a):"")}function te(t,r,a){let c=wt(t).map(function(p,m){return{i:m,mode:p.mode,label:p.label,srclang:p.language||p.srclang,cues:p.cues?p.cues.length:0,kind:p.kind}});r(a,c)}function rt(t){try{t.style.background="transparent",t.style.backgroundColor="transparent",t.style.border="none",t.style.boxShadow="none",t.style.color="inherit",t.style.textAlign="left",t.style.width="100%",t.style.display="block"}catch(r){}}function Ft(t){rt(t);try{t.style.background="rgba(255,255,255,0.12)",t.style.backgroundColor="rgba(255,255,255,0.12)",t.style.borderRadius="4px",t.style.fontWeight="700",t.style.marginBottom="6px",t.style.paddingLeft="8px",t.style.paddingRight="8px"}catch(r){}}function Dt(t){try{t.classList.add("has-submenu")}catch(r){}}function _e(t,r){if(t)try{let a=t.querySelector('.yrp-menu-section[data-section="quality"]');if(!a)return;let s=a.querySelector(".yrp-menu-title");if(s&&s.parentNode&&s.parentNode.removeChild(s),a.querySelector(".yrp-menu-item.quality-future"))return;let c=document.createElement("button");c.type="button",c.className="yrp-menu-item quality-future",c.textContent="Quality (future)",c.disabled=!0,r(c),c.style.opacity="0.75",a.appendChild(c)}catch(a){}}function Xe(t){if(t)try{let r=t.querySelector('.yrp-menu-section[data-section="subtitles"]');r&&r.parentNode&&r.parentNode.removeChild(r)}catch(r){}}function jt(t,r,a,s,c,p){if(!t)return null;let m=t.querySelector(".yrp-menu-section")||null,n=document.createElement("button");return n.type="button",n.className="yrp-menu-item",n.setAttribute("data-action",a),n.textContent=r,c(n),s&&s.disabled===!0&&(n.disabled=!0,n.style.opacity="0.6"),s&&s.hasSubmenu===!0&&p(n),m&&m.parentNode===t?t.insertBefore(n,m):t.appendChild(n),n}function $e(){return[.5,.75,1,1.25,1.5,2]}function Te(t,r,a,s){if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);let c=document.createElement("button");c.type="button",c.className="yrp-menu-item",c.setAttribute("data-action","back"),c.textContent="\u2190 Back",a(c),t.appendChild(c);let p=isFinite(r.playbackRate)?r.playbackRate:1;$e().forEach(function(m){let n=document.createElement("button");n.type="button",n.className="yrp-menu-item",n.setAttribute("data-action","set-speed"),n.setAttribute("data-speed",String(m)),n.textContent=(m===1?"1.0x":String(m)+"x")+(Math.abs(m-p)<.001?" \u2713":""),s(n),t.appendChild(n)})}function ee(t,r){let a=parseFloat(String(r));if(!(!isFinite(a)||a<=0)){t.playbackRate=a;try{localStorage.setItem("playback_speed",String(a))}catch(s){}}}var Ot=class{constructor(r){this.menu=r,this.menuView="main",this.menuMainHTML="",this.menuFixedMinHeight=0}ensureMainSnapshot(){this.menu&&(this.menuMainHTML||(this.menuMainHTML=this.menu.innerHTML||""))}lockHeightFromCurrent(){if(this.menu&&!(this.menuFixedMinHeight>0))try{let r=this.menu.getBoundingClientRect();this.menuFixedMinHeight=Math.ceil(r.height||0),this.menuFixedMinHeight>0&&(this.menu.style.minHeight=this.menuFixedMinHeight+"px")}catch(r){}}resetHeightLock(){this.menu&&(this.menuFixedMinHeight=0,this.menu.style.minHeight="")}setView(r){this.menuView=r}getView(){return this.menuView}openMainView(r){if(this.menu){this.ensureMainSnapshot(),this.menu.innerHTML=this.menuMainHTML,this.menuView="main",this.menu.style.maxHeight="";try{let a=this.menu.querySelector('.yrp-menu-section[data-section="speed"]');a&&a.parentNode&&a.parentNode.removeChild(a)}catch(a){}Xe(this.menu),_e(this.menu,rt),r&&(r.injectSpeed&&r.injectSpeed(),r.injectLanguages&&r.injectLanguages(),r.injectSubtitles&&r.injectSubtitles())}}constrainToPlayerHeight(r=2/3){if(this.menu)try{let a=this.menu.closest(".yrp-container");if(a){let s=a.querySelector(".yrp-video-wrap");if(s){let c=s.getBoundingClientRect().height,p=Math.floor(c*r)-34;p>100&&(this.menu.style.maxHeight=p+"px")}}}catch(a){}}};var Je={};function Ye(){try{let r=new URL(Je.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(r)return r[1]}catch(t){}try{let r=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(r)return r[1]}catch(t){}try{let t=document.querySelector(".player-host[data-player]");if(t){let r=String(t.getAttribute("data-player")||"").trim();if(r)return r}}catch(t){}return"yurtube"}function ne(){let t=Ye(),r=`/static/players/${t}`,a=document.querySelectorAll(`.player-host[data-player="${t}"]`);a.length&&fetch(r+"/templates/player.html",{credentials:"same-origin"}).then(s=>s.text()).then(function(s){for(let c=0;c<a.length;c++)ze(a[c],s,r)}).catch(function(){})}function Pe(t,...r){if(t)try{}catch(a){}}function ze(t,r,a){t.innerHTML=r;let s=t.querySelector(".yrp-container"),c=s.querySelector(".yrp-video-wrap"),p=s.querySelector(".yrp-video"),m=p.querySelector("source"),n=t.getAttribute("data-video-src")||"",$=t.getAttribute("data-poster-url")||"",T=t.getAttribute("data-video-id")||"",K=Nt(t,"data-subtitles",[]),C=Nt(t,"data-options",{}),w=t.getAttribute("data-sprites-vtt")||"",E=t.getAttribute("data-caption-vtt")||"",O=t.getAttribute("data-caption-lang")||"",Y=/\byrpdebug=1\b/i.test(location.search)||!!(C&&C.debug),ot=(...u)=>Pe(Y,...u);if(m&&m.setAttribute("src",n),$&&p.setAttribute("poster",$),C.autoplay&&p.setAttribute("autoplay",""),C.muted&&p.setAttribute("muted",""),C.loop&&p.setAttribute("loop",""),T&&s.setAttribute("data-video-id",T),w&&s.setAttribute("data-sprites-vtt",w),p.setAttribute("playsinline",""),Array.isArray(K)&&K.forEach(function(u){if(!u||!u.src)return;let b=document.createElement("track");b.setAttribute("kind","captions"),u.srclang&&b.setAttribute("srclang",String(u.srclang)),u.label&&b.setAttribute("label",String(u.label)),b.setAttribute("src",String(u.src)),u.default&&b.setAttribute("default",""),p.appendChild(b)}),E)try{let u=document.createElement("track");u.setAttribute("kind","captions"),u.setAttribute("src",E),u.setAttribute("srclang",O||"auto"),u.setAttribute("label",O||"Original"),u.setAttribute("default",""),p.appendChild(u)}catch(u){ot("caption append failed",u)}try{p.load(),ot("video.load()",{src:n})}catch(u){ot("video.load() error",u)}Ce(p,m,ot);let z=a+"/img/buttons";[["--icon-play","play.svg"],["--icon-pause","pause.svg"],["--icon-prev","prev.svg"],["--icon-next","next.svg"],["--icon-vol","volume.svg"],["--icon-mute","mute.svg"],["--icon-cc","cc.svg"],["--icon-mini","mini.svg"],["--icon-settings","settings.svg"],["--icon-theater","theater.svg"],["--icon-full","full.svg"],["--icon-autoplay-on","autoplay-on.svg"],["--icon-autoplay-off","autoplay-off.svg"],["--icon-shuffle-on","shuffle-on.svg"],["--icon-shuffle-off","shuffle-off.svg"],["--icon-cycle-on","cycle-on.svg"],["--icon-cycle-off","cycle-off.svg"]].forEach(([u,b])=>{s.style.setProperty(u,`url("${z}/${b}")`)}),s.classList.add("yrp-icons-ready");let Z=s.querySelector(".yrp-center-logo");Z&&Z.setAttribute("src",a+"/img/logo.png");let A=document.createElement("div");A.className="yrp-captions-layer",Object.assign(A.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let it=document.createElement("div");it.className="yrp-captions-text",Object.assign(it.style,{display:"inline-block",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:"16px",lineHeight:"1.35",padding:"6px 10px",borderRadius:"6px",maxWidth:"80%",minWidth:"220px",boxShadow:"0 2px 6px rgba(0,0,0,0.35)",whiteSpace:"pre-wrap",wordBreak:"break-word"}),A.appendChild(it),c&&(c.style.position="relative",c.appendChild(A));let F={active:!1,startX:0,startY:0,startLeftPct:50,startTopPct:80},tt=!1;function q(){return c?c.getBoundingClientRect():{width:0,height:0,left:0,top:0}}function v(u){let b=q(),B=Math.min(u,b.width-u)*2,_=12,P=220;it.style.maxWidth=Math.max(P,Math.floor(B-_))+"px"}function ct(u){let b=u.touches?u.touches[0]:u,B=q(),_=A.getBoundingClientRect();F.startLeftPct=(_.left+_.width/2-B.left)/B.width*100,F.startTopPct=(_.top+_.height/2-B.top)/B.height*100,F.active=!0,F.startX=b.clientX,F.startY=b.clientY,u.preventDefault(),u.stopPropagation()}function yt(u){if(!F.active)return;let b=u.touches?u.touches[0]:u,B=b.clientX-F.startX,_=b.clientY-F.startY,P=q(),et=F.startLeftPct/100*P.width+B,X=F.startTopPct/100*P.height+_,Ut=A.getBoundingClientRect(),Wt=Ut.width/2,Kt=Ut.height/2;et=j(et,Wt,P.width-Wt),X=j(X,Kt,P.height-Kt),A.style.left=et/P.width*100+"%",A.style.top=X/P.height*100+"%",A.style.transform="translate(-50%,-50%)",tt=!0,v(et),u.preventDefault(),u.stopPropagation()}function ht(u){F.active&&(F.active=!1,u.preventDefault(),u.stopPropagation())}A.addEventListener("mousedown",ct),A.addEventListener("touchstart",ct,{passive:!1}),document.addEventListener("mousemove",yt),document.addEventListener("touchmove",yt,{passive:!1}),document.addEventListener("mouseup",ht),document.addEventListener("touchend",ht),A.addEventListener("click",function(u){u.stopPropagation()});function mt(){if(tt)return;let u=!s.classList.contains("autohide");A.style.top=u?"78%":"82%",A.style.left="50%",A.style.transform="translate(-50%,-50%)",v(q().width/2)}let at=0;typeof C.start=="number"&&C.start>0&&(at=Math.max(0,C.start));try{let b=new URL(window.location.href).searchParams.get("t");if(b!=null){let B=parseInt(String(b).trim(),10);isFinite(B)&&B>0&&(at=Math.max(at,B))}}catch(u){}Ge(s,at,Y,{overlay:A,textBox:it,autoAdjust:mt},at,a)}function Ge(t,r,a,s,c,p){let m=(...e)=>Pe(a,...e),n=t.querySelector(".yrp-video"),$=t.querySelector(".yrp-center-play"),T=t.querySelector(".yrp-play"),K=t.querySelector(".yrp-prev"),C=t.querySelector(".yrp-next"),w=t.querySelector(".yrp-vol-btn"),E=t.querySelector(".yrp-volume"),O=t.querySelector(".yrp-vol-slider"),Y=t.querySelector(".yrp-time-current"),ot=t.querySelector(".yrp-time-total"),z=t.querySelector(".yrp-progress"),Z=t.querySelector(".yrp-progress-rail"),A=t.querySelector(".yrp-progress-buffer"),it=t.querySelector(".yrp-progress-played"),F=t.querySelector(".yrp-progress-handle"),tt=t.querySelector(".yrp-progress-tooltip"),q=t.querySelector(".yrp-settings"),v=t.querySelector(".yrp-menu"),ct=t.querySelector(".yrp-theater"),yt=t.querySelector(".yrp-fullscreen"),ht=t.querySelector(".yrp-pip"),mt=t.querySelector(".yrp-left"),at=t.querySelector(".yrp-right"),u=t.querySelector(".yrp-autoplay"),b=t.querySelector(".yrp-subtitles"),B=null,_=!1,P=0,et=!1,X=!1,Ut=!1,Wt=!1,Kt=!1,Qe=null,re=!!W("autoplay",!1),lt=t.getAttribute("data-sprites-vtt")||"",kt=[],_t=0,nt=null,Ct=!1,Et=!1,M=!0,U=0,ie=function(){try{return String(localStorage.getItem("subtitle_lang")||"")}catch(e){return""}}(),Xt=function(){try{return parseFloat(localStorage.getItem("playback_speed")||"")}catch(e){return NaN}}(),x=new Ot(v),ae=!1;function qe(e){let i=Zt(n,e);if(i>=0){U=i,M=!0,Lt(n,U,M),ft(s,n,U,M);try{localStorage.setItem("subtitle_lang",String(e||""))}catch(f){}pt(b,n,M)}}function se(e){M=!!e,Lt(n,U,M),ft(s,n,U,M),pt(b,n,M)}function $t(){x.openMainView({injectSpeed:Be,injectLanguages:Ie,injectSubtitles:Ne})}function Ie(){v&&(v.querySelector('.yrp-menu-item[data-action="open-langs"]')||jt(v,"Languages","open-langs",{hasSubmenu:!0},rt,Dt))}function Be(){v&&(v.querySelector('.yrp-menu-item[data-action="open-speed"]')||jt(v,"Speed","open-speed",{hasSubmenu:!0},rt,Dt))}function Ne(){if(!v||v.querySelector('.yrp-menu-item[data-action="open-subs"]'))return;let e=St(n),i=jt(v,"Subtitles","open-subs",{hasSubmenu:!0,disabled:!e},rt,Dt);i&&!e&&(i.title="No subtitle tracks")}function He(e){let i=document.createElement("div");return i.className="yrp-menu-scroll",Object.assign(i.style,{overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100% - 40px)",paddingRight:"2px"}),i}function oe(){Me(v,n,U,Ft,rt,He),x.setView("langs"),x.constrainToPlayerHeight(2/3)}function ce(){Te(v,n,Ft,rt),x.setView("speed"),x.constrainToPlayerHeight(2/3)}function le(){Ae(v,M,Ft,rt),x.setView("subs"),x.constrainToPlayerHeight(2/3)}function ue(e,i,f,o,l){let h=o?i:f,d=getComputedStyle(t).getPropertyValue(h)||t.style.getPropertyValue(h)||"",g=String(d).match(/url\(["']?([^"')]+)["']?\)/i);if(!(g&&g[1]?g[1]:null)){e.style.webkitMaskImage="",e.style.maskImage="",e.textContent=l,e.style.backgroundColor="transparent",e.style.color="var(--yrp-icon-color)",e.style.textIndent="0",e.dataset.maskApplied="0";return}e.textContent="";let k=`var(${h})`;e.style.webkitMaskImage=k,e.style.maskImage=k,e.style.backgroundColor="var(--yrp-icon-color)",e.style.color="",e.style.textIndent="-9999px",e.dataset.maskApplied="1"}function Re(){return nt||(z?(nt=document.createElement("div"),Object.assign(nt.style,{position:"absolute",display:"none",bottom:"calc(100% + 30px)",left:"0",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),nt.className="yrp-sprite-pop",getComputedStyle(z).position==="static"&&(z.style.position="relative"),z.appendChild(nt),nt):null)}function de(e){let i=String(e||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);return i?parseInt(i[1],10)*3600+parseInt(i[2],10)*60+parseFloat(i[3]):0}function Ve(e){if(!e)return"";try{let i=new URL(lt,window.location.href);return new URL(e,i).href}catch(i){return e}}function pe(){if(!lt||Ct||Et)return;let e="";try{e=new URL(lt,window.location.href).href}catch(i){e=lt}fetch(e,{credentials:"same-origin"}).then(i=>i.text()).then(function(i){let f=i.split(/\r?\n/);for(let o=0;o<f.length;o++){let l=f[o].trim();if(l&&l.indexOf("-->")>=0){let h=l.split("-->").map(G=>G.trim());if(h.length<2)continue;let S=de(h[0]),d=de(h[1]),g=(f[o+1]||"").trim(),L="",k=0,N=0,ut=0,qt=0,dt=g.indexOf("#xywh=");if(dt>0){L=g.substring(0,dt);let G=g.substring(dt+6).split(",");G.length===4&&(k=parseInt(G[0],10),N=parseInt(G[1],10),ut=parseInt(G[2],10),qt=parseInt(G[3],10))}else L=g||"";let vt=Ve(L);kt.push({start:S,end:d,spriteUrl:vt,x:k,y:N,w:ut,h:qt}),d>_t&&(_t=d),o++}}Ct=!0}).catch(function(){Et=!0})}function Oe(e){if(!lt||!kt.length||!Z)return;let i=Z.getBoundingClientRect(),f=j(e-i.left,0,i.width),o=i.width>0?f/i.width:0,l=(P||_t||0)*o,h=null;for(let L=0;L<kt.length;L++){let k=kt[L];if(l>=k.start&&l<k.end){h=k;break}}let S=Re();if(!S)return;if(!h||!h.spriteUrl||h.w<=0||h.h<=0){S.style.display="none";return}for(;S.firstChild;)S.removeChild(S.firstChild);let d=document.createElement("img");Object.assign(d.style,{position:"absolute",left:-h.x+"px",top:-h.y+"px"}),d.src=h.spriteUrl,S.appendChild(d),S.style.display="block";let g=j(f-h.w/2,0,i.width-h.w);S.style.left=g+"px",S.style.width=h.w+"px",S.style.height=h.h+"px"}function fe(){if(!u)return;let e=re;u.setAttribute("aria-pressed",e?"true":"false"),u.title=e?"Autoplay on (A)":"Autoplay off (A)",u.textContent="";let i=e?"var(--icon-autoplay-on)":"var(--icon-autoplay-off)";Object.assign(u.style,{backgroundColor:"currentColor",webkitMaskImage:i,maskImage:i,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px",opacity:e?"1":"0.6"})}function Yt(){if(!T)return;let e=!n.paused;T.classList.toggle("icon-play",!e),T.classList.toggle("icon-pause",e),T.setAttribute("aria-label",e?"Pause (Space, K)":"Play (Space, K)"),T.title=e?"Pause (Space, K)":"Play (Space, K)",T.textContent="";let i=e?"var(--icon-pause)":"var(--icon-play)";Object.assign(T.style,{backgroundColor:"currentColor",webkitMaskImage:i,maskImage:i,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px"})}function zt(e){B&&clearTimeout(B),B=setTimeout(function(){t.classList.add("autohide"),s&&s.autoAdjust&&s.autoAdjust()},Math.max(0,e||1200))}function D(){t.classList.remove("autohide"),s&&s.autoAdjust&&s.autoAdjust(),zt(2e3)}function ye(){try{P=isFinite(n.duration)?n.duration:0}catch(e){P=0}ot&&(ot.textContent=Bt(P)),Y&&(Y.textContent=Bt(n.currentTime||0))}function Gt(){let e=P||0,i=n.currentTime||0,f=e>0?j(i/e,0,1):0;it&&(it.style.width=(f*100).toFixed(3)+"%"),F&&(F.style.left=(f*100).toFixed(3)+"%");let o=0;if(n.buffered&&n.buffered.length>0)try{o=n.buffered.end(n.buffered.length-1)}catch(h){o=0}let l=e>0?j(o/e,0,1):0;A&&(A.style.width=(l*100).toFixed(3)+"%")}function At(){n.paused?n.play().catch(()=>{}):n.pause()}function he(){n.muted=!n.muted,gt()}function gt(){let e=n.muted?0:n.volume,i=n.muted||e===0?"Mute":"Vol";w&&(w.textContent=i,w.classList.toggle("icon-mute",i==="Mute"),w.classList.toggle("icon-vol",i!=="Mute"))}function me(e){if(!Z)return;let i=Z.getBoundingClientRect(),f=j(e-i.left,0,i.width),o=i.width>0?f/i.width:0;n.currentTime=(P||0)*o}function Fe(e){if(!tt||!Z)return;let i=Z.getBoundingClientRect(),f=j(e-i.left,0,i.width),o=i.width>0?f/i.width:0,l=(P||0)*o;tt.textContent=Bt(l),tt.style.left=(o*100).toFixed(3)+"%",tt.hidden=!1}(function(){let i=t.getAttribute("data-video-id")||"";if(!i)return;if(c>0){try{let d=W("resume",{});d&&d[i]&&(delete d[i],Q("resume",d))}catch(d){}return}let f=W("resume",{}),o=f[i],l=Date.now();function h(d){let g=isFinite(n.duration)?n.duration:0;if(g&&d>10&&d<g-5)try{n.currentTime=d}catch(L){}}if(o&&typeof o.t=="number"&&l-(o.ts||0)<180*24*3600*1e3){let d=Math.max(0,o.t|0);isFinite(n.duration)&&n.duration>0?h(d):n.addEventListener("loadedmetadata",function g(){n.removeEventListener("loadedmetadata",g),h(d)})}let S=we(function(){let d=isFinite(n.duration)?n.duration:0,g=Math.max(0,Math.floor(n.currentTime||0)),L=W("resume",{});L[i]={t:g,ts:Date.now(),d};let k=Object.keys(L);if(k.length>200){k.sort((N,ut)=>(L[N].ts||0)-(L[ut].ts||0));for(let N=0;N<k.length-200;N++)delete L[k[N]]}Q("resume",L)},3e3);n.addEventListener("timeupdate",function(){!n.paused&&!n.seeking&&S()}),n.addEventListener("ended",function(){let d=W("resume",{});delete d[i],Q("resume",d)})})(),function(){function i(o){t.classList.toggle("yrp-theater",o);try{if(typeof window.setTheater=="function")window.setTheater(o);else{let l=t.closest(".watch-layout")||document.querySelector(".watch-layout");l&&(l.classList.toggle("theater-mode",o),typeof window.relocateUpNext=="function"&&window.relocateUpNext())}}catch(l){}o?(t.style.maxWidth="",t.style.minWidth="",t.style.width=""):Mt()}!!W("theater",!1)&&i(!0),ct&&ct.addEventListener("click",function(){let o=!t.classList.contains("yrp-theater");i(o),Q("theater",o),D()})}(),n.addEventListener("loadedmetadata",function(){if(r>0)try{n.currentTime=Math.min(r,Math.floor(n.duration||r))}catch(o){}if(setTimeout(Mt,0),ye(),Gt(),gt(),fe(),Yt(),pt(b,n,M),ie){let o=Zt(n,ie);o>=0&&(U=o)}isFinite(Xt)&&Xt>0&&ee(Xt),Vt(n,U),Lt(n,U,M),pt(b,n,M),zt(1200),pe(),ft(s,n,U,M);let e=t.querySelector(".yrp-video-wrap").getBoundingClientRect(),i=e.width/2,f=t.querySelector(".yrp-captions-text");if(f){let o=Math.min(i,e.width-i)*2,l=12,h=220;f.style.maxWidth=Math.max(h,Math.floor(o-l))+"px"}if(te(n,m,"after loadedmetadata"),v&&!v.hidden){let o=x.getView();o==="main"?$t():o==="langs"?oe():o==="speed"?ce():o==="subs"&&le()}});function Ze(e){te(n,m,e)}function Mt(){if(t.classList.contains("yrp-theater"))return;let e=getComputedStyle(n),i=xe(e.getPropertyValue("max-height"))||n.clientHeight||0,f=n.videoWidth||16,o=n.videoHeight||9,l=o>0?f/o:16/9,h=Math.min(i||n.clientHeight||0,window.innerHeight*.9);if(!h||!isFinite(h))return;let S=Math.floor(h*l),d=Math.floor(window.innerWidth*.95),g=De(),L=Math.max(g,Math.min(S,d));t.style.maxWidth=L+"px",t.style.minWidth=g+"px",t.style.width="100%"}function De(){let e=mt?mt.getBoundingClientRect().width:0,i=at?at.getBoundingClientRect().width:0,o=Math.ceil(e+i+24);return!isFinite(o)||o<=0?480:o}(function(){let i=t.closest(".player-host")||t,f=Nt(i,"data-options",null);function o(){return f&&f.autoplay===!0?!0:!!W("autoplay",!1)}if(!o()){setTimeout(function(){zt(1e3)},0);return}function l(){let d=null;try{d=n.play()}catch(g){d=null}d&&typeof d.then=="function"?d.then(function(){}).catch(function(){if(!n.muted){X=!0,n.muted=!0,n.setAttribute("muted","");try{n.play().catch(function(){})}catch(g){}}}):setTimeout(function(){if(n.paused){X=!0,n.muted=!0,n.setAttribute("muted","");try{n.play().catch(function(){})}catch(g){}}},0)}let h=!1;function S(){h||(h=!0,l())}n.readyState>=1&&S(),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(d){let g=function(){n.removeEventListener(d,g),S()};n.addEventListener(d,g)}),setTimeout(function(){if(n.paused){X=!0,n.muted=!0,n.setAttribute("muted","");try{n.play().catch(function(){})}catch(d){}}},1200)})(),window.addEventListener("resize",Mt),n.addEventListener("timeupdate",function(){ye(),Gt(),ft(s,n,U,M)}),n.addEventListener("progress",Gt),n.addEventListener("play",function(){t.classList.add("playing"),Yt(),D()}),n.addEventListener("pause",function(){t.classList.remove("playing"),Yt(),D()});function Jt(){!document.pictureInPictureEnabled||!n.requestPictureInPicture||n.disablePictureInPicture||(document.pictureInPictureElement===n?document.exitPictureInPicture().catch(function(){}):n.requestPictureInPicture().catch(function(){}))}n.addEventListener("click",At),$&&$.addEventListener("click",At),T&&T.addEventListener("click",At),K&&K.addEventListener("click",function(){t.dispatchEvent(new CustomEvent("yrp-prev",{bubbles:!0}))}),C&&C.addEventListener("click",function(){t.dispatchEvent(new CustomEvent("yrp-next",{bubbles:!0}))}),function(){var i=new URL(window.location.href),f=i.searchParams.get("p"),o=i.searchParams.get("v")||t.getAttribute("data-video-id")||"";if(f)K&&(K.style.display=""),C&&(C.style.display="");else{K&&(K.style.display="none"),C&&(C.style.display="none");var l=t.querySelector(".yrp-shuffle"),h=t.querySelector(".yrp-cycle");l&&(l.style.display="none"),h&&(h.style.display="none");return}function S(){var y=[],R=document.querySelector("#upnext-block .rb-list"),V=document.querySelector("#panel-upnext .upnext-list"),J=[];return R?J=R.querySelectorAll("a.rb-item[href*='/watch']"):V&&(J=V.querySelectorAll("a.rb-item[href*='/watch']")),J.forEach(function(xt){var It=xt.getAttribute("href")||"",Qt=It.match(/[?&]v=([^&]+)/);Qt&&Qt[1]&&y.push(decodeURIComponent(Qt[1]))}),y}var d=S();if(!d||d.length===0)return;var g=d.indexOf(o);g<0&&(g=0);function L(y){return"pl:"+f+":"+y}var k=function(){var y=W(L("order"),"direct");return y==="shuffle"?"shuffle":"direct"}(),N=function(){var y=W(L("cycle"),"0");return y===!0||y==="1"}();function ut(y){k=y==="shuffle"?"shuffle":"direct",Q(L("order"),k),ve()}function qt(y){N=!!y,Q(L("cycle"),N?"1":"0"),be()}function dt(y){if(d.length<=1)return y;for(var R=0,V=y;R<6&&V===y;)V=Math.floor(Math.random()*d.length),R++;return V===y&&(V=(y+1)%d.length),V}function vt(){if(k==="shuffle")return dt(g);var y=g+1;return y>=d.length?N?0:-1:y}function G(){if(k==="shuffle")return dt(g);var y=g-1;return y<0?N?d.length-1:-1:y}function bt(y){y=Math.max(0,Math.min(d.length-1,y));var R=d[y];if(R){try{var V=W("resume",{});V&&V[R]&&(delete V[R],Q("resume",V))}catch(xt){}var J=new URL(window.location.href);J.searchParams.set("v",R),J.searchParams.set("p",f),window.location.href=J.toString()}}t.addEventListener("yrp-prev",function(){var y=G();y>=0&&bt(y)}),t.addEventListener("yrp-next",function(){var y=vt();y>=0&&bt(y)});var I=t.querySelector(".yrp-shuffle"),H=t.querySelector(".yrp-cycle");I||(I=document.createElement("button"),I.type="button",I.className="yrp-btn yrp-shuffle",I.title="Shuffle playlist",I.setAttribute("aria-label","Shuffle playlist"),Object.assign(I.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginLeft:"6px",marginRight:"2px"})),H||(H=document.createElement("button"),H.type="button",H.className="yrp-btn yrp-cycle",H.title="Cycle playlist",H.setAttribute("aria-label","Cycle playlist"),Object.assign(H.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginRight:"8px"})),I.dataset.forceEmoji="0",H.dataset.forceEmoji="0";function ve(){I.setAttribute("aria-pressed",k==="shuffle"?"true":"false"),ue(I,"--icon-shuffle-on","--icon-shuffle-off",k==="shuffle","\u{1F500}"),I.style.opacity=k==="shuffle"?"1":"0.55",I.style.display=""}function be(){H.setAttribute("aria-pressed",N?"true":"false"),ue(H,"--icon-cycle-on","--icon-cycle-off",!!N,"\u{1F501}"),H.style.opacity="1",H.style.display=""}ve(),be(),I.addEventListener("click",function(){ut(k==="shuffle"?"direct":"shuffle")}),H.addEventListener("click",function(){qt(!N)});try{var st=mt||C&&C.parentNode||t;E&&st?(st.insertBefore(I,E),st.insertBefore(H,E)):C&&st?(st.insertBefore(I,C.nextSibling),st.insertBefore(H,I.nextSibling)):(st.appendChild(I),st.appendChild(H))}catch(y){}n.addEventListener("ended",function(){var y=vt();y>=0&&bt(y)}),document.addEventListener("keydown",function(y){var R=y.target,V=R&&R.tagName?R.tagName.toUpperCase():"";if(!(R&&(R.isContentEditable||V==="INPUT"||V==="TEXTAREA"))&&!(y.ctrlKey||y.metaKey||y.altKey)){var J=y.code||"";if(J==="PageUp"){y.preventDefault();var xt=G();xt>=0&&bt(xt)}else if(J==="PageDown"){y.preventDefault();var It=vt();It>=0&&bt(It)}}})}(),w&&w.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),et=!0,X=!1,he(),D(),t.classList.add("vol-open"),setTimeout(function(){t.classList.remove("vol-open")},1200)}),E&&E.addEventListener("wheel",function(e){e.preventDefault(),et=!0,X=!1;let i=.05,f=n.muted?0:n.volume,o=j(f+(e.deltaY<0?i:-i),0,1);n.volume=o,o>0&&(n.muted=!1),O&&(O.value=String(o)),gt(),D()},{passive:!1}),O&&(O.addEventListener("input",function(){et=!0,X=!1;let e=parseFloat(O.value||"1");isFinite(e)||(e=1),e=j(e,0,1),n.volume=e,e>0&&(n.muted=!1),gt()}),O.addEventListener("wheel",function(e){e.preventDefault(),et=!0,X=!1;let i=.05,f=n.muted?0:n.volume,o=j(f+(e.deltaY<0?i:-i),0,1);n.volume=o,o>0&&(n.muted=!1),O.value=String(o),gt(),D()},{passive:!1})),z&&(z.addEventListener("mousedown",function(e){_=!0,Tt(),me(e.clientX)}),window.addEventListener("mousemove",function(e){_&&me(e.clientX)}),window.addEventListener("mouseup",function(){_=!1}),z.addEventListener("mousemove",function(e){Fe(e.clientX),lt&&Ct&&!Et?Oe(e.clientX):lt&&!Ct&&!Et&&pe()}),z.addEventListener("mouseleave",function(){tt&&(tt.hidden=!0),nt&&(nt.style.display="none")}));function Tt(){v&&(v.hidden=!0,q&&q.setAttribute("aria-expanded","false"));let e=t.querySelector(".yrp-context");e&&(e.hidden=!0),t.classList.remove("vol-open"),x.setView("main"),x.resetHeightLock()}q&&v&&(x.ensureMainSnapshot(),ae||(ae=!0,q.addEventListener("click",function(e){!v.hidden?(v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock()):(Tt(),$t(),v.hidden=!1,q.setAttribute("aria-expanded","true"),x.lockHeightFromCurrent()),e.stopPropagation(),t.classList.add("vol-open"),D()}),v.addEventListener("click",function(e){let i=e.target&&e.target.closest?e.target.closest(".yrp-menu-item"):null;if(!i||!v.contains(i))return;let f=i.getAttribute("data-action")||"",o=i.getAttribute("data-lang")||"",l=x.getView();if(l==="main"){if(f==="open-langs"){e.preventDefault(),e.stopPropagation(),oe(),x.lockHeightFromCurrent(),t.classList.add("vol-open"),D();return}if(f==="open-speed"){e.preventDefault(),e.stopPropagation(),ce(),x.lockHeightFromCurrent(),t.classList.add("vol-open"),D();return}if(f==="open-subs"){if(e.preventDefault(),e.stopPropagation(),!St(n))return;le(),x.lockHeightFromCurrent(),t.classList.add("vol-open"),D();return}return}if(f==="back"){e.preventDefault(),e.stopPropagation(),$t(),x.lockHeightFromCurrent(),t.classList.add("vol-open"),D();return}if(l==="langs"&&f==="select-lang"&&o){e.preventDefault(),e.stopPropagation(),qe(o),v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock();return}if(l==="speed"&&f==="set-speed"){let h=parseFloat(i.getAttribute("data-speed")||"NaN");if(!isNaN(h)){e.preventDefault(),e.stopPropagation(),ee(n,h),v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock();return}}if(l==="subs"){if(f==="subs-on"){e.preventDefault(),e.stopPropagation(),se(!0),v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock();return}if(f==="subs-off"){e.preventDefault(),e.stopPropagation(),se(!1),v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock();return}}}),document.addEventListener("click",function(e){!v.hidden&&!v.contains(e.target)&&e.target!==q&&(v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock())}))),yt&&yt.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):t.requestFullscreen&&t.requestFullscreen().catch(function(){})}),ht&&ht.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),Jt()}),u&&u.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();let i=!W("autoplay",!1);Q("autoplay",i),re=i,fe()}),b&&b.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),St(n)&&(M=!M,Lt(n,U,M),ft(s,n,U,M),pt(b,n,M))}),t.addEventListener("contextmenu",function(e){e.preventDefault(),Tt();let i=t.querySelector(".yrp-context");if(!i)return;let f=t.getBoundingClientRect();i.style.left=e.clientX-f.left+"px",i.style.top=e.clientY-f.top+"px",i.hidden=!1,i.onclick=function(o){let l=o.target&&o.target.getAttribute("data-action"),h=Math.floor(n.currentTime||0),S=t.getAttribute("data-video-id")||"";if(l==="pip")Jt();else if(l==="copy-url"){let d=new URL(window.location.href);d.searchParams.delete("t"),Ht(d.toString())}else if(l==="copy-url-time"){let d=new URL(window.location.href);d.searchParams.set("t",String(h)),Ht(d.toString())}else if(l==="copy-embed"){let g=`<iframe width="560" height="315" src="${(window.location.origin||"")+"/embed?v="+encodeURIComponent(S||"")}" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>`;Ht(g)}i.hidden=!0},document.addEventListener("click",function(o){let l=t.querySelector(".yrp-context");l&&!l.hidden&&!l.contains(o.target)&&(l.hidden=!0)},{once:!0}),document.addEventListener("keydown",function o(l){if(l.code==="Escape"||(l.key||"").toLowerCase()==="escape"){let h=t.querySelector(".yrp-context");h&&!h.hidden&&(h.hidden=!0),document.removeEventListener("keydown",o)}})});function Pt(e){let i=t.getBoundingClientRect();e.clientX>=i.left&&e.clientX<=i.right&&e.clientY>=i.top&&e.clientY<=i.bottom&&D()}document.addEventListener("mousemove",Pt,{passive:!0}),document.addEventListener("pointermove",Pt,{passive:!0}),["mousemove","pointermove","mouseenter","mouseover","touchstart"].forEach(function(e){t.addEventListener(e,function(){try{t.focus()}catch(i){}D()},{passive:!0}),n&&n.addEventListener(e,D,{passive:!0}),$&&$.addEventListener(e,D,{passive:!0})});function ge(){try{document.fullscreenElement===t&&(document.addEventListener("mousemove",Pt,{passive:!0}),document.addEventListener("pointermove",Pt,{passive:!0}))}catch(e){}}document.addEventListener("fullscreenchange",ge),ge();function je(e){let i=e.target,f=i&&i.tagName?i.tagName.toUpperCase():"";if(i&&(i.isContentEditable||f==="INPUT"||f==="TEXTAREA")||e.ctrlKey||e.metaKey||e.altKey)return;let o=e.code,l=(e.key||"").toLowerCase();if(o==="Space"||o==="Enter"||o==="NumpadEnter"||o==="MediaPlayPause"||o==="KeyK"||l==="k"){At(),e.preventDefault();return}if(o==="ArrowLeft"||l==="arrowleft"||o==="KeyJ"||l==="j"){n.currentTime=j((n.currentTime||0)-5,0,P||0),e.preventDefault();return}if(o==="ArrowRight"||l==="arrowright"||o==="KeyL"||l==="l"){n.currentTime=j((n.currentTime||0)+5,0,P||0),e.preventDefault();return}if(o==="KeyM"||l==="m"){he(),e.preventDefault();return}if(o==="KeyF"||l==="f"){document.fullscreenElement?document.exitFullscreen().catch(function(){}):t.requestFullscreen&&t.requestFullscreen().catch(function(){}),e.preventDefault();return}if(o==="KeyT"||l==="t"){ct&&ct.click(),e.preventDefault();return}if(o==="KeyI"||l==="i"){Jt(),e.preventDefault();return}if(o==="KeyA"||l==="a"){u&&u.click(),e.preventDefault();return}if(o==="KeyC"||l==="c"){b&&!b.disabled&&b.click(),e.preventDefault();return}if(o==="Escape"||l==="escape"){Tt();return}}document.addEventListener("keydown",je),setTimeout(Mt,200)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ne):ne();})();
