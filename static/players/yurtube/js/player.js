(()=>{function Bt(t){(!isFinite(t)||t<0)&&(t=0),t=Math.floor(t);let i=Math.floor(t/3600),a=Math.floor(t%3600/60),s=t%60,c=f=>(f<10?"0":"")+f;return i>0?`${i}:${c(a)}:${c(s)}`:`${a}:${c(s)}`}function j(t,i,a){return t<i?i:t>a?a:t}function xe(t){let i=parseFloat(String(t||"").trim());return isFinite(i)?i:0}function we(t,i){let a=0,s=!1,c=null;return function(...f){c=f;let m=Date.now();!a||m-a>=i?(a=m,t.apply(null,c)):s||(s=!0,setTimeout(()=>{s=!1,t.apply(null,c)},i-(m-a)))}}function Nt(t,i,a){let s=t.getAttribute(i);if(!s)return a;try{return JSON.parse(s)}catch(c){return a}}function Rt(t){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).catch(function(){});else{let i=document.createElement("textarea");i.value=t,i.style.position="fixed",i.style.left="-9999px",document.body.appendChild(i),i.select();try{document.execCommand("copy")}catch(a){}document.body.removeChild(i)}}var Se="yrp:";function Le(){try{return localStorage.setItem("__t","1"),localStorage.removeItem("__t"),!0}catch(t){return!1}}function K(t,i){if(!Le())return i;try{let a=localStorage.getItem(Se+t);return a?JSON.parse(a):i}catch(a){return i}}function Q(t,i){if(Le())try{localStorage.setItem(Se+t,JSON.stringify(i))}catch(a){}}var ke="/static/img/fallback_video_notfound.gif";function Ce(t,i,a){let s=!1,c=null;function f(n){if(!s){s=!0,a&&a("fallback: applying",n);try{i?i.setAttribute("src",ke):t.src=ke,t.load()}catch($){}}}function m(){c&&(clearTimeout(c),c=null)}t.addEventListener("loadstart",function(){m(),c=setTimeout(function(){!s&&t.readyState<1&&f("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(n){t.addEventListener(n,m)}),t.addEventListener("error",function(){s||f("error-event")}),setTimeout(function(){let n=i?i.getAttribute("src")||"":t.currentSrc||t.src||"";!s&&!n&&f("empty-src")},0)}var Ht=null;function Ue(){if(Ht)return Ht;try{typeof Intl!="undefined"&&Intl.DisplayNames&&(Ht=new Intl.DisplayNames(["en"],{type:"language"}))}catch(t){}return Ht}function Ke(t,i){let a=String(t||"").trim();if(!a)return String(i||"");if(a.toLowerCase()==="auto")return"Auto";let s=a.split("-",1)[0].toLowerCase();try{let c=Ue();if(c&&typeof c.of=="function"){let f=c.of(s);if(f)return f.charAt(0).toUpperCase()+f.slice(1)}}catch(c){}return String(i||a)}function wt(t){try{return t.textTracks?Array.prototype.filter.call(t.textTracks,function(i){return i.kind==="subtitles"||i.kind==="captions"}):[]}catch(i){return[]}}function St(t){return wt(t).length>0}function Vt(t,i){let a=wt(t);if(a.length===0)return null;let s=i<0||i>=a.length?0:i;return a[s]}function Lt(t,i,a){wt(t).forEach(function(c,f){c.mode=f===i&&a?"hidden":"disabled"})}function We(t,i){let a=Vt(t,i);if(!a||!a.cues)return"";let s=t.currentTime||0;for(let c=0;c<a.cues.length;c++){let f=a.cues[c];if(s>=f.startTime&&s<=f.endTime)return(f.text||"").replace(/\r/g,"")}return""}function Ee(t){return wt(t).map(function(a,s){let c=String(a.language||a.srclang||"").toLowerCase(),f=String(a.label||c||"Lang "+(s+1)),m=Ke(c,f);return{index:s,lang:c,label:m}})}function Zt(t,i){let a=String(i||"").toLowerCase(),s=Ee(t);for(var c=0;c<s.length;c++)if(s[c].lang===a||s[c].label.toLowerCase()===a)return s[c].index;return-1}function Ae(t,i,a,s){if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);let c=document.createElement("button");c.type="button",c.className="yrp-menu-item",c.setAttribute("data-action","back"),c.textContent="\u2190 Back",a(c),t.appendChild(c);let f=document.createElement("button");f.type="button",f.className="yrp-menu-item",f.setAttribute("data-action","subs-on"),f.textContent="On"+(i?" \u2713":""),s(f),t.appendChild(f);let m=document.createElement("button");m.type="button",m.className="yrp-menu-item",m.setAttribute("data-action","subs-off"),m.textContent="Off"+(i?"":" \u2713"),s(m),t.appendChild(m)}function Me(t,i,a,s,c,f){if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);let m=document.createElement("button");m.type="button",m.className="yrp-menu-item",m.setAttribute("data-action","back"),m.textContent="\u2190 Back",s(m),t.appendChild(m);let n=f(m,t);t.appendChild(n);let $=Ee(i),T=Vt(i,a),W=T&&(T.language||T.srclang)?String(T.language||T.srclang).toLowerCase():"",C=$.slice().sort(function(w,E){let F=(w.lang||"").toLowerCase(),Y=(E.lang||"").toLowerCase();return F==="auto"&&Y!=="auto"?-1:Y==="auto"&&F!=="auto"?1:(w.label||"").localeCompare(E.label||"")});if(C.forEach(function(w){let E=document.createElement("button");E.type="button",E.className="yrp-menu-item",E.setAttribute("data-action","select-lang"),E.setAttribute("data-lang",w.lang||"");let F=w.lang?` (${w.lang})`:"",Y=w.index===a||w.lang&&W&&w.lang===W;E.textContent=w.label+F+(Y?" \u2713":""),c(E),n.appendChild(E)}),!C.length){let w=document.createElement("div");w.className="yrp-menu-title",w.style.marginTop="6px",w.style.fontSize="12px",w.style.opacity="0.8",w.textContent="No subtitle tracks",n.appendChild(w)}}function ft(t,i,a){if(!t)return;let s=St(i);t.disabled=!s,t.style.visibility=s?"visible":"hidden",t.classList.toggle("no-tracks",!s),t.classList.toggle("has-tracks",s),t.classList.toggle("active",s&&a),t.classList.toggle("disabled-track",s&&!a),t.setAttribute("aria-pressed",a?"true":"false")}function pt(t,i,a,s){!t||!t.textBox||(t.textBox.textContent=s?We(i,a):"")}function te(t,i,a){let c=wt(t).map(function(f,m){return{i:m,mode:f.mode,label:f.label,srclang:f.language||f.srclang,cues:f.cues?f.cues.length:0,kind:f.kind}});i(a,c)}function it(t){try{t.style.background="transparent",t.style.backgroundColor="transparent",t.style.border="none",t.style.boxShadow="none",t.style.color="inherit",t.style.textAlign="left",t.style.width="100%",t.style.display="block"}catch(i){}}function Ot(t){it(t);try{t.style.background="rgba(255,255,255,0.12)",t.style.backgroundColor="rgba(255,255,255,0.12)",t.style.borderRadius="4px",t.style.fontWeight="700",t.style.marginBottom="6px",t.style.paddingLeft="8px",t.style.paddingRight="8px"}catch(i){}}function Dt(t){try{t.classList.add("has-submenu")}catch(i){}}function _e(t,i){if(t)try{let a=t.querySelector('.yrp-menu-section[data-section="quality"]');if(!a)return;let s=a.querySelector(".yrp-menu-title");if(s&&s.parentNode&&s.parentNode.removeChild(s),a.querySelector(".yrp-menu-item.quality-future"))return;let c=document.createElement("button");c.type="button",c.className="yrp-menu-item quality-future",c.textContent="Quality (future)",c.disabled=!0,i(c),c.style.opacity="0.75",a.appendChild(c)}catch(a){}}function Xe(t){if(t)try{let i=t.querySelector('.yrp-menu-section[data-section="subtitles"]');i&&i.parentNode&&i.parentNode.removeChild(i)}catch(i){}}function jt(t,i,a,s,c,f){if(!t)return null;let m=t.querySelector(".yrp-menu-section")||null,n=document.createElement("button");return n.type="button",n.className="yrp-menu-item",n.setAttribute("data-action",a),n.textContent=i,c(n),s&&s.disabled===!0&&(n.disabled=!0,n.style.opacity="0.6"),s&&s.hasSubmenu===!0&&f(n),m&&m.parentNode===t?t.insertBefore(n,m):t.appendChild(n),n}function $e(){return[.5,.75,1,1.25,1.5,2]}function Te(t,i,a,s){if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);let c=document.createElement("button");c.type="button",c.className="yrp-menu-item",c.setAttribute("data-action","back"),c.textContent="\u2190 Back",a(c),t.appendChild(c);let f=isFinite(i.playbackRate)?i.playbackRate:1;$e().forEach(function(m){let n=document.createElement("button");n.type="button",n.className="yrp-menu-item",n.setAttribute("data-action","set-speed"),n.setAttribute("data-speed",String(m)),n.textContent=(m===1?"1.0x":String(m)+"x")+(Math.abs(m-f)<.001?" \u2713":""),s(n),t.appendChild(n)})}function ee(t,i){let a=parseFloat(String(i));if(!(!isFinite(a)||a<=0)){t.playbackRate=a;try{localStorage.setItem("playback_speed",String(a))}catch(s){}}}var Ft=class{constructor(i){this.menu=i,this.menuView="main",this.menuMainHTML="",this.menuFixedMinHeight=0}ensureMainSnapshot(){this.menu&&(this.menuMainHTML||(this.menuMainHTML=this.menu.innerHTML||""))}lockHeightFromCurrent(){if(this.menu&&!(this.menuFixedMinHeight>0))try{let i=this.menu.getBoundingClientRect();this.menuFixedMinHeight=Math.ceil(i.height||0),this.menuFixedMinHeight>0&&(this.menu.style.minHeight=this.menuFixedMinHeight+"px")}catch(i){}}resetHeightLock(){this.menu&&(this.menuFixedMinHeight=0,this.menu.style.minHeight="")}setView(i){this.menuView=i}getView(){return this.menuView}openMainView(i){if(this.menu){this.ensureMainSnapshot(),this.menu.innerHTML=this.menuMainHTML,this.menuView="main",this.menu.style.maxHeight="";try{let a=this.menu.querySelector('.yrp-menu-section[data-section="speed"]');a&&a.parentNode&&a.parentNode.removeChild(a)}catch(a){}Xe(this.menu),_e(this.menu,it),i&&(i.injectSpeed&&i.injectSpeed(),i.injectLanguages&&i.injectLanguages(),i.injectSubtitles&&i.injectSubtitles())}}constrainToPlayerHeight(i=2/3){if(this.menu)try{let a=this.menu.closest(".yrp-container");if(a){let s=a.querySelector(".yrp-video-wrap");if(s){let c=s.getBoundingClientRect().height,f=Math.floor(c*i)-34;f>100&&(this.menu.style.maxHeight=f+"px")}}}catch(a){}}};var Je={};function Ye(){try{let i=new URL(Je.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(i)return i[1]}catch(t){}try{let i=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(i)return i[1]}catch(t){}try{let t=document.querySelector(".player-host[data-player]");if(t){let i=String(t.getAttribute("data-player")||"").trim();if(i)return i}}catch(t){}return"yurtube"}function ne(){let t=Ye(),i=`/static/players/${t}`,a=document.querySelectorAll(`.player-host[data-player="${t}"]`);a.length&&fetch(i+"/templates/player.html",{credentials:"same-origin"}).then(s=>s.text()).then(function(s){for(let c=0;c<a.length;c++)ze(a[c],s,i)}).catch(function(){})}function Pe(t,...i){if(t)try{}catch(a){}}function ze(t,i,a){t.innerHTML=i;let s=t.querySelector(".yrp-container"),c=s.querySelector(".yrp-video-wrap"),f=s.querySelector(".yrp-video"),m=f.querySelector("source"),n=t.getAttribute("data-video-src")||"",$=t.getAttribute("data-poster-url")||"",T=t.getAttribute("data-video-id")||"",W=Nt(t,"data-subtitles",[]),C=Nt(t,"data-options",{}),w=t.getAttribute("data-sprites-vtt")||"",E=t.getAttribute("data-caption-vtt")||"",F=t.getAttribute("data-caption-lang")||"",Y=/\byrpdebug=1\b/i.test(location.search)||!!(C&&C.debug),ot=(...u)=>Pe(Y,...u);if(m&&m.setAttribute("src",n),$&&f.setAttribute("poster",$),C.autoplay&&f.setAttribute("autoplay",""),C.muted&&f.setAttribute("muted",""),C.loop&&f.setAttribute("loop",""),T&&s.setAttribute("data-video-id",T),w&&s.setAttribute("data-sprites-vtt",w),f.setAttribute("playsinline",""),Array.isArray(W)&&W.forEach(function(u){if(!u||!u.src)return;let b=document.createElement("track");b.setAttribute("kind","captions"),u.srclang&&b.setAttribute("srclang",String(u.srclang)),u.label&&b.setAttribute("label",String(u.label)),b.setAttribute("src",String(u.src)),u.default&&b.setAttribute("default",""),f.appendChild(b)}),E)try{let u=document.createElement("track");u.setAttribute("kind","captions"),u.setAttribute("src",E),u.setAttribute("srclang",F||"auto"),u.setAttribute("label",F||"Original"),u.setAttribute("default",""),f.appendChild(u)}catch(u){ot("caption append failed",u)}try{f.load(),ot("video.load()",{src:n})}catch(u){ot("video.load() error",u)}Ce(f,m,ot);let z=a+"/img/buttons";[["--icon-play","play.svg"],["--icon-pause","pause.svg"],["--icon-prev","prev.svg"],["--icon-next","next.svg"],["--icon-vol","volume.svg"],["--icon-mute","mute.svg"],["--icon-cc","cc.svg"],["--icon-mini","mini.svg"],["--icon-settings","settings.svg"],["--icon-theater","theater.svg"],["--icon-full","full.svg"],["--icon-autoplay-on","autoplay-on.svg"],["--icon-autoplay-off","autoplay-off.svg"],["--icon-shuffle-on","shuffle-on.svg"],["--icon-shuffle-off","shuffle-off.svg"],["--icon-cycle-on","cycle-on.svg"],["--icon-cycle-off","cycle-off.svg"]].forEach(([u,b])=>{s.style.setProperty(u,`url("${z}/${b}")`)}),s.classList.add("yrp-icons-ready");let Z=s.querySelector(".yrp-center-logo");Z&&Z.setAttribute("src",a+"/img/logo.png");let A=document.createElement("div");A.className="yrp-captions-layer",Object.assign(A.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let rt=document.createElement("div");rt.className="yrp-captions-text",Object.assign(rt.style,{display:"inline-block",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:"16px",lineHeight:"1.35",padding:"6px 10px",borderRadius:"6px",maxWidth:"80%",minWidth:"220px",boxShadow:"0 2px 6px rgba(0,0,0,0.35)",whiteSpace:"pre-wrap",wordBreak:"break-word"}),A.appendChild(rt),c&&(c.style.position="relative",c.appendChild(A));let O={active:!1,startX:0,startY:0,startLeftPct:50,startTopPct:80},tt=!1;function q(){return c?c.getBoundingClientRect():{width:0,height:0,left:0,top:0}}function v(u){let b=q(),B=Math.min(u,b.width-u)*2,_=12,P=220;rt.style.maxWidth=Math.max(P,Math.floor(B-_))+"px"}function ct(u){let b=u.touches?u.touches[0]:u,B=q(),_=A.getBoundingClientRect();O.startLeftPct=(_.left+_.width/2-B.left)/B.width*100,O.startTopPct=(_.top+_.height/2-B.top)/B.height*100,O.active=!0,O.startX=b.clientX,O.startY=b.clientY,u.preventDefault(),u.stopPropagation()}function yt(u){if(!O.active)return;let b=u.touches?u.touches[0]:u,B=b.clientX-O.startX,_=b.clientY-O.startY,P=q(),et=O.startLeftPct/100*P.width+B,X=O.startTopPct/100*P.height+_,Ut=A.getBoundingClientRect(),Kt=Ut.width/2,Wt=Ut.height/2;et=j(et,Kt,P.width-Kt),X=j(X,Wt,P.height-Wt),A.style.left=et/P.width*100+"%",A.style.top=X/P.height*100+"%",A.style.transform="translate(-50%,-50%)",tt=!0,v(et),u.preventDefault(),u.stopPropagation()}function ht(u){O.active&&(O.active=!1,u.preventDefault(),u.stopPropagation())}A.addEventListener("mousedown",ct),A.addEventListener("touchstart",ct,{passive:!1}),document.addEventListener("mousemove",yt),document.addEventListener("touchmove",yt,{passive:!1}),document.addEventListener("mouseup",ht),document.addEventListener("touchend",ht),A.addEventListener("click",function(u){u.stopPropagation()});function mt(){if(tt)return;let u=!s.classList.contains("autohide");A.style.top=u?"78%":"82%",A.style.left="50%",A.style.transform="translate(-50%,-50%)",v(q().width/2)}let at=0;typeof C.start=="number"&&C.start>0&&(at=Math.max(0,C.start));try{let b=new URL(window.location.href).searchParams.get("t");if(b!=null){let B=parseInt(String(b).trim(),10);isFinite(B)&&B>0&&(at=Math.max(at,B))}}catch(u){}Ge(s,at,Y,{overlay:A,textBox:rt,autoAdjust:mt},at,a)}function Ge(t,i,a,s,c,f){let m=(...e)=>Pe(a,...e),n=t.querySelector(".yrp-video"),$=t.querySelector(".yrp-center-play"),T=t.querySelector(".yrp-play"),W=t.querySelector(".yrp-prev"),C=t.querySelector(".yrp-next"),w=t.querySelector(".yrp-vol-btn"),E=t.querySelector(".yrp-volume"),F=t.querySelector(".yrp-vol-slider"),Y=t.querySelector(".yrp-time-current"),ot=t.querySelector(".yrp-time-total"),z=t.querySelector(".yrp-progress"),Z=t.querySelector(".yrp-progress-rail"),A=t.querySelector(".yrp-progress-buffer"),rt=t.querySelector(".yrp-progress-played"),O=t.querySelector(".yrp-progress-handle"),tt=t.querySelector(".yrp-progress-tooltip"),q=t.querySelector(".yrp-settings"),v=t.querySelector(".yrp-menu"),ct=t.querySelector(".yrp-theater"),yt=t.querySelector(".yrp-fullscreen"),ht=t.querySelector(".yrp-pip"),mt=t.querySelector(".yrp-left"),at=t.querySelector(".yrp-right"),u=t.querySelector(".yrp-autoplay"),b=t.querySelector(".yrp-subtitles"),B=null,_=!1,P=0,et=!1,X=!1,Ut=!1,Kt=!1,Wt=!1,Qe=null,ie=!!K("autoplay",!1),lt=t.getAttribute("data-sprites-vtt")||"",kt=[],_t=0,nt=null,Ct=!1,Et=!1,M=!0,U=0,re=function(){try{return String(localStorage.getItem("subtitle_lang")||"")}catch(e){return""}}(),Xt=function(){try{return parseFloat(localStorage.getItem("playback_speed")||"")}catch(e){return NaN}}(),x=new Ft(v),ae=!1;function qe(e){let r=Zt(n,e);if(r>=0){U=r,M=!0,Lt(n,U,M),pt(s,n,U,M);try{localStorage.setItem("subtitle_lang",String(e||""))}catch(p){}ft(b,n,M)}}function se(e){M=!!e,Lt(n,U,M),pt(s,n,U,M),ft(b,n,M)}function $t(){x.openMainView({injectSpeed:Be,injectLanguages:Ie,injectSubtitles:Ne})}function Ie(){v&&(v.querySelector('.yrp-menu-item[data-action="open-langs"]')||jt(v,"Languages","open-langs",{hasSubmenu:!0},it,Dt))}function Be(){v&&(v.querySelector('.yrp-menu-item[data-action="open-speed"]')||jt(v,"Speed","open-speed",{hasSubmenu:!0},it,Dt))}function Ne(){if(!v||v.querySelector('.yrp-menu-item[data-action="open-subs"]'))return;let e=St(n),r=jt(v,"Subtitles","open-subs",{hasSubmenu:!0,disabled:!e},it,Dt);r&&!e&&(r.title="No subtitle tracks")}function Re(e){let r=document.createElement("div");return r.className="yrp-menu-scroll",Object.assign(r.style,{overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100% - 40px)",paddingRight:"2px"}),r}function oe(){Me(v,n,U,Ot,it,Re),x.setView("langs"),x.constrainToPlayerHeight(2/3)}function ce(){Te(v,n,Ot,it),x.setView("speed"),x.constrainToPlayerHeight(2/3)}function le(){Ae(v,M,Ot,it),x.setView("subs"),x.constrainToPlayerHeight(2/3)}function ue(e,r,p,o,l){let h=o?r:p,d=getComputedStyle(t).getPropertyValue(h)||t.style.getPropertyValue(h)||"",g=String(d).match(/url\(["']?([^"')]+)["']?\)/i);if(!(g&&g[1]?g[1]:null)){e.style.webkitMaskImage="",e.style.maskImage="",e.textContent=l,e.style.backgroundColor="transparent",e.style.color="var(--yrp-icon-color)",e.style.textIndent="0",e.dataset.maskApplied="0";return}e.textContent="";let k=`var(${h})`;e.style.webkitMaskImage=k,e.style.maskImage=k,e.style.backgroundColor="var(--yrp-icon-color)",e.style.color="",e.style.textIndent="-9999px",e.dataset.maskApplied="1"}function He(){return nt||(z?(nt=document.createElement("div"),Object.assign(nt.style,{position:"absolute",display:"none",bottom:"calc(100% + 30px)",left:"0",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),nt.className="yrp-sprite-pop",getComputedStyle(z).position==="static"&&(z.style.position="relative"),z.appendChild(nt),nt):null)}function de(e){let r=String(e||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);return r?parseInt(r[1],10)*3600+parseInt(r[2],10)*60+parseFloat(r[3]):0}function Ve(e){if(!e)return"";try{let r=new URL(lt,window.location.href);return new URL(e,r).href}catch(r){return e}}function fe(){if(!lt||Ct||Et)return;let e="";try{e=new URL(lt,window.location.href).href}catch(r){e=lt}fetch(e,{credentials:"same-origin"}).then(r=>r.text()).then(function(r){let p=r.split(/\r?\n/);for(let o=0;o<p.length;o++){let l=p[o].trim();if(l&&l.indexOf("-->")>=0){let h=l.split("-->").map(G=>G.trim());if(h.length<2)continue;let S=de(h[0]),d=de(h[1]),g=(p[o+1]||"").trim(),L="",k=0,N=0,ut=0,qt=0,dt=g.indexOf("#xywh=");if(dt>0){L=g.substring(0,dt);let G=g.substring(dt+6).split(",");G.length===4&&(k=parseInt(G[0],10),N=parseInt(G[1],10),ut=parseInt(G[2],10),qt=parseInt(G[3],10))}else L=g||"";let vt=Ve(L);kt.push({start:S,end:d,spriteUrl:vt,x:k,y:N,w:ut,h:qt}),d>_t&&(_t=d),o++}}Ct=!0}).catch(function(){Et=!0})}function Fe(e){if(!lt||!kt.length||!Z)return;let r=Z.getBoundingClientRect(),p=j(e-r.left,0,r.width),o=r.width>0?p/r.width:0,l=(P||_t||0)*o,h=null;for(let L=0;L<kt.length;L++){let k=kt[L];if(l>=k.start&&l<k.end){h=k;break}}let S=He();if(!S)return;if(!h||!h.spriteUrl||h.w<=0||h.h<=0){S.style.display="none";return}for(;S.firstChild;)S.removeChild(S.firstChild);let d=document.createElement("img");Object.assign(d.style,{position:"absolute",left:-h.x+"px",top:-h.y+"px"}),d.src=h.spriteUrl,S.appendChild(d),S.style.display="block";let g=j(p-h.w/2,0,r.width-h.w);S.style.left=g+"px",S.style.width=h.w+"px",S.style.height=h.h+"px"}function pe(){if(!u)return;let e=ie;u.setAttribute("aria-pressed",e?"true":"false"),u.title=e?"Autoplay on (A)":"Autoplay off (A)",u.textContent="";let r=e?"var(--icon-autoplay-on)":"var(--icon-autoplay-off)";Object.assign(u.style,{backgroundColor:"currentColor",webkitMaskImage:r,maskImage:r,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px",opacity:e?"1":"0.6"})}function Yt(){if(!T)return;let e=!n.paused;T.classList.toggle("icon-play",!e),T.classList.toggle("icon-pause",e),T.setAttribute("aria-label",e?"Pause (Space, K)":"Play (Space, K)"),T.title=e?"Pause (Space, K)":"Play (Space, K)",T.textContent="";let r=e?"var(--icon-pause)":"var(--icon-play)";Object.assign(T.style,{backgroundColor:"currentColor",webkitMaskImage:r,maskImage:r,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px"})}function zt(e){B&&clearTimeout(B),B=setTimeout(function(){t.classList.add("autohide"),s&&s.autoAdjust&&s.autoAdjust()},Math.max(0,e||1200))}function D(){t.classList.remove("autohide"),s&&s.autoAdjust&&s.autoAdjust(),zt(2e3)}function ye(){try{P=isFinite(n.duration)?n.duration:0}catch(e){P=0}ot&&(ot.textContent=Bt(P)),Y&&(Y.textContent=Bt(n.currentTime||0))}function Gt(){let e=P||0,r=n.currentTime||0,p=e>0?j(r/e,0,1):0;rt&&(rt.style.width=(p*100).toFixed(3)+"%"),O&&(O.style.left=(p*100).toFixed(3)+"%");let o=0;if(n.buffered&&n.buffered.length>0)try{o=n.buffered.end(n.buffered.length-1)}catch(h){o=0}let l=e>0?j(o/e,0,1):0;A&&(A.style.width=(l*100).toFixed(3)+"%")}function At(){n.paused?n.play().catch(()=>{}):n.pause()}function he(){n.muted=!n.muted,gt()}function gt(){let e=n.muted?0:n.volume,r=n.muted||e===0?"Mute":"Vol";w&&(w.textContent=r,w.classList.toggle("icon-mute",r==="Mute"),w.classList.toggle("icon-vol",r!=="Mute"))}function me(e){if(!Z)return;let r=Z.getBoundingClientRect(),p=j(e-r.left,0,r.width),o=r.width>0?p/r.width:0;n.currentTime=(P||0)*o}function Oe(e){if(!tt||!Z)return;let r=Z.getBoundingClientRect(),p=j(e-r.left,0,r.width),o=r.width>0?p/r.width:0,l=(P||0)*o;tt.textContent=Bt(l),tt.style.left=(o*100).toFixed(3)+"%",tt.hidden=!1}(function(){let r=t.getAttribute("data-video-id")||"";if(!r)return;if(c>0){try{let d=K("resume",{});d&&d[r]&&(delete d[r],Q("resume",d))}catch(d){}return}let p=K("resume",{}),o=p[r],l=Date.now();function h(d){let g=isFinite(n.duration)?n.duration:0;if(g&&d>10&&d<g-5)try{n.currentTime=d}catch(L){}}if(o&&typeof o.t=="number"&&l-(o.ts||0)<180*24*3600*1e3){let d=Math.max(0,o.t|0);isFinite(n.duration)&&n.duration>0?h(d):n.addEventListener("loadedmetadata",function g(){n.removeEventListener("loadedmetadata",g),h(d)})}let S=we(function(){let d=isFinite(n.duration)?n.duration:0,g=Math.max(0,Math.floor(n.currentTime||0)),L=K("resume",{});L[r]={t:g,ts:Date.now(),d};let k=Object.keys(L);if(k.length>200){k.sort((N,ut)=>(L[N].ts||0)-(L[ut].ts||0));for(let N=0;N<k.length-200;N++)delete L[k[N]]}Q("resume",L)},3e3);n.addEventListener("timeupdate",function(){!n.paused&&!n.seeking&&S()}),n.addEventListener("ended",function(){let d=K("resume",{});delete d[r],Q("resume",d)})})(),function(){function r(o){t.classList.toggle("yrp-theater",o);try{if(typeof window.setTheater=="function")window.setTheater(o);else{let l=t.closest(".watch-layout")||document.querySelector(".watch-layout");l&&(l.classList.toggle("theater-mode",o),typeof window.relocateUpNext=="function"&&window.relocateUpNext())}}catch(l){}o?(t.style.maxWidth="",t.style.minWidth="",t.style.width=""):Mt()}!!K("theater",!1)&&r(!0),ct&&ct.addEventListener("click",function(){let o=!t.classList.contains("yrp-theater");r(o),Q("theater",o),D()})}(),n.addEventListener("loadedmetadata",function(){if(i>0)try{n.currentTime=Math.min(i,Math.floor(n.duration||i))}catch(o){}if(setTimeout(Mt,0),ye(),Gt(),gt(),pe(),Yt(),ft(b,n,M),re){let o=Zt(n,re);o>=0&&(U=o)}isFinite(Xt)&&Xt>0&&ee(Xt),Vt(n,U),Lt(n,U,M),ft(b,n,M),zt(1200),fe(),pt(s,n,U,M);let e=t.querySelector(".yrp-video-wrap").getBoundingClientRect(),r=e.width/2,p=t.querySelector(".yrp-captions-text");if(p){let o=Math.min(r,e.width-r)*2,l=12,h=220;p.style.maxWidth=Math.max(h,Math.floor(o-l))+"px"}if(te(n,m,"after loadedmetadata"),v&&!v.hidden){let o=x.getView();o==="main"?$t():o==="langs"?oe():o==="speed"?ce():o==="subs"&&le()}});function Ze(e){te(n,m,e)}function Mt(){if(t.classList.contains("yrp-theater"))return;let e=getComputedStyle(n),r=xe(e.getPropertyValue("max-height"))||n.clientHeight||0,p=n.videoWidth||16,o=n.videoHeight||9,l=o>0?p/o:16/9,h=Math.min(r||n.clientHeight||0,window.innerHeight*.9);if(!h||!isFinite(h))return;let S=Math.floor(h*l),d=Math.floor(window.innerWidth*.95),g=De(),L=Math.max(g,Math.min(S,d));t.style.maxWidth=L+"px",t.style.minWidth=g+"px",t.style.width="100%"}function De(){let e=mt?mt.getBoundingClientRect().width:0,r=at?at.getBoundingClientRect().width:0,o=Math.ceil(e+r+24);return!isFinite(o)||o<=0?480:o}(function(){let r=t.closest(".player-host")||t,p=Nt(r,"data-options",null);function o(){return p&&p.autoplay===!0?!0:!!K("autoplay",!1)}if(!o()){setTimeout(function(){zt(1e3)},0);return}function l(){let d=null;try{d=n.play()}catch(g){d=null}d&&typeof d.then=="function"?d.then(function(){}).catch(function(){if(!n.muted){X=!0,n.muted=!0,n.setAttribute("muted","");try{n.play().catch(function(){})}catch(g){}}}):setTimeout(function(){if(n.paused){X=!0,n.muted=!0,n.setAttribute("muted","");try{n.play().catch(function(){})}catch(g){}}},0)}let h=!1;function S(){h||(h=!0,l())}n.readyState>=1&&S(),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(d){let g=function(){n.removeEventListener(d,g),S()};n.addEventListener(d,g)}),setTimeout(function(){if(n.paused){X=!0,n.muted=!0,n.setAttribute("muted","");try{n.play().catch(function(){})}catch(d){}}},1200)})(),window.addEventListener("resize",Mt),n.addEventListener("timeupdate",function(){ye(),Gt(),pt(s,n,U,M)}),n.addEventListener("progress",Gt),n.addEventListener("play",function(){t.classList.add("playing"),Yt(),D()}),n.addEventListener("pause",function(){t.classList.remove("playing"),Yt(),D()});function Jt(){!document.pictureInPictureEnabled||!n.requestPictureInPicture||n.disablePictureInPicture||(document.pictureInPictureElement===n?document.exitPictureInPicture().catch(function(){}):n.requestPictureInPicture().catch(function(){}))}n.addEventListener("click",At),$&&$.addEventListener("click",At),T&&T.addEventListener("click",At),W&&W.addEventListener("click",function(){t.dispatchEvent(new CustomEvent("yrp-prev",{bubbles:!0}))}),C&&C.addEventListener("click",function(){t.dispatchEvent(new CustomEvent("yrp-next",{bubbles:!0}))}),function(){var r=new URL(window.location.href),p=r.searchParams.get("p"),o=r.searchParams.get("v")||t.getAttribute("data-video-id")||"";if(p)W&&(W.style.display=""),C&&(C.style.display="");else{W&&(W.style.display="none"),C&&(C.style.display="none");var l=t.querySelector(".yrp-shuffle"),h=t.querySelector(".yrp-cycle");l&&(l.style.display="none"),h&&(h.style.display="none");return}function S(){var y=[],H=document.querySelector("#upnext-block .rb-list"),V=document.querySelector("#panel-upnext .upnext-list"),J=[];return H?J=H.querySelectorAll("a.rb-item[href*='/watch']"):V&&(J=V.querySelectorAll("a.rb-item[href*='/watch']")),J.forEach(function(xt){var It=xt.getAttribute("href")||"",Qt=It.match(/[?&]v=([^&]+)/);Qt&&Qt[1]&&y.push(decodeURIComponent(Qt[1]))}),y}var d=S();if(!d||d.length===0)return;var g=d.indexOf(o);g<0&&(g=0);function L(y){return"pl:"+p+":"+y}var k=function(){var y=K(L("order"),"direct");return y==="shuffle"?"shuffle":"direct"}(),N=function(){var y=K(L("cycle"),"0");return y===!0||y==="1"}();function ut(y){k=y==="shuffle"?"shuffle":"direct",Q(L("order"),k),ve()}function qt(y){N=!!y,Q(L("cycle"),N?"1":"0"),be()}function dt(y){if(d.length<=1)return y;for(var H=0,V=y;H<6&&V===y;)V=Math.floor(Math.random()*d.length),H++;return V===y&&(V=(y+1)%d.length),V}function vt(){if(k==="shuffle")return dt(g);var y=g+1;return y>=d.length?N?0:-1:y}function G(){if(k==="shuffle")return dt(g);var y=g-1;return y<0?N?d.length-1:-1:y}function bt(y){y=Math.max(0,Math.min(d.length-1,y));var H=d[y];if(H){try{var V=K("resume",{});V&&V[H]&&(delete V[H],Q("resume",V))}catch(xt){}var J=new URL(window.location.href);J.searchParams.set("v",H),J.searchParams.set("p",p),window.location.href=J.toString()}}t.addEventListener("yrp-prev",function(){var y=G();y>=0&&bt(y)}),t.addEventListener("yrp-next",function(){var y=vt();y>=0&&bt(y)});var I=t.querySelector(".yrp-shuffle"),R=t.querySelector(".yrp-cycle");I||(I=document.createElement("button"),I.type="button",I.className="yrp-btn yrp-shuffle",I.title="Shuffle playlist",I.setAttribute("aria-label","Shuffle playlist"),Object.assign(I.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginLeft:"6px",marginRight:"2px"})),R||(R=document.createElement("button"),R.type="button",R.className="yrp-btn yrp-cycle",R.title="Cycle playlist",R.setAttribute("aria-label","Cycle playlist"),Object.assign(R.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginRight:"8px"})),I.dataset.forceEmoji="0",R.dataset.forceEmoji="0";function ve(){I.setAttribute("aria-pressed",k==="shuffle"?"true":"false"),ue(I,"--icon-shuffle-on","--icon-shuffle-off",k==="shuffle","\u{1F500}"),I.style.opacity=k==="shuffle"?"1":"0.55",I.style.display=""}function be(){R.setAttribute("aria-pressed",N?"true":"false"),ue(R,"--icon-cycle-on","--icon-cycle-off",!!N,"\u{1F501}"),R.style.opacity="1",R.style.display=""}ve(),be(),I.addEventListener("click",function(){ut(k==="shuffle"?"direct":"shuffle")}),R.addEventListener("click",function(){qt(!N)});try{var st=mt||C&&C.parentNode||t;E&&st?(st.insertBefore(I,E),st.insertBefore(R,E)):C&&st?(st.insertBefore(I,C.nextSibling),st.insertBefore(R,I.nextSibling)):(st.appendChild(I),st.appendChild(R))}catch(y){}n.addEventListener("ended",function(){var y=vt();y>=0&&bt(y)}),document.addEventListener("keydown",function(y){var H=y.target,V=H&&H.tagName?H.tagName.toUpperCase():"";if(!(H&&(H.isContentEditable||V==="INPUT"||V==="TEXTAREA"))&&!(y.ctrlKey||y.metaKey||y.altKey)){var J=y.code||"";if(J==="PageUp"){y.preventDefault();var xt=G();xt>=0&&bt(xt)}else if(J==="PageDown"){y.preventDefault();var It=vt();It>=0&&bt(It)}}})}(),w&&w.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),et=!0,X=!1,he(),D(),t.classList.add("vol-open"),setTimeout(function(){t.classList.remove("vol-open")},1200)}),E&&E.addEventListener("wheel",function(e){e.preventDefault(),et=!0,X=!1;let r=.05,p=n.muted?0:n.volume,o=j(p+(e.deltaY<0?r:-r),0,1);n.volume=o,o>0&&(n.muted=!1),F&&(F.value=String(o)),gt(),D()},{passive:!1}),F&&(F.addEventListener("input",function(){et=!0,X=!1;let e=parseFloat(F.value||"1");isFinite(e)||(e=1),e=j(e,0,1),n.volume=e,e>0&&(n.muted=!1),gt()}),F.addEventListener("wheel",function(e){e.preventDefault(),et=!0,X=!1;let r=.05,p=n.muted?0:n.volume,o=j(p+(e.deltaY<0?r:-r),0,1);n.volume=o,o>0&&(n.muted=!1),F.value=String(o),gt(),D()},{passive:!1})),z&&(z.addEventListener("mousedown",function(e){_=!0,Tt(),me(e.clientX)}),window.addEventListener("mousemove",function(e){_&&me(e.clientX)}),window.addEventListener("mouseup",function(){_=!1}),z.addEventListener("mousemove",function(e){Oe(e.clientX),lt&&Ct&&!Et?Fe(e.clientX):lt&&!Ct&&!Et&&fe()}),z.addEventListener("mouseleave",function(){tt&&(tt.hidden=!0),nt&&(nt.style.display="none")}));function Tt(){v&&(v.hidden=!0,q&&q.setAttribute("aria-expanded","false"));let e=t.querySelector(".yrp-context");e&&(e.hidden=!0),t.classList.remove("vol-open"),x.setView("main"),x.resetHeightLock()}q&&v&&(x.ensureMainSnapshot(),ae||(ae=!0,q.addEventListener("click",function(e){!v.hidden?(v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock()):(Tt(),$t(),v.hidden=!1,q.setAttribute("aria-expanded","true"),x.lockHeightFromCurrent()),e.stopPropagation(),t.classList.add("vol-open"),D()}),v.addEventListener("click",function(e){let r=e.target&&e.target.closest?e.target.closest(".yrp-menu-item"):null;if(!r||!v.contains(r))return;let p=r.getAttribute("data-action")||"",o=r.getAttribute("data-lang")||"",l=x.getView();if(l==="main"){if(p==="open-langs"){e.preventDefault(),e.stopPropagation(),oe(),x.lockHeightFromCurrent(),t.classList.add("vol-open"),D();return}if(p==="open-speed"){e.preventDefault(),e.stopPropagation(),ce(),x.lockHeightFromCurrent(),t.classList.add("vol-open"),D();return}if(p==="open-subs"){if(e.preventDefault(),e.stopPropagation(),!St(n))return;le(),x.lockHeightFromCurrent(),t.classList.add("vol-open"),D();return}return}if(p==="back"){e.preventDefault(),e.stopPropagation(),$t(),x.lockHeightFromCurrent(),t.classList.add("vol-open"),D();return}if(l==="langs"&&p==="select-lang"&&o){e.preventDefault(),e.stopPropagation(),qe(o),v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock();return}if(l==="speed"&&p==="set-speed"){let h=parseFloat(r.getAttribute("data-speed")||"NaN");if(!isNaN(h)){e.preventDefault(),e.stopPropagation(),ee(n,h),v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock();return}}if(l==="subs"){if(p==="subs-on"){e.preventDefault(),e.stopPropagation(),se(!0),v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock();return}if(p==="subs-off"){e.preventDefault(),e.stopPropagation(),se(!1),v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock();return}}}),document.addEventListener("click",function(e){!v.hidden&&!v.contains(e.target)&&e.target!==q&&(v.hidden=!0,q.setAttribute("aria-expanded","false"),x.setView("main"),x.resetHeightLock())}))),yt&&yt.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):t.requestFullscreen&&t.requestFullscreen().catch(function(){})}),ht&&ht.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),Jt()}),u&&u.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();let r=!K("autoplay",!1);Q("autoplay",r),ie=r,pe()}),b&&b.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),St(n)&&(M=!M,Lt(n,U,M),pt(s,n,U,M),ft(b,n,M))}),t.addEventListener("contextmenu",function(e){e.preventDefault(),Tt();let r=t.querySelector(".yrp-context");if(!r)return;let p=t.getBoundingClientRect();r.style.left=e.clientX-p.left+"px",r.style.top=e.clientY-p.top+"px",r.hidden=!1,r.onclick=function(o){let l=o.target&&o.target.getAttribute("data-action"),h=Math.floor(n.currentTime||0),S=t.getAttribute("data-video-id")||"";if(l==="pip")Jt();else if(l==="copy-url"){let d=new URL(window.location.href);d.searchParams.delete("t"),Rt(d.toString())}else if(l==="copy-url-time"){let d=new URL(window.location.href);d.searchParams.set("t",String(h)),Rt(d.toString())}else if(l==="copy-embed"){let g=`<iframe width="560" height="315" src="${(window.location.origin||"")+"/embed?v="+encodeURIComponent(S||"")}" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>`;Rt(g)}r.hidden=!0},document.addEventListener("click",function(o){let l=t.querySelector(".yrp-context");l&&!l.hidden&&!l.contains(o.target)&&(l.hidden=!0)},{once:!0}),document.addEventListener("keydown",function o(l){if(l.code==="Escape"||(l.key||"").toLowerCase()==="escape"){let h=t.querySelector(".yrp-context");h&&!h.hidden&&(h.hidden=!0),document.removeEventListener("keydown",o)}})});function Pt(e){let r=t.getBoundingClientRect();e.clientX>=r.left&&e.clientX<=r.right&&e.clientY>=r.top&&e.clientY<=r.bottom&&D()}document.addEventListener("mousemove",Pt,{passive:!0}),document.addEventListener("pointermove",Pt,{passive:!0}),["mousemove","pointermove","mouseenter","mouseover","touchstart"].forEach(function(e){t.addEventListener(e,function(){try{t.focus()}catch(r){}D()},{passive:!0}),n&&n.addEventListener(e,D,{passive:!0}),$&&$.addEventListener(e,D,{passive:!0})});function ge(){try{document.fullscreenElement===t&&(document.addEventListener("mousemove",Pt,{passive:!0}),document.addEventListener("pointermove",Pt,{passive:!0}))}catch(e){}}document.addEventListener("fullscreenchange",ge),ge();function je(e){let r=e.target,p=r&&r.tagName?r.tagName.toUpperCase():"";if(r&&(r.isContentEditable||p==="INPUT"||p==="TEXTAREA")||e.ctrlKey||e.metaKey||e.altKey)return;let o=e.code,l=(e.key||"").toLowerCase();if(o==="Space"||o==="Enter"||o==="NumpadEnter"||o==="MediaPlayPause"||o==="KeyK"||l==="k"){At(),e.preventDefault();return}if(o==="ArrowLeft"||l==="arrowleft"||o==="KeyJ"||l==="j"){n.currentTime=j((n.currentTime||0)-5,0,P||0),e.preventDefault();return}if(o==="ArrowRight"||l==="arrowright"||o==="KeyL"||l==="l"){n.currentTime=j((n.currentTime||0)+5,0,P||0),e.preventDefault();return}if(o==="KeyM"||l==="m"){he(),e.preventDefault();return}if(o==="KeyF"||l==="f"){document.fullscreenElement?document.exitFullscreen().catch(function(){}):t.requestFullscreen&&t.requestFullscreen().catch(function(){}),e.preventDefault();return}if(o==="KeyT"||l==="t"){ct&&ct.click(),e.preventDefault();return}if(o==="KeyI"||l==="i"){Jt(),e.preventDefault();return}if(o==="KeyA"||l==="a"){u&&u.click(),e.preventDefault();return}if(o==="KeyC"||l==="c"){b&&!b.disabled&&b.click(),e.preventDefault();return}if(o==="Escape"||l==="escape"){Tt();return}}document.addEventListener("keydown",je),setTimeout(Mt,200)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ne):ne();})();
