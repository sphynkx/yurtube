(()=>{function It(e){(!isFinite(e)||e<0)&&(e=0),e=Math.floor(e);let l=Math.floor(e/3600),y=Math.floor(e%3600/60),f=e%60,v=L=>(L<10?"0":"")+L;return l>0?`${l}:${v(y)}:${v(f)}`:`${y}:${v(f)}`}function O(e,l,y){return e<l?l:e>y?y:e}function de(e){let l=parseFloat(String(e||"").trim());return isFinite(l)?l:0}function fe(e,l){let y=0,f=!1,v=null;return function(...L){v=L;let N=Date.now();!y||N-y>=l?(y=N,e.apply(null,v)):f||(f=!0,setTimeout(()=>{f=!1,e.apply(null,v)},l-(N-y)))}}function qt(e,l,y){let f=e.getAttribute(l);if(!f)return y;try{return JSON.parse(f)}catch(v){return y}}function Rt(e){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).catch(function(){});else{let l=document.createElement("textarea");l.value=e,l.style.position="fixed",l.style.left="-9999px",document.body.appendChild(l),l.select();try{document.execCommand("copy")}catch(y){}document.body.removeChild(l)}}var pe="yrp:";function ye(){try{return localStorage.setItem("__t","1"),localStorage.removeItem("__t"),!0}catch(e){return!1}}function B(e,l){if(!ye())return l;try{let y=localStorage.getItem(pe+e);return y?JSON.parse(y):l}catch(y){return l}}function _(e,l){if(ye())try{localStorage.setItem(pe+e,JSON.stringify(l))}catch(y){}}var he="/static/img/fallback_video_notfound.gif";function me(e,l,y){let f=!1,v=null;function L(i){if(!f){f=!0,y&&y("fallback: applying",i);try{l?l.setAttribute("src",he):e.src=he,e.load()}catch(Q){}}}function N(){v&&(clearTimeout(v),v=null)}e.addEventListener("loadstart",function(){N(),v=setTimeout(function(){!f&&e.readyState<1&&L("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(i){e.addEventListener(i,N)}),e.addEventListener("error",function(){f||L("error-event")}),setTimeout(function(){let i=l?l.getAttribute("src")||"":e.currentSrc||e.src||"";!f&&!i&&L("empty-src")},0)}var Ie={};function Pe(){try{let l=new URL(Ie.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(l)return l[1]}catch(e){}try{let l=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(l)return l[1]}catch(e){}try{let e=document.querySelector(".player-host[data-player]");if(e){let l=String(e.getAttribute("data-player")||"").trim();if(l)return l}}catch(e){}return"yurtube"}function $t(){let e=Pe(),l=`/static/players/${e}`,y=document.querySelectorAll(`.player-host[data-player="${e}"]`);y.length&&fetch(l+"/templates/player.html",{credentials:"same-origin"}).then(f=>f.text()).then(function(f){for(let v=0;v<y.length;v++)Te(y[v],f,l)}).catch(function(){})}function ge(e,...l){if(e)try{}catch(y){}}function Te(e,l,y){e.innerHTML=l;let f=e.querySelector(".yrp-container"),v=f.querySelector(".yrp-video-wrap"),L=f.querySelector(".yrp-video"),N=L.querySelector("source"),i=e.getAttribute("data-video-src")||"",Q=e.getAttribute("data-poster-url")||"",D=e.getAttribute("data-video-id")||"",$=qt(e,"data-subtitles",[]),S=qt(e,"data-options",{}),H=e.getAttribute("data-sprites-vtt")||"",Z=e.getAttribute("data-caption-vtt")||"",j=e.getAttribute("data-caption-lang")||"",ut=/\byrpdebug=1\b/i.test(location.search)||!!(S&&S.debug),it=(...c)=>ge(ut,...c);if(N&&N.setAttribute("src",i),Q&&L.setAttribute("poster",Q),S.autoplay&&L.setAttribute("autoplay",""),S.muted&&L.setAttribute("muted",""),S.loop&&L.setAttribute("loop",""),D&&f.setAttribute("data-video-id",D),H&&f.setAttribute("data-sprites-vtt",H),L.setAttribute("playsinline",""),Array.isArray($)&&$.forEach(function(c){if(!c||!c.src)return;let h=document.createElement("track");h.setAttribute("kind","captions"),c.srclang&&h.setAttribute("srclang",String(c.srclang)),c.label&&h.setAttribute("label",String(c.label)),h.setAttribute("src",String(c.src)),c.default&&h.setAttribute("default",""),L.appendChild(h)}),Z)try{let c=document.createElement("track");c.setAttribute("kind","captions"),c.setAttribute("src",Z),c.setAttribute("srclang",j||"auto"),c.setAttribute("label",j||"Original"),c.setAttribute("default",""),L.appendChild(c)}catch(c){it("caption append failed",c)}try{L.load(),it("video.load()",{src:i})}catch(c){it("video.load() error",c)}me(L,N,it);let W=y+"/img/buttons";[["--icon-play","play.svg"],["--icon-pause","pause.svg"],["--icon-prev","prev.svg"],["--icon-next","next.svg"],["--icon-vol","volume.svg"],["--icon-mute","mute.svg"],["--icon-cc","cc.svg"],["--icon-mini","mini.svg"],["--icon-settings","settings.svg"],["--icon-theater","theater.svg"],["--icon-full","full.svg"],["--icon-autoplay-on","autoplay-on.svg"],["--icon-autoplay-off","autoplay-off.svg"],["--icon-shuffle-on","shuffle-on.svg"],["--icon-shuffle-off","shuffle-off.svg"],["--icon-cycle-on","cycle-on.svg"],["--icon-cycle-off","cycle-off.svg"]].forEach(([c,h])=>{f.style.setProperty(c,`url("${W}/${h}")`)}),f.classList.add("yrp-icons-ready");let Y=f.querySelector(".yrp-center-logo");Y&&Y.setAttribute("src",y+"/img/logo.png");let k=document.createElement("div");k.className="yrp-captions-layer",Object.assign(k.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let tt=document.createElement("div");tt.className="yrp-captions-text",Object.assign(tt.style,{display:"inline-block",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:"16px",lineHeight:"1.35",padding:"6px 10px",borderRadius:"6px",maxWidth:"80%",minWidth:"220px",boxShadow:"0 2px 6px rgba(0,0,0,0.35)",whiteSpace:"pre-wrap",wordBreak:"break-word"}),k.appendChild(tt),v&&(v.style.position="relative",v.appendChild(k));let R={active:!1,startX:0,startY:0,startLeftPct:50,startTopPct:80},z=!1;function E(){return v?v.getBoundingClientRect():{width:0,height:0,left:0,top:0}}function b(c){let h=E(),T=Math.min(c,h.width-c)*2,U=12,A=220;tt.style.maxWidth=Math.max(A,Math.floor(T-U))+"px"}function at(c){let h=c.touches?c.touches[0]:c,T=E(),U=k.getBoundingClientRect();R.startLeftPct=(U.left+U.width/2-T.left)/T.width*100,R.startTopPct=(U.top+U.height/2-T.top)/T.height*100,R.active=!0,R.startX=h.clientX,R.startY=h.clientY,c.preventDefault(),c.stopPropagation()}function dt(c){if(!R.active)return;let h=c.touches?c.touches[0]:c,T=h.clientX-R.startX,U=h.clientY-R.startY,A=E(),G=R.startLeftPct/100*A.width+T,K=R.startTopPct/100*A.height+U,Ot=k.getBoundingClientRect(),Bt=Ot.width/2,Nt=Ot.height/2;G=O(G,Bt,A.width-Bt),K=O(K,Nt,A.height-Nt),k.style.left=G/A.width*100+"%",k.style.top=K/A.height*100+"%",k.style.transform="translate(-50%,-50%)",z=!0,b(G),c.preventDefault(),c.stopPropagation()}function ft(c){R.active&&(R.active=!1,c.preventDefault(),c.stopPropagation())}k.addEventListener("mousedown",at),k.addEventListener("touchstart",at,{passive:!1}),document.addEventListener("mousemove",dt),document.addEventListener("touchmove",dt,{passive:!1}),document.addEventListener("mouseup",ft),document.addEventListener("touchend",ft),k.addEventListener("click",function(c){c.stopPropagation()});function pt(){if(z)return;let c=!f.classList.contains("autohide");k.style.top=c?"78%":"82%",k.style.left="50%",k.style.transform="translate(-50%,-50%)",b(E().width/2)}let et=0;typeof S.start=="number"&&S.start>0&&(et=Math.max(0,S.start));try{let h=new URL(window.location.href).searchParams.get("t");if(h!=null){let T=parseInt(String(h).trim(),10);isFinite(T)&&T>0&&(et=Math.max(et,T))}}catch(c){}Me(f,et,ut,{overlay:k,textBox:tt,autoAdjust:pt},et,y)}function Me(e,l,y,f,v,L){let N=(...t)=>ge(y,...t),i=e.querySelector(".yrp-video"),Q=e.querySelector(".yrp-center-play"),D=e.querySelector(".yrp-play"),$=e.querySelector(".yrp-prev"),S=e.querySelector(".yrp-next"),H=e.querySelector(".yrp-vol-btn"),Z=e.querySelector(".yrp-volume"),j=e.querySelector(".yrp-vol-slider"),ut=e.querySelector(".yrp-time-current"),it=e.querySelector(".yrp-time-total"),W=e.querySelector(".yrp-progress"),Y=e.querySelector(".yrp-progress-rail"),k=e.querySelector(".yrp-progress-buffer"),tt=e.querySelector(".yrp-progress-played"),R=e.querySelector(".yrp-progress-handle"),z=e.querySelector(".yrp-progress-tooltip"),E=e.querySelector(".yrp-settings"),b=e.querySelector(".yrp-menu"),at=e.querySelector(".yrp-theater"),dt=e.querySelector(".yrp-fullscreen"),ft=e.querySelector(".yrp-pip"),pt=e.querySelector(".yrp-left"),et=e.querySelector(".yrp-right"),c=e.querySelector(".yrp-autoplay"),h=e.querySelector(".yrp-subtitles"),T=null,U=!1,A=0,G=!1,K=!1,Ot=!1,Bt=!1,Nt=!1,qe=null,Ht=!!B("autoplay",!1),st=e.getAttribute("data-sprites-vtt")||"",wt=[],Dt=0,J=null,xt=!1,Lt=!1,nt=!0,ct=0,Yt=function(){try{return String(localStorage.getItem("subtitle_lang")||"")}catch(t){return""}}(),m=null;function yt(){try{return i.textTracks?Array.prototype.filter.call(i.textTracks,function(t){return t.kind==="subtitles"||t.kind==="captions"}):[]}catch(t){return[]}}function zt(){return yt().length>0}function Ut(){let t=yt();return t.length===0?null:((ct<0||ct>=t.length)&&(ct=0),t[ct])}function Ft(){yt().forEach(function(n,a){n.mode=a===ct&&nt?"hidden":"disabled"}),ce("applyPageModes")}function ve(){let t=Ut();if(!t||!t.cues)return"";let n=i.currentTime||0;for(let a=0;a<t.cues.length;a++){let r=t.cues[a];if(n>=r.startTime&&n<=r.endTime)return(r.text||"").replace(/\r/g,"")}return""}function St(){!f||!f.textBox||(f.textBox.textContent=nt?ve():"")}function Gt(){return yt().map(function(n,a){var r=(n.language||"").toLowerCase(),s=String(n.label||r||"Lang "+(a+1));return{index:a,lang:r,label:s}})}function Jt(t){let n=String(t||"").toLowerCase(),a=Gt();for(var r=0;r<a.length;r++)if(a[r].lang===n||a[r].label.toLowerCase()===n)return a[r].index;return-1}function be(t){let n=Jt(t);if(n>=0){ct=n,nt=!0,Ft(),St();try{localStorage.setItem("subtitle_lang",String(t||""))}catch(a){}Kt(),Zt(),kt&&kt()}}function we(){return m&&m.parentNode||(m=document.createElement("div"),m.className="yrp-menu yrp-menu-langs",m.hidden=!0,m.style.zIndex="30",b&&b.parentNode?b.parentNode.appendChild(m):e.appendChild(m)),m}function Qt(){if(!m||!b)return;let t=e.getBoundingClientRect(),n=b.getBoundingClientRect();m.style.position="absolute",m.style.left=n.left-t.left+"px",m.style.top=n.top-t.top+"px"}function xe(){we(),Qt(),Zt(),b.hidden=!0,m.hidden=!1,e.classList.add("vol-open"),F()}function ht(){m&&(m.hidden=!0)}function Zt(){if(m){for(;m.firstChild;)m.removeChild(m.firstChild);var t=document.createElement("div");t.className="yrp-menu-title",t.textContent="Languages",m.appendChild(t);var n=Gt(),a=Ut(),r=a&&a.language?String(a.language).toLowerCase():"";n.forEach(function(d){var g=document.createElement("div");g.className="yrp-menu-item",g.setAttribute("data-lang",d.lang||""),g.textContent=d.label+(d.lang===r?" \u2713":""),m.appendChild(g)});var s=document.createElement("div");s.className="yrp-menu-item",s.setAttribute("data-action","back"),s.textContent="Back",m.appendChild(s)}}function Kt(){if(b){var t=b.querySelector(".yrp-menu-item.open-langs");t||(t=document.createElement("div"),t.className="yrp-menu-item open-langs",t.setAttribute("data-action","open-langs"),t.textContent="Languages",b.appendChild(t))}}function te(t,n,a,r,s){let d=r?n:a,o=getComputedStyle(e).getPropertyValue(d)||e.style.getPropertyValue(d)||"",p=String(o).match(/url\(["']?([^"')]+)["']?\)/i);if(!(p&&p[1]?p[1]:null)){t.style.webkitMaskImage="",t.style.maskImage="",t.textContent=s,t.style.backgroundColor="transparent",t.style.color="var(--yrp-icon-color)",t.style.textIndent="0",t.dataset.maskApplied="0";return}t.textContent="";let x=`var(${d})`;t.style.webkitMaskImage=x,t.style.maskImage=x,t.style.backgroundColor="var(--yrp-icon-color)",t.style.color="",t.style.textIndent="-9999px",t.dataset.maskApplied="1"}function Le(){return J||(W?(J=document.createElement("div"),Object.assign(J.style,{position:"absolute",display:"none",bottom:"calc(100% + 30px)",left:"0",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),J.className="yrp-sprite-pop",getComputedStyle(W).position==="static"&&(W.style.position="relative"),W.appendChild(J),J):null)}function ee(t){let n=String(t||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);return n?parseInt(n[1],10)*3600+parseInt(n[2],10)*60+parseFloat(n[3]):0}function Se(t){if(!t)return"";try{let n=new URL(st,window.location.href);return new URL(t,n).href}catch(n){return t}}function ne(){if(!st||xt||Lt)return;let t="";try{t=new URL(st,window.location.href).href}catch(n){t=st}fetch(t,{credentials:"same-origin"}).then(n=>n.text()).then(function(n){let a=n.split(/\r?\n/);for(let r=0;r<a.length;r++){let s=a[r].trim();if(s&&s.indexOf("-->")>=0){let d=s.split("-->").map(V=>V.trim());if(d.length<2)continue;let g=ee(d[0]),o=ee(d[1]),p=(a[r+1]||"").trim(),w="",x=0,C=0,ot=0,Tt=0,lt=p.indexOf("#xywh=");if(lt>0){w=p.substring(0,lt);let V=p.substring(lt+6).split(",");V.length===4&&(x=parseInt(V[0],10),C=parseInt(V[1],10),ot=parseInt(V[2],10),Tt=parseInt(V[3],10))}else w=p||"";let gt=Se(w);wt.push({start:g,end:o,spriteUrl:gt,x,y:C,w:ot,h:Tt}),o>Dt&&(Dt=o),r++}}xt=!0}).catch(function(){Lt=!0})}function ke(t){if(!st||!wt.length||!Y)return;let n=Y.getBoundingClientRect(),a=O(t-n.left,0,n.width),r=n.width>0?a/n.width:0,s=(A||Dt||0)*r,d=null;for(let w=0;w<wt.length;w++){let x=wt[w];if(s>=x.start&&s<x.end){d=x;break}}let g=Le();if(!g)return;if(!d||!d.spriteUrl||d.w<=0||d.h<=0){g.style.display="none";return}for(;g.firstChild;)g.removeChild(g.firstChild);let o=document.createElement("img");Object.assign(o.style,{position:"absolute",left:-d.x+"px",top:-d.y+"px"}),o.src=d.spriteUrl,g.appendChild(o),g.style.display="block";let p=O(a-d.w/2,0,n.width-d.w);g.style.left=p+"px",g.style.width=d.w+"px",g.style.height=d.h+"px"}function re(){if(!c)return;let t=Ht;c.setAttribute("aria-pressed",t?"true":"false"),c.title=t?"Autoplay on (A)":"Autoplay off (A)",c.textContent="";let n=t?"var(--icon-autoplay-on)":"var(--icon-autoplay-off)";Object.assign(c.style,{backgroundColor:"currentColor",webkitMaskImage:n,maskImage:n,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px",opacity:t?"1":"0.6"})}function jt(){if(!D)return;let t=!i.paused;D.classList.toggle("icon-play",!t),D.classList.toggle("icon-pause",t),D.setAttribute("aria-label",t?"Pause (Space, K)":"Play (Space, K)"),D.title=t?"Pause (Space, K)":"Play (Space, K)",D.textContent="";let n=t?"var(--icon-pause)":"var(--icon-play)";Object.assign(D.style,{backgroundColor:"currentColor",webkitMaskImage:n,maskImage:n,webkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",webkitMaskPosition:"center",maskPosition:"center",webkitMaskSize:"20px 20px",maskSize:"20px 20px"})}function kt(){if(!h)return;let t=zt();h.disabled=!t,h.style.visibility=t?"visible":"hidden",h.classList.toggle("no-tracks",!t),h.classList.toggle("has-tracks",t),h.classList.toggle("active",t&&nt),h.classList.toggle("disabled-track",t&&!nt),h.setAttribute("aria-pressed",nt?"true":"false")}function Wt(t){T&&clearTimeout(T),T=setTimeout(function(){e.classList.add("autohide"),f&&f.autoAdjust&&f.autoAdjust()},Math.max(0,t||1200))}function F(){e.classList.remove("autohide"),f&&f.autoAdjust&&f.autoAdjust(),Wt(2e3)}function ie(){try{A=isFinite(i.duration)?i.duration:0}catch(t){A=0}it&&(it.textContent=It(A)),ut&&(ut.textContent=It(i.currentTime||0))}function Vt(){let t=A||0,n=i.currentTime||0,a=t>0?O(n/t,0,1):0;tt&&(tt.style.width=(a*100).toFixed(3)+"%"),R&&(R.style.left=(a*100).toFixed(3)+"%");let r=0;if(i.buffered&&i.buffered.length>0)try{r=i.buffered.end(i.buffered.length-1)}catch(d){r=0}let s=t>0?O(r/t,0,1):0;k&&(k.style.width=(s*100).toFixed(3)+"%")}function Et(){i.paused?i.play().catch(()=>{}):i.pause()}function ae(){i.muted=!i.muted,mt()}function mt(){let t=i.muted?0:i.volume,n=i.muted||t===0?"Mute":"Vol";H&&(H.textContent=n,H.classList.toggle("icon-mute",n==="Mute"),H.classList.toggle("icon-vol",n!=="Mute"))}function se(t){if(!Y)return;let n=Y.getBoundingClientRect(),a=O(t-n.left,0,n.width),r=n.width>0?a/n.width:0;i.currentTime=(A||0)*r}function Ee(t){if(!z||!Y)return;let n=Y.getBoundingClientRect(),a=O(t-n.left,0,n.width),r=n.width>0?a/n.width:0,s=(A||0)*r;z.textContent=It(s),z.style.left=(r*100).toFixed(3)+"%",z.hidden=!1}(function(){let n=e.getAttribute("data-video-id")||"";if(!n)return;if(v>0){try{let o=B("resume",{});o&&o[n]&&(delete o[n],_("resume",o))}catch(o){}return}let a=B("resume",{}),r=a[n],s=Date.now();function d(o){let p=isFinite(i.duration)?i.duration:0;if(p&&o>10&&o<p-5)try{i.currentTime=o}catch(w){}}if(r&&typeof r.t=="number"&&s-(r.ts||0)<180*24*3600*1e3){let o=Math.max(0,r.t|0);isFinite(i.duration)&&i.duration>0?d(o):i.addEventListener("loadedmetadata",function p(){i.removeEventListener("loadedmetadata",p),d(o)})}let g=fe(function(){let o=isFinite(i.duration)?i.duration:0,p=Math.max(0,Math.floor(i.currentTime||0)),w=B("resume",{});w[n]={t:p,ts:Date.now(),d:o};let x=Object.keys(w);if(x.length>200){x.sort((C,ot)=>(w[C].ts||0)-(w[ot].ts||0));for(let C=0;C<x.length-200;C++)delete w[x[C]]}_("resume",w)},3e3);i.addEventListener("timeupdate",function(){!i.paused&&!i.seeking&&g()}),i.addEventListener("ended",function(){let o=B("resume",{});delete o[n],_("resume",o)})})(),function(){function n(r){e.classList.toggle("yrp-theater",r);try{if(typeof window.setTheater=="function")window.setTheater(r);else{let s=e.closest(".watch-layout")||document.querySelector(".watch-layout");s&&(s.classList.toggle("theater-mode",r),typeof window.relocateUpNext=="function"&&window.relocateUpNext())}}catch(s){}r?(e.style.maxWidth="",e.style.minWidth="",e.style.width=""):At()}!!B("theater",!1)&&n(!0),at&&at.addEventListener("click",function(){let r=!e.classList.contains("yrp-theater");n(r),_("theater",r),F()})}(),i.addEventListener("loadedmetadata",function(){if(l>0)try{i.currentTime=Math.min(l,Math.floor(i.duration||l))}catch(r){}if(setTimeout(At,0),ie(),Vt(),mt(),re(),jt(),Yt){let r=Jt(Yt);r>=0&&(ct=r)}Ut(),Ft(),kt(),Wt(1200),ne(),St();let t=e.querySelector(".yrp-video-wrap").getBoundingClientRect(),n=t.width/2,a=e.querySelector(".yrp-captions-text");if(a){let r=Math.min(n,t.width-n)*2,s=12,d=220;a.style.maxWidth=Math.max(d,Math.floor(r-s))+"px"}ce("after loadedmetadata"),Kt()});function ce(t){let a=yt().map(function(r,s){return{i:s,mode:r.mode,label:r.label,srclang:r.language||r.srclang,cues:r.cues?r.cues.length:0,kind:r.kind}});N(t,a)}function At(){if(e.classList.contains("yrp-theater"))return;let t=getComputedStyle(i),n=de(t.getPropertyValue("max-height"))||i.clientHeight||0,a=i.videoWidth||16,r=i.videoHeight||9,s=r>0?a/r:16/9,d=Math.min(n||i.clientHeight||0,window.innerHeight*.9);if(!d||!isFinite(d))return;let g=Math.floor(d*s),o=Math.floor(window.innerWidth*.95),p=Ae(),w=Math.max(p,Math.min(g,o));e.style.maxWidth=w+"px",e.style.minWidth=p+"px",e.style.width="100%"}function Ae(){let t=pt?pt.getBoundingClientRect().width:0,n=et?et.getBoundingClientRect().width:0,r=Math.ceil(t+n+24);return!isFinite(r)||r<=0?480:r}(function(){let n=e.closest(".player-host")||e,a=qt(n,"data-options",null);function r(){return a&&a.autoplay===!0?!0:!!B("autoplay",!1)}if(!r()){setTimeout(function(){Wt(1e3)},0);return}function s(){let o=null;try{o=i.play()}catch(p){o=null}o&&typeof o.then=="function"?o.then(function(){}).catch(function(){if(!i.muted){K=!0,i.muted=!0,i.setAttribute("muted","");try{i.play().catch(function(){})}catch(p){}}}):setTimeout(function(){if(i.paused){K=!0,i.muted=!0,i.setAttribute("muted","");try{i.play().catch(function(){})}catch(p){}}},0)}let d=!1;function g(){d||(d=!0,s())}i.readyState>=1&&g(),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(o){let p=function(){i.removeEventListener(o,p),g()};i.addEventListener(o,p)}),setTimeout(function(){if(i.paused){K=!0,i.muted=!0,i.setAttribute("muted","");try{i.play().catch(function(){})}catch(o){}}},1200)})(),window.addEventListener("resize",At),i.addEventListener("timeupdate",function(){ie(),Vt(),St()}),i.addEventListener("progress",Vt),i.addEventListener("play",function(){e.classList.add("playing"),jt(),F()}),i.addEventListener("pause",function(){e.classList.remove("playing"),jt(),F()});function Xt(){!document.pictureInPictureEnabled||!i.requestPictureInPicture||i.disablePictureInPicture||(document.pictureInPictureElement===i?document.exitPictureInPicture().catch(function(){}):i.requestPictureInPicture().catch(function(){}))}i.addEventListener("click",Et),Q&&Q.addEventListener("click",Et),D&&D.addEventListener("click",Et),$&&$.addEventListener("click",function(){e.dispatchEvent(new CustomEvent("yrp-prev",{bubbles:!0}))}),S&&S.addEventListener("click",function(){e.dispatchEvent(new CustomEvent("yrp-next",{bubbles:!0}))}),function(){var n=new URL(window.location.href),a=n.searchParams.get("p"),r=n.searchParams.get("v")||e.getAttribute("data-video-id")||"";if(a)$&&($.style.display=""),S&&(S.style.display="");else{$&&($.style.display="none"),S&&(S.style.display="none");var s=e.querySelector(".yrp-shuffle"),d=e.querySelector(".yrp-cycle");s&&(s.style.display="none"),d&&(d.style.display="none");return}function g(){var u=[],I=document.querySelector("#upnext-block .rb-list"),q=document.querySelector("#panel-upnext .upnext-list"),X=[];return I?X=I.querySelectorAll("a.rb-item[href*='/watch']"):q&&(X=q.querySelectorAll("a.rb-item[href*='/watch']")),X.forEach(function(bt){var Mt=bt.getAttribute("href")||"",_t=Mt.match(/[?&]v=([^&]+)/);_t&&_t[1]&&u.push(decodeURIComponent(_t[1]))}),u}var o=g();if(!o||o.length===0)return;var p=o.indexOf(r);p<0&&(p=0);function w(u){return"pl:"+a+":"+u}var x=function(){var u=B(w("order"),"direct");return u==="shuffle"?"shuffle":"direct"}(),C=function(){var u=B(w("cycle"),"0");return u===!0||u==="1"}();function ot(u){x=u==="shuffle"?"shuffle":"direct",_(w("order"),x),le()}function Tt(u){C=!!u,_(w("cycle"),C?"1":"0"),ue()}function lt(u){if(o.length<=1)return u;for(var I=0,q=u;I<6&&q===u;)q=Math.floor(Math.random()*o.length),I++;return q===u&&(q=(u+1)%o.length),q}function gt(){if(x==="shuffle")return lt(p);var u=p+1;return u>=o.length?C?0:-1:u}function V(){if(x==="shuffle")return lt(p);var u=p-1;return u<0?C?o.length-1:-1:u}function vt(u){u=Math.max(0,Math.min(o.length-1,u));var I=o[u];if(I){try{var q=B("resume",{});q&&q[I]&&(delete q[I],_("resume",q))}catch(bt){}var X=new URL(window.location.href);X.searchParams.set("v",I),X.searchParams.set("p",a),window.location.href=X.toString()}}e.addEventListener("yrp-prev",function(){var u=V();u>=0&&vt(u)}),e.addEventListener("yrp-next",function(){var u=gt();u>=0&&vt(u)});var P=e.querySelector(".yrp-shuffle"),M=e.querySelector(".yrp-cycle");P||(P=document.createElement("button"),P.type="button",P.className="yrp-btn yrp-shuffle",P.title="Shuffle playlist",P.setAttribute("aria-label","Shuffle playlist"),Object.assign(P.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginLeft:"6px",marginRight:"2px"})),M||(M=document.createElement("button"),M.type="button",M.className="yrp-btn yrp-cycle",M.title="Cycle playlist",M.setAttribute("aria-label","Cycle playlist"),Object.assign(M.style,{border:"none",width:"var(--yrp-icon-button-width)",height:"28px",cursor:"pointer",padding:"0",marginRight:"8px"})),P.dataset.forceEmoji="0",M.dataset.forceEmoji="0";function le(){P.setAttribute("aria-pressed",x==="shuffle"?"true":"false"),te(P,"--icon-shuffle-on","--icon-shuffle-off",x==="shuffle","\u{1F500}"),P.style.opacity=x==="shuffle"?"1":"0.55",P.style.display=""}function ue(){M.setAttribute("aria-pressed",C?"true":"false"),te(M,"--icon-cycle-on","--icon-cycle-off",!!C,"\u{1F501}"),M.style.opacity=C?"1":"0.55",M.style.display=""}le(),ue(),P.addEventListener("click",function(){ot(x==="shuffle"?"direct":"shuffle")}),M.addEventListener("click",function(){Tt(!C)});try{var rt=pt||S&&S.parentNode||e;Z&&rt?(rt.insertBefore(P,Z),rt.insertBefore(M,Z)):S&&rt?(rt.insertBefore(P,S.nextSibling),rt.insertBefore(M,P.nextSibling)):(rt.appendChild(P),rt.appendChild(M))}catch(u){}i.addEventListener("ended",function(){var u=gt();u>=0&&vt(u)}),document.addEventListener("keydown",function(u){var I=u.target,q=I&&I.tagName?I.tagName.toUpperCase():"";if(!(I&&(I.isContentEditable||q==="INPUT"||q==="TEXTAREA"))&&!(u.ctrlKey||u.metaKey||u.altKey)){var X=u.code||"";if(X==="PageUp"){u.preventDefault();var bt=V();bt>=0&&vt(bt)}else if(X==="PageDown"){u.preventDefault();var Mt=gt();Mt>=0&&vt(Mt)}}})}(),H&&H.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),G=!0,K=!1,ae(),F(),e.classList.add("vol-open"),setTimeout(function(){e.classList.remove("vol-open")},1200)}),Z&&Z.addEventListener("wheel",function(t){t.preventDefault(),G=!0,K=!1;let n=.05,a=i.muted?0:i.volume,r=O(a+(t.deltaY<0?n:-n),0,1);i.volume=r,r>0&&(i.muted=!1),j&&(j.value=String(r)),mt(),F()},{passive:!1}),j&&(j.addEventListener("input",function(){G=!0,K=!1;let t=parseFloat(j.value||"1");isFinite(t)||(t=1),t=O(t,0,1),i.volume=t,t>0&&(i.muted=!1),mt()}),j.addEventListener("wheel",function(t){t.preventDefault(),G=!0,K=!1;let n=.05,a=i.muted?0:i.volume,r=O(a+(t.deltaY<0?n:-n),0,1);i.volume=r,r>0&&(i.muted=!1),j.value=String(r),mt(),F()},{passive:!1})),W&&(W.addEventListener("mousedown",function(t){U=!0,Ct(),se(t.clientX)}),window.addEventListener("mousemove",function(t){U&&se(t.clientX)}),window.addEventListener("mouseup",function(){U=!1}),W.addEventListener("mousemove",function(t){Ee(t.clientX),st&&xt&&!Lt?ke(t.clientX):st&&!xt&&!Lt&&ne()}),W.addEventListener("mouseleave",function(){z&&(z.hidden=!0),J&&(J.style.display="none")})),E&&b&&(E.addEventListener("click",function(t){!b.hidden?(b.hidden=!0,E.setAttribute("aria-expanded","false"),ht()):(Ct(),Kt(),Qt(),b.hidden=!1,E.setAttribute("aria-expanded","true")),t.stopPropagation(),e.classList.add("vol-open"),F()}),b.addEventListener("click",function(t){let n=t.target;if(n&&n.classList.contains("yrp-menu-item")){let a=parseFloat(n.getAttribute("data-speed")||"NaN");if(!isNaN(a)){i.playbackRate=a,b.hidden=!0,E.setAttribute("aria-expanded","false");return}if((n.getAttribute("data-action")||"")==="open-langs"){xe();return}}}),document.addEventListener("click",function(t){!b.hidden&&!b.contains(t.target)&&t.target!==E&&(b.hidden=!0,E.setAttribute("aria-expanded","false")),m&&!m.hidden&&!m.contains(t.target)&&t.target!==E&&(ht(),E.setAttribute("aria-expanded","false"))}),e.addEventListener("click",function(t){if(m&&!m.hidden){let n=t.target,a=n&&n.getAttribute&&n.getAttribute("data-lang"),r=n&&n.getAttribute&&n.getAttribute("data-action");a?(be(a),ht(),E.setAttribute("aria-expanded","false")):r==="back"&&(ht(),b.hidden=!1,E.setAttribute("aria-expanded","true"))}})),dt&&dt.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):e.requestFullscreen&&e.requestFullscreen().catch(function(){})}),ft&&ft.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),Xt()}),c&&c.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();let n=!B("autoplay",!1);_("autoplay",n),Ht=n,re()}),h&&h.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),zt()&&(nt=!nt,Ft(),St(),kt())});function Ct(){b&&(b.hidden=!0,E&&E.setAttribute("aria-expanded","false"));let t=e.querySelector(".yrp-context");t&&(t.hidden=!0),ht(),e.classList.remove("vol-open")}e.addEventListener("contextmenu",function(t){t.preventDefault(),Ct();let n=e.querySelector(".yrp-context");if(!n)return;let a=e.getBoundingClientRect();n.style.left=t.clientX-a.left+"px",n.style.top=t.clientY-a.top+"px",n.hidden=!1,n.onclick=function(r){let s=r.target&&r.target.getAttribute("data-action"),d=Math.floor(i.currentTime||0),g=e.getAttribute("data-video-id")||"";if(s==="pip")Xt();else if(s==="copy-url"){let o=new URL(window.location.href);o.searchParams.delete("t"),Rt(o.toString())}else if(s==="copy-url-time"){let o=new URL(window.location.href);o.searchParams.set("t",String(d)),Rt(o.toString())}else if(s==="copy-embed"){let p=`<iframe width="560" height="315" src="${(window.location.origin||"")+"/embed?v="+encodeURIComponent(g||"")}" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>`;Rt(p)}n.hidden=!0},document.addEventListener("click",function(r){let s=e.querySelector(".yrp-context");s&&!s.hidden&&!s.contains(r.target)&&(s.hidden=!0)},{once:!0}),document.addEventListener("keydown",function r(s){if(s.code==="Escape"||(s.key||"").toLowerCase()==="escape"){let d=e.querySelector(".yrp-context");d&&!d.hidden&&(d.hidden=!0),document.removeEventListener("keydown",r)}})});function Pt(t){let n=e.getBoundingClientRect();t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom&&F()}document.addEventListener("mousemove",Pt,{passive:!0}),document.addEventListener("pointermove",Pt,{passive:!0}),["mousemove","pointermove","mouseenter","mouseover","touchstart"].forEach(function(t){e.addEventListener(t,function(){try{e.focus()}catch(n){}F()},{passive:!0}),i&&i.addEventListener(t,F,{passive:!0}),Q&&Q.addEventListener(t,F,{passive:!0})});function oe(){try{document.fullscreenElement===e&&(document.addEventListener("mousemove",Pt,{passive:!0}),document.addEventListener("pointermove",Pt,{passive:!0}))}catch(t){}}document.addEventListener("fullscreenchange",oe),oe();function Ce(t){let n=t.target,a=n&&n.tagName?n.tagName.toUpperCase():"";if(n&&(n.isContentEditable||a==="INPUT"||a==="TEXTAREA")||t.ctrlKey||t.metaKey||t.altKey)return;let r=t.code,s=(t.key||"").toLowerCase();if(r==="Space"||r==="Enter"||r==="NumpadEnter"||r==="MediaPlayPause"||r==="KeyK"||s==="k"){Et(),t.preventDefault();return}if(r==="ArrowLeft"||s==="arrowleft"||r==="KeyJ"||s==="j"){i.currentTime=O((i.currentTime||0)-5,0,A||0),t.preventDefault();return}if(r==="ArrowRight"||s==="arrowright"||r==="KeyL"||s==="l"){i.currentTime=O((i.currentTime||0)+5,0,A||0),t.preventDefault();return}if(r==="KeyM"||s==="m"){ae(),t.preventDefault();return}if(r==="KeyF"||s==="f"){document.fullscreenElement?document.exitFullscreen().catch(function(){}):e.requestFullscreen&&e.requestFullscreen().catch(function(){}),t.preventDefault();return}if(r==="KeyT"||s==="t"){at&&at.click(),t.preventDefault();return}if(r==="KeyI"||s==="i"){Xt(),t.preventDefault();return}if(r==="KeyA"||s==="a"){c&&c.click(),t.preventDefault();return}if(r==="KeyC"||s==="c"){h&&!h.disabled&&h.click(),t.preventDefault();return}if(r==="Escape"||s==="escape"){Ct();return}}document.addEventListener("keydown",Ce),setTimeout(At,200)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",$t):$t();})();
