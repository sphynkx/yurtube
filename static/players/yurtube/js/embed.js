(()=>{function tt(r){(!isFinite(r)||r<0)&&(r=0),r=Math.floor(r);let o=Math.floor(r/3600),e=Math.floor(r%3600/60),c=r%60,y=f=>(f<10?"0":"")+f;return o>0?`${o}:${y(e)}:${y(c)}`:`${e}:${y(c)}`}function St(r,o){let e=0,c=!1,y=null;return function(...f){y=f;let b=Date.now();!e||b-e>=o?(e=b,r.apply(null,y)):c||(c=!0,setTimeout(()=>{c=!1,r.apply(null,y)},o-(b-e)))}}function et(r,o,e){let c=r.getAttribute(o);if(!c)return e;try{return JSON.parse(c)}catch(y){return e}}function nt(r){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(r).catch(function(){});else{let o=document.createElement("textarea");o.value=r,o.style.position="fixed",o.style.left="-9999px",document.body.appendChild(o),o.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(o)}}var wt="/static/img/fallback_video_notfound.gif";function Tt(r,o,e){let c=!1,y=null;function f(g){if(!c){c=!0,e&&e("fallback: applying",g);try{o?o.setAttribute("src",wt):r.src=wt,r.load()}catch(K){}}}function b(){y&&(clearTimeout(y),y=null)}r.addEventListener("loadstart",function(){b(),y=setTimeout(function(){!c&&r.readyState<1&&f("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(g){r.addEventListener(g,b)}),r.addEventListener("error",function(){c||f("error-event")}),setTimeout(function(){let g=o?o.getAttribute("src")||"":r.currentSrc||r.src||"";!c&&!g&&f("empty-src")},0)}var Jt={};function Xt(){try{let o=new URL(Jt.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(o)return o[1]}catch(r){}try{let o=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(o)return o[1]}catch(r){}try{let r=document.querySelector(".player-host[data-player]");if(r){let o=String(r.getAttribute("data-player")||"").trim();if(o)return o}}catch(r){}return"yurtube"}function pt(){let r=Xt(),o="/static/players/"+r,e=document.querySelectorAll('.player-host[data-player="'+r+'"]');e.length!==0&&fetch(o+"/templates/player.html",{credentials:"same-origin"}).then(c=>c.text()).then(function(c){for(let y=0;y<e.length;y++)jt(e[y],c,o)}).catch(function(){})}function jt(r,o,e){r.innerHTML=o;let c=r.querySelector(".yrp-container"),y=c.querySelector(".yrp-video-wrap"),f=c.querySelector(".yrp-video"),b=c.querySelector(".yrp-controls"),g=f.querySelector("source"),K=c.querySelector(".yrp-autoplay");K&&(K.style.display="none");let E=et(r,"data-options",{}),U=/\byrpdebug=1\b/i.test(location.search)||!!(E&&E.debug);function R(){if(U)try{}catch(u){}}c.classList.add("yrp-embed"),c.setAttribute("tabindex","0");let M=r.getAttribute("data-video-src")||"",J=r.getAttribute("data-poster-url")||"",Y=r.getAttribute("data-video-id")||"",C=et(r,"data-subtitles",[]),q=r.getAttribute("data-sprites-vtt")||"",H=r.getAttribute("data-caption-vtt")||"",_=r.getAttribute("data-caption-lang")||"";g&&g.setAttribute("src",M),J&&f.setAttribute("poster",J),E&&E.autoplay&&f.setAttribute("autoplay",""),E&&E.muted&&f.setAttribute("muted",""),E&&E.loop&&f.setAttribute("loop",""),Y&&c.setAttribute("data-video-id",Y),q&&c.setAttribute("data-sprites-vtt",q),f.setAttribute("playsinline",""),Array.isArray(C)&&C.forEach(function(u){if(!u||!u.src)return;let k=document.createElement("track");k.setAttribute("kind","subtitles"),u.srclang&&k.setAttribute("srclang",String(u.srclang)),u.label&&k.setAttribute("label",String(u.label)),k.setAttribute("src",String(u.src)),u.default&&k.setAttribute("default",""),f.appendChild(k)});let B=c.querySelector(".yrp-subtitles");if(H)try{let u=document.createElement("track");u.setAttribute("kind","subtitles"),u.setAttribute("src",H),u.setAttribute("srclang",_||"auto"),u.setAttribute("label",_||"Original"),u.setAttribute("default",""),f.appendChild(u);let k=function(){try{if(!f.textTracks)return;for(let P=0;P<f.textTracks.length;P++){let L=f.textTracks[P];(L.kind==="subtitles"||L.kind==="captions")&&(L.mode="hidden")}}catch(P){}};setTimeout(k,0),u.addEventListener("load",k),f.addEventListener("loadedmetadata",function P(){f.removeEventListener("loadedmetadata",P),k()})}catch(u){R("caption track append failed",u)}try{f.load(),R("video.load() called",{src:M})}catch(u){R("video.load() error",u)}Tt(f,g,R);let T=e+"/img/buttons";c.style.setProperty("--icon-play",'url("'+T+'/play.svg")'),c.style.setProperty("--icon-pause",'url("'+T+'/pause.svg")'),c.style.setProperty("--icon-prev",'url("'+T+'/prev.svg")'),c.style.setProperty("--icon-next",'url("'+T+'/next.svg")'),c.style.setProperty("--icon-vol",'url("'+T+'/volume.svg")'),c.style.setProperty("--icon-mute",'url("'+T+'/mute.svg")'),c.style.setProperty("--icon-cc",'url("'+T+'/cc.svg")'),c.style.setProperty("--icon-mini",'url("'+T+'/mini.svg")'),c.style.setProperty("--icon-settings",'url("'+T+'/settings.svg")'),c.style.setProperty("--icon-theater",'url("'+T+'/theater.svg")'),c.style.setProperty("--icon-full",'url("'+T+'/full.svg")'),c.classList.add("yrp-icons-ready");let A=c.querySelector(".yrp-center-logo");A&&A.setAttribute("src",e+"/img/logo.png"),Ut(c,y,f,b,q,U,B)}function Ut(r,o,e,c,y,f,b){function g(){if(f)try{}catch(t){}}let K=r.querySelector(".yrp-center-play"),E=r.querySelector(".yrp-play"),U=r.querySelector(".yrp-vol-btn"),R=r.querySelector(".yrp-volume"),M=r.querySelector(".yrp-vol-slider"),J=r.querySelector(".yrp-time-current"),Y=r.querySelector(".yrp-time-total"),C=r.querySelector(".yrp-progress"),q=r.querySelector(".yrp-progress-rail"),H=r.querySelector(".yrp-progress-buffer"),_=r.querySelector(".yrp-progress-played"),B=r.querySelector(".yrp-progress-handle"),T=r.querySelector(".yrp-progress-tooltip"),A=r.querySelector(".yrp-settings"),u=r.querySelector(".yrp-menu"),k=r.querySelector(".yrp-fullscreen"),P=r.querySelector(".yrp-pip"),L=r.querySelector(".yrp-context"),rt=!1,O=0,it=null,X=!1,kt=!1;function At(t){let n=document.createElement("div");n.className="yrp-embed-captions-layer",Object.assign(n.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let i=document.createElement("div");i.className="yrp-embed-captions-text",n.appendChild(i),getComputedStyle(t).position==="static"&&(t.style.position="relative"),t.appendChild(n);let s={active:!1,sx:0,sy:0},l=null;function p(){return t.getBoundingClientRect()}function h(m){if(s.active){if(s.active=!1,l&&(clearTimeout(l),l=null),m&&m.preventDefault)try{m.preventDefault()}catch(v){}if(m&&m.stopPropagation)try{m.stopPropagation()}catch(v){}}}function d(m){let v=m;s.active=!0,s.sx=v.clientX,s.sy=v.clientY;try{n.setPointerCapture&&n.setPointerCapture(m.pointerId)}catch(N){}l&&(clearTimeout(l),l=null),m.preventDefault(),m.stopPropagation()}function x(m){if(!s.active)return;let v=m,N=v.clientX-s.sx,ut=v.clientY-s.sy,w=p(),j=n.getBoundingClientRect(),dt=j.left+j.width/2+N,ft=j.top+j.height/2+ut,vt=j.width/2,Et=j.height/2;dt=Math.min(Math.max(dt,w.left+vt),w.right-vt),ft=Math.min(Math.max(ft,w.top+Et),w.bottom-Et);let Ot=(dt-w.left)/w.width*100,Kt=(ft-w.top)/w.height*100;n.style.left=Ot+"%",n.style.top=Kt+"%",n.style.transform="translate(-50%,-50%)",s.sx=v.clientX,s.sy=v.clientY,m.preventDefault(),m.stopPropagation()}function S(){l&&clearTimeout(l),l=setTimeout(function(){h(new Event("leaveguard"))},200)}return n.addEventListener("pointerdown",d),document.addEventListener("pointermove",x),document.addEventListener("pointerup",h),document.addEventListener("pointercancel",h),document.addEventListener("mouseup",h),document.addEventListener("touchend",h),t.addEventListener("pointerleave",S),n.addEventListener("click",function(m){m.stopPropagation()}),{layer:n,box:i}}let yt=At(o),F=!0;function mt(){try{let t=e.textTracks||[];for(let n=0;n<t.length;n++){let i=t[n].kind;if(i==="subtitles"||i==="captions")return t[n]}}catch(t){}return null}function Pt(t){if(!t||!t.cues||t.cues.length===0)return"";let n=e.currentTime||0;for(let i=0;i<t.cues.length;i++){let a=t.cues[i];if(n>=a.startTime&&n<=a.endTime)return(a.text||"").replace(/\r/g,"")}return""}function $(){let t=mt();t&&(t.mode="hidden"),yt.box.textContent=F?Pt(t):""}function Mt(){try{let t=e.textTracks||[];for(let n=0;n<t.length;n++){let i=t[n].kind;if(i==="subtitles"||i==="captions")return!0}}catch(t){}return!1}function ht(){if(!b)return;let t=Mt();b.disabled=!t,b.style.visibility=t?"visible":"hidden",b.classList.toggle("no-tracks",!t),b.classList.toggle("has-tracks",t),b.classList.toggle("active",t&&F),b.classList.toggle("disabled-track",t&&!F),b.setAttribute("aria-pressed",F?"true":"false"),b.title=F?"Subtitles: on":"Subtitles: off",b.setAttribute("aria-label",F?"Subtitles enabled":"Subtitles disabled")}let W=[],G=!1,z=!1,I=null,Q=0;function gt(t){let n=String(t||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);if(!n)return 0;let i=parseInt(n[1],10),a=parseInt(n[2],10),s=parseFloat(n[3]);return i*3600+a*60+s}function Ct(t){if(!t)return"";if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;try{return new URL(y,window.location.origin).pathname.replace(/\/sprites\.vtt$/,"")+"/"+t.replace(/^\/+/,"")}catch(n){return t}}function qt(){return I||(C?(I=document.createElement("div"),I.className="yrp-sprite-pop",Object.assign(I.style,{position:"absolute",bottom:"calc(100% + 30px)",left:"0",display:"none",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),getComputedStyle(C).position==="static"&&(C.style.position="relative"),C.appendChild(I),I):null)}function bt(){!y||G||z||fetch(y,{credentials:"same-origin"}).then(t=>t.text()).then(function(t){let n=t.split(/\r?\n/);for(let i=0;i<n.length;i++){let a=n[i].trim();if(a&&a.indexOf("-->")>=0){let s=a.split("-->").map(w=>w.trim());if(s.length<2)continue;let l=gt(s[0]),p=gt(s[1]),h=(n[i+1]||"").trim(),d="",x=0,S=0,m=0,v=0,N=h.indexOf("#xywh=");if(N>0){d=h.substring(0,N);let w=h.substring(N+6).split(",");w.length===4&&(x=parseInt(w[0],10),S=parseInt(w[1],10),m=parseInt(w[2],10),v=parseInt(w[3],10))}let ut=Ct(d);W.push({start:l,end:p,spriteUrl:ut,x,y:S,w:m,h:v}),p>Q&&(Q=p),i++}}G=!0,g("embed sprites VTT loaded",{cues:W.length,durationApprox:Q})}).catch(function(t){z=!0,g("embed sprites VTT load failed",t)})}function Ft(t){if(!y||!W.length||!q)return;let n=q.getBoundingClientRect(),i=Math.max(0,Math.min(t-n.left,n.width)),a=n.width>0?i/n.width:0,s=(O||Q||0)*a,l=null;for(let x=0;x<W.length;x++){let S=W[x];if(s>=S.start&&s<S.end){l=S;break}}let p=qt();if(!p)return;if(!l||!l.spriteUrl||l.w<=0||l.h<=0){p.style.display="none";return}for(;p.firstChild;)p.removeChild(p.firstChild);let h=document.createElement("img");h.src=l.spriteUrl,Object.assign(h.style,{position:"absolute",left:-l.x+"px",top:-l.y+"px"}),p.appendChild(h),p.style.display="block";let d=Math.max(0,Math.min(n.width-l.w,i-l.w/2));p.style.left=d+"px",p.style.width=l.w+"px",p.style.height=l.h+"px"}function D(){r.classList.remove("autohide"),it&&clearTimeout(it),it=setTimeout(function(){r.classList.add("autohide")},1800)}function It(){try{let t=window.innerHeight||document.documentElement.clientHeight||r.clientHeight||0;if(t<=0)return;o.style.height=t+"px",e.style.height="100%",e.style.width="100%",e.style.objectFit="contain"}catch(t){}}function xt(){try{O=isFinite(e.duration)?e.duration:0}catch(t){O=0}Y&&(Y.textContent=tt(O)),J&&(J.textContent=tt(e.currentTime||0))}function at(){let t=O||0,n=e.currentTime||0,i=t>0?Math.max(0,Math.min(n/t,1)):0;_&&(_.style.width=(i*100).toFixed(3)+"%"),B&&(B.style.left=(i*100).toFixed(3)+"%");let a=0;if(e.buffered&&e.buffered.length>0)try{a=e.buffered.end(e.buffered.length-1)}catch(l){a=0}let s=t>0?Math.max(0,Math.min(a/t,1)):0;H&&(H.style.width=(s*100).toFixed(3)+"%")}function V(){let t=e.muted?0:e.volume,n=e.muted||t===0?"Mute":"Vol",i=r.querySelector(".yrp-vol-btn");i&&(i.textContent=n,i.classList.toggle("icon-mute",n==="Mute"),i.classList.toggle("icon-vol",n!=="Mute"))}function st(){e.muted=!e.muted,V()}function ct(){e.paused?e.play().catch(function(){}):e.pause()}function Lt(t){let n=q.getBoundingClientRect(),i=Math.max(0,Math.min(t-n.left,n.width)),a=n.width>0?i/n.width:0,s=(O||0)*a;e.currentTime=s}function Dt(t){let n=T;if(!n)return;let i=q.getBoundingClientRect(),a=Math.max(0,Math.min(t-i.left,i.width)),s=i.width>0?a/i.width:0,l=(O||0)*s;n.textContent=tt(l),n.style.left=(s*100).toFixed(3)+"%",n.hidden=!1}function ot(){u&&(u.hidden=!0,A&&A.setAttribute("aria-expanded","false")),L&&(L.hidden=!0),r.classList.remove("vol-open")}function lt(){if(!E)return;let t=!e.paused;E.classList.toggle("icon-play",!t),E.classList.toggle("icon-pause",t),E.setAttribute("aria-label",t?"Pause (Space, K)":"Play (Space, K)"),E.title=t?"Pause (Space, K)":"Play (Space, K)",E.textContent=""}(function(){let t=function(){try{let n=localStorage.getItem("yrp:volume");return n?JSON.parse(n):null}catch(n){return null}}();t&&typeof t.v=="number"&&(e.volume=Math.max(0,Math.min(t.v,1))),t&&typeof t.m=="boolean"&&(e.muted=!!t.m),M&&(M.value=String(e.volume||1)),V(),e.addEventListener("volumechange",function(){if(!(kt&&e.muted&&!X))try{localStorage.setItem("yrp:volume",JSON.stringify({v:Math.max(0,Math.min(e.volume||0,1)),m:!!e.muted}))}catch(n){}}),e.addEventListener("loadedmetadata",function n(){if(e.removeEventListener("loadedmetadata",n),X)return;let i=function(){try{let a=localStorage.getItem("yrp:volume");return a?JSON.parse(a):null}catch(a){return null}}();i&&(typeof i.v=="number"&&(e.volume=Math.max(0,Math.min(i.v,1))),typeof i.m=="boolean"&&(e.muted=!!i.m),M&&(M.value=String(e.volume||1)),V())})})(),function(){try{let t=localStorage.getItem("yrp:speed");if(t){let n=parseFloat(t);isFinite(n)&&n>0&&(e.playbackRate=n)}}catch(t){}e.addEventListener("ratechange",function(){try{localStorage.setItem("yrp:speed",String(e.playbackRate))}catch(t){}})}(),function(){let t=r.getAttribute("data-video-id")||"";if(!t)return;function n(){try{let d=localStorage.getItem("yrp:resume");return d?JSON.parse(d):{}}catch(d){return{}}}function i(d){try{localStorage.setItem("yrp:resume",JSON.stringify(d))}catch(x){}}let a=n(),s=a[t],l=Date.now();function p(d){let x=isFinite(e.duration)?e.duration:0;if(x&&d>10&&d<x-5)try{e.currentTime=d}catch(S){}}if(s&&typeof s.t=="number"&&l-(s.ts||0)<180*24*3600*1e3){let d=Math.max(0,s.t|0);isFinite(e.duration)&&e.duration>0?p(d):e.addEventListener("loadedmetadata",function x(){e.removeEventListener("loadedmetadata",x),p(d)})}let h=St(function(){let d=isFinite(e.duration)?e.duration:0,x=Math.max(0,Math.floor(e.currentTime||0)),S=n();S[t]={t:x,ts:Date.now(),d};let m=Object.keys(S);if(m.length>200){m.sort(function(v,N){return(S[v].ts||0)-(S[N].ts||0)});for(let v=0;v<m.length-200;v++)delete S[m[v]]}i(S)},3e3);e.addEventListener("timeupdate",function(){!e.paused&&!e.seeking&&h()}),e.addEventListener("ended",function(){let d=n();delete d[t],i(d)})}(),["loadedmetadata","loadeddata","canplay","canplaythrough","play","playing","pause","stalled","suspend","waiting","error","abort","emptied"].forEach(function(t){e.addEventListener(t,function(){g("event:",t,{rs:e.readyState,paused:e.paused,muted:e.muted})})}),function(){let t=r.closest(".player-host")||r,n=et(t,"data-options",null),i=!!(n&&Object.prototype.hasOwnProperty.call(n,"autoplay")&&n.autoplay);if(g("autoplay check (embed)",{WANT:i,opt:n}),!i)return;function a(p){g("tryPlaySequence",{reason:p,muted:e.muted,rs:e.readyState});let h=null;try{h=e.play()}catch(d){g("play() threw sync",d),h=null}h&&typeof h.then=="function"?h.then(function(){g("play() resolved")}).catch(function(d){if(g("play() rejected",{name:d&&d.name,msg:d&&d.message}),!e.muted){e.muted=!0,e.setAttribute("muted","");try{e.play().catch(function(x){g("retry rejected",x)})}catch(x){g("retry threw sync",x)}}}):setTimeout(function(){if(e.paused){e.muted=!0,e.setAttribute("muted","");try{e.play().catch(function(d){g("no-promise fallback rejected",d)})}catch(d){g("no-promise fallback threw",d)}}},0)}let s=!1;function l(p){s||(s=!0,a(p))}e.readyState>=1&&l("readyState>=1"),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(p){let h=function(){e.removeEventListener(p,h),l(p)};e.addEventListener(p,h)}),setTimeout(function(){e.paused&&a("watchdog")},1200)}(),K&&K.addEventListener("click",function(){ct()}),E&&E.addEventListener("click",function(){ct()}),e.addEventListener("click",function(){ct()}),e.addEventListener("play",function(){r.classList.add("playing"),lt()}),e.addEventListener("pause",function(){r.classList.remove("playing"),lt()}),U&&U.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),X=!0,st(),r.classList.add("vol-open"),D(),setTimeout(function(){r.classList.remove("vol-open")},800)}),c&&c.addEventListener("click",function(t){let n=t.target;n&&n.nodeType===3&&n.parentNode&&(n=n.parentNode),n&&n.classList&&n.classList.contains("yrp-vol-btn")&&(t.preventDefault(),t.stopPropagation(),X=!0,st(),r.classList.add("vol-open"),D(),setTimeout(function(){r.classList.remove("vol-open")},800))},!0),M&&M.addEventListener("input",function(){X=!0;let t=parseFloat(M.value||"1");isFinite(t)||(t=1),t=Math.max(0,Math.min(t,1)),e.volume=t,t>0&&(e.muted=!1),V(),r.classList.add("vol-open"),D()}),R&&R.addEventListener("wheel",function(t){t.preventDefault(),X=!0;let n=.05,i=e.muted?0:e.volume,a=Math.max(0,Math.min(i+(t.deltaY<0?n:-n),1));e.volume=a,a>0&&(e.muted=!1),M&&(M.value=String(a)),V(),r.classList.add("vol-open"),D()},{passive:!1}),C&&q&&(C.addEventListener("mousedown",function(t){rt=!0,Lt(t.clientX),D()}),window.addEventListener("mousemove",function(t){rt&&Lt(t.clientX)}),window.addEventListener("mouseup",function(){rt=!1}),C.addEventListener("mousemove",function(t){Dt(t.clientX),y&&G&&!z?Ft(t.clientX):y&&!G&&!z&&bt()}),C.addEventListener("mouseleave",function(){T&&(T.hidden=!0),I&&(I.style.display="none")})),A&&u&&(A.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),!u.hidden?(u.hidden=!0,A.setAttribute("aria-expanded","false")):(ot(),u.hidden=!1,A.setAttribute("aria-expanded","true"),r.classList.add("vol-open"),D())}),u.addEventListener("click",function(t){let n=t.target;if(n&&n.classList.contains("yrp-menu-item")){let i=parseFloat(n.getAttribute("data-speed")||"NaN");isNaN(i)||(e.playbackRate=i,u.hidden=!0,A.setAttribute("aria-expanded","false"))}}),document.addEventListener("click",function(t){!u.hidden&&!u.contains(t.target)&&t.target!==A&&(u.hidden=!0,A.setAttribute("aria-expanded","false"))}),document.addEventListener("keydown",function(t){(t.code==="Escape"||(t.key||"").toLowerCase()==="escape")&&(u.hidden||(u.hidden=!0,A.setAttribute("aria-expanded","false")))})),k&&k.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):r.requestFullscreen&&r.requestFullscreen().catch(function(){})}),P&&P.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();try{if(document.pictureInPictureEnabled&&e.requestPictureInPicture&&!e.disablePictureInPicture)if(document.pictureInPictureElement===e)document.exitPictureInPicture().catch(function(){});else{let n=e.paused,i=e.muted,a=Promise.resolve();n&&(e.muted=!0,a=e.play().catch(function(){})),a.then(function(){return e.requestPictureInPicture()}).catch(function(){}).then(function(){n&&(e.pause(),e.muted=i)})}}catch(n){}}),r.addEventListener("contextmenu",function(t){if(t.preventDefault(),ot(),!L)return;let n=r.getBoundingClientRect();L.style.left=t.clientX-n.left+"px",L.style.top=t.clientY-n.top+"px",L.hidden=!1,r.classList.add("vol-open"),D()}),L&&(L.addEventListener("click",function(t){let n=t.target&&t.target.getAttribute("data-action"),i=Math.floor(e.currentTime||0),a=r.getAttribute("data-video-id")||"";if(n==="pip")P&&P.click();else if(n==="copy-url"){let s=new URL(window.location.href);s.searchParams.delete("t"),nt(s.toString())}else if(n==="copy-url-time"){let s=new URL(window.location.href);s.searchParams.set("t",String(i)),nt(s.toString())}else if(n==="copy-embed"){let l='<iframe width="560" height="315" src="'+((window.location.origin||"")+"/embed?v="+encodeURIComponent(a||""))+'" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>';nt(l)}L.hidden=!0}),document.addEventListener("click",function(t){!L.hidden&&!L.contains(t.target)&&(L.hidden=!0)}),document.addEventListener("keydown",function(n){(n.code==="Escape"||(n.key||"").toLowerCase()==="escape")&&(L.hidden||(L.hidden=!0))}));function Nt(t){let n=t.target,i=n&&n.tagName?n.tagName.toUpperCase():"";if(n&&(n.isContentEditable||i==="INPUT"||i==="TEXTAREA")||t.ctrlKey||t.metaKey||t.altKey)return;let a=t.code,s=(t.key||"").toLowerCase();if(a==="Space"||a==="Enter"||a==="NumpadEnter"||a==="MediaPlayPause"||a==="KeyK"||s==="k"){t.preventDefault(),e.paused?e.play().catch(function(){}):e.pause();return}if(a==="ArrowLeft"||a==="KeyJ"||s==="j"){t.preventDefault(),e.currentTime=Math.max(0,(e.currentTime||0)-5);return}if(a==="ArrowRight"||a==="KeyL"||s==="l"){t.preventDefault();let l=isFinite(e.duration)?e.duration:1e9;e.currentTime=Math.min((e.currentTime||0)+5,l);return}if(a==="KeyM"||s==="m"){t.preventDefault(),st();return}if(a==="KeyF"||s==="f"){t.preventDefault(),k&&k.click();return}if(a==="KeyI"||s==="i"){t.preventDefault(),P&&P.click();return}if(a==="Escape"||s==="escape"){ot();return}}document.addEventListener("keydown",Nt),["mouseenter","mousemove","pointermove","touchstart"].forEach(function(t){(c||r).addEventListener(t,function(){try{r.focus()}catch(n){}D()},{passive:!0})}),r.addEventListener("mouseleave",function(){setTimeout(function(){r.classList.add("autohide")},600)});function Z(){It()}window.addEventListener("resize",Z),setTimeout(Z,0),setTimeout(Z,100);function Rt(){try{let t=mt();if(!t)return;t.addEventListener("cuechange",$),t.addEventListener("load",$)}catch(t){}}e.addEventListener("loadedmetadata",function(){xt(),at(),Z(),bt(),lt();try{if(e.textTracks)for(let t=0;t<e.textTracks.length;t++){let n=e.textTracks[t];(n.kind==="subtitles"||n.kind==="captions")&&(n.mode="hidden")}}catch(t){}$(),ht(),Rt()}),e.addEventListener("timeupdate",function(){xt(),at(),$()}),e.addEventListener("progress",function(){at()}),b&&b.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),F=!F,yt.layer.style.display=F?"":"none";try{let n=e.textTracks;if(n)for(let i=0;i<n.length;i++){let a=n[i];(a.kind==="subtitles"||a.kind==="captions")&&(a.mode="hidden")}}catch(n){}ht(),$(),D()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",pt):pt();})();
