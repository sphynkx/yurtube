(()=>{function dt(a){(!isFinite(a)||a<0)&&(a=0),a=Math.floor(a);let p=Math.floor(a/3600),n=Math.floor(a%3600/60),o=a%60,y=g=>(g<10?"0":"")+g;return p>0?`${p}:${y(n)}:${y(o)}`:`${n}:${y(o)}`}function Yt(a,p){let n=0,o=!1,y=null;return function(...g){y=g;let b=Date.now();!n||b-n>=p?(n=b,a.apply(null,y)):o||(o=!0,setTimeout(()=>{o=!1,a.apply(null,y)},p-(b-n)))}}function pt(a,p,n){let o=a.getAttribute(p);if(!o)return n;try{return JSON.parse(o)}catch(y){return n}}function ft(a){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(a).catch(function(){});else{let p=document.createElement("textarea");p.value=a,p.style.position="fixed",p.style.left="-9999px",document.body.appendChild(p),p.select();try{document.execCommand("copy")}catch(n){}document.body.removeChild(p)}}var Jt="/static/img/fallback_video_notfound.gif";function $t(a,p,n){let o=!1,y=null;function g(S){if(!o){o=!0,n&&n("fallback: applying",S);try{p?p.setAttribute("src",Jt):a.src=Jt,a.load()}catch(j){}}}function b(){y&&(clearTimeout(y),y=null)}a.addEventListener("loadstart",function(){b(),y=setTimeout(function(){!o&&a.readyState<1&&g("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(S){a.addEventListener(S,b)}),a.addEventListener("error",function(){o||g("error-event")}),setTimeout(function(){let S=p?p.getAttribute("src")||"":a.currentSrc||a.src||"";!o&&!S&&g("empty-src")},0)}var be={};function ye(){try{let p=new URL(be.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(p)return p[1]}catch(a){}try{let p=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(p)return p[1]}catch(a){}try{let a=document.querySelector(".player-host[data-player]");if(a){let p=String(a.getAttribute("data-player")||"").trim();if(p)return p}}catch(a){}return"yurtube"}function Mt(){let a=ye(),p="/static/players/"+a,n=document.querySelectorAll('.player-host[data-player="'+a+'"]');n.length!==0&&fetch(p+"/templates/player.html",{credentials:"same-origin"}).then(o=>o.text()).then(function(o){for(let y=0;y<n.length;y++)he(n[y],o,p)}).catch(function(){})}function he(a,p,n){a.innerHTML=p;let o=a.querySelector(".yrp-container"),y=o.querySelector(".yrp-video-wrap"),g=o.querySelector(".yrp-video"),b=o.querySelector(".yrp-controls"),S=g.querySelector("source"),j=o.querySelector(".yrp-autoplay");j&&(j.style.display="none");let L=pt(a,"data-options",{}),Y=/\byrpdebug=1\b/i.test(location.search)||!!(L&&L.debug);function O(){if(Y)try{}catch(s){}}o.classList.add("yrp-embed"),o.setAttribute("tabindex","0");let P=a.getAttribute("data-video-src")||"",J=a.getAttribute("data-poster-url")||"",$=a.getAttribute("data-video-id")||"",N=pt(a,"data-subtitles",[]),D=a.getAttribute("data-sprites-vtt")||"",W=a.getAttribute("data-caption-vtt")||"",z=a.getAttribute("data-caption-lang")||"";S&&S.setAttribute("src",P),J&&g.setAttribute("poster",J),L&&L.autoplay&&g.setAttribute("autoplay",""),L&&L.muted&&g.setAttribute("muted",""),L&&L.loop&&g.setAttribute("loop",""),$&&o.setAttribute("data-video-id",$),D&&o.setAttribute("data-sprites-vtt",D),g.setAttribute("playsinline",""),Array.isArray(N)&&N.forEach(function(s){if(!s||!s.src)return;let q=document.createElement("track");q.setAttribute("kind","subtitles"),s.srclang&&q.setAttribute("srclang",String(s.srclang)),s.label&&q.setAttribute("label",String(s.label)),q.setAttribute("src",String(s.src)),s.default&&q.setAttribute("default",""),g.appendChild(q)});let et=o.querySelector(".yrp-subtitles");if(W)try{let s=document.createElement("track");s.setAttribute("kind","subtitles"),s.setAttribute("src",W),s.setAttribute("srclang",z||"auto"),s.setAttribute("label",z||"Original"),s.setAttribute("default",""),g.appendChild(s)}catch(s){O("caption track append failed",s)}try{g.load(),O("video.load() called",{src:P})}catch(s){O("video.load() error",s)}$t(g,S,O);let E=n+"/img/buttons";o.style.setProperty("--icon-play",'url("'+E+'/play.svg")'),o.style.setProperty("--icon-pause",'url("'+E+'/pause.svg")'),o.style.setProperty("--icon-prev",'url("'+E+'/prev.svg")'),o.style.setProperty("--icon-next",'url("'+E+'/next.svg")'),o.style.setProperty("--icon-vol",'url("'+E+'/volume.svg")'),o.style.setProperty("--icon-mute",'url("'+E+'/mute.svg")'),o.style.setProperty("--icon-cc",'url("'+E+'/cc.svg")'),o.style.setProperty("--icon-mini",'url("'+E+'/mini.svg")'),o.style.setProperty("--icon-settings",'url("'+E+'/settings.svg")'),o.style.setProperty("--icon-theater",'url("'+E+'/theater.svg")'),o.style.setProperty("--icon-full",'url("'+E+'/full.svg")'),o.classList.add("yrp-icons-ready");let v=o.querySelector(".yrp-center-logo");v&&v.setAttribute("src",n+"/img/logo.png"),ge(o,y,g,b,D,Y,et)}function ge(a,p,n,o,y,g,b){function S(){if(g)try{}catch(t){}}let j=a.querySelector(".yrp-center-play"),L=a.querySelector(".yrp-play"),Y=a.querySelector(".yrp-vol-btn"),O=a.querySelector(".yrp-volume"),P=a.querySelector(".yrp-vol-slider"),J=a.querySelector(".yrp-time-current"),$=a.querySelector(".yrp-time-total"),N=a.querySelector(".yrp-progress"),D=a.querySelector(".yrp-progress-rail"),W=a.querySelector(".yrp-progress-buffer"),z=a.querySelector(".yrp-progress-played"),et=a.querySelector(".yrp-progress-handle"),E=a.querySelector(".yrp-progress-tooltip"),v=a.querySelector(".yrp-settings"),s=a.querySelector(".yrp-menu"),q=a.querySelector(".yrp-fullscreen"),U=a.querySelector(".yrp-pip"),C=a.querySelector(".yrp-context"),mt=!1,_=0,yt=null,V=!1,Wt=!1,x="main",ht="",G=0,A=!0,B=0,Pt=function(){try{return String(localStorage.getItem("subtitle_lang")||"")}catch(t){return""}}(),gt=function(){try{return parseFloat(localStorage.getItem("playback_speed")||"")}catch(t){return NaN}}(),nt=null;function zt(){if(nt)return nt;try{typeof Intl!="undefined"&&Intl.DisplayNames&&(nt=new Intl.DisplayNames(["en"],{type:"language"}))}catch(t){}return nt}function Gt(t,e){let r=String(t||"").trim();if(!r)return String(e||"");if(r.toLowerCase()==="auto")return"Auto";let i=r.split("-",1)[0].toLowerCase();try{let c=zt();if(c&&typeof c.of=="function"){let l=c.of(i);if(l)return l.charAt(0).toUpperCase()+l.slice(1)}}catch(c){}return String(e||r)}function Qt(t){let e=document.createElement("div");e.className="yrp-embed-captions-layer",Object.assign(e.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let r=document.createElement("div");r.className="yrp-embed-captions-text",e.appendChild(r),getComputedStyle(t).position==="static"&&(t.style.position="relative"),t.appendChild(e);let c={active:!1,sx:0,sy:0},l=null;function u(){return t.getBoundingClientRect()}function f(m){if(c.active){if(c.active=!1,l&&(clearTimeout(l),l=null),m&&m.preventDefault)try{m.preventDefault()}catch(M){}if(m&&m.stopPropagation)try{m.stopPropagation()}catch(M){}}}function d(m){c.active=!0,c.sx=m.clientX,c.sy=m.clientY;try{e.setPointerCapture&&e.setPointerCapture(m.pointerId)}catch(M){}l&&(clearTimeout(l),l=null),m.preventDefault(),m.stopPropagation()}function h(m){if(!c.active)return;let M=m.clientX-c.sx,X=m.clientY-c.sy,I=u(),k=e.getBoundingClientRect(),kt=k.left+k.width/2+M,Tt=k.top+k.height/2+X,Ut=k.width/2,Vt=k.height/2;kt=Math.min(Math.max(kt,I.left+Ut),I.right-Ut),Tt=Math.min(Math.max(Tt,I.top+Vt),I.bottom-Vt);let fe=(kt-I.left)/I.width*100,me=(Tt-I.top)/I.height*100;e.style.left=fe+"%",e.style.top=me+"%",e.style.transform="translate(-50%,-50%)",c.sx=m.clientX,c.sy=m.clientY,m.preventDefault(),m.stopPropagation()}function w(){l&&clearTimeout(l),l=setTimeout(function(){f(new Event("leaveguard"))},200)}return e.addEventListener("pointerdown",d),document.addEventListener("pointermove",h),document.addEventListener("pointerup",f),document.addEventListener("pointercancel",f),document.addEventListener("mouseup",f),document.addEventListener("touchend",f),t.addEventListener("pointerleave",w),e.addEventListener("click",function(m){m.stopPropagation()}),{layer:e,box:r}}let Nt=Qt(p);function rt(){try{return n.textTracks?Array.prototype.filter.call(n.textTracks,function(t){return t.kind==="subtitles"||t.kind==="captions"}):[]}catch(t){return[]}}function at(){return rt().length>0}function bt(){let t=rt();return t.length===0?null:((B<0||B>=t.length)&&(B=0),t[B])}function it(){rt().forEach(function(e,r){e.mode=r===B&&A?"hidden":"disabled"})}function Zt(t){if(!t||!t.cues||t.cues.length===0)return"";let e=n.currentTime||0;for(let r=0;r<t.cues.length;r++){let i=t.cues[r];if(e>=i.startTime&&e<=i.endTime)return(i.text||"").replace(/\r/g,"")}return""}function H(){let t=bt();it(),Nt.box.textContent=A?Zt(t):"",Nt.layer.style.display=A?"":"none"}function st(){if(!b)return;let t=at();b.disabled=!t,b.style.visibility=t?"visible":"hidden",b.classList.toggle("no-tracks",!t),b.classList.toggle("has-tracks",t),b.classList.toggle("active",t&&A),b.classList.toggle("disabled-track",t&&!A),b.setAttribute("aria-pressed",A?"true":"false"),b.title=A?"Subtitles: on":"Subtitles: off",b.setAttribute("aria-label",A?"Subtitles enabled":"Subtitles disabled")}function qt(){return rt().map(function(e,r){let i=String(e.language||e.srclang||"").toLowerCase(),c=String(e.label||i||"Lang "+(r+1)),l=Gt(i,c);return{index:r,lang:i,label:l}})}function It(t){let e=String(t||"").toLowerCase(),r=qt();for(let i=0;i<r.length;i++)if(r[i].lang===e||r[i].label.toLowerCase()===e)return r[i].index;return-1}function te(t){let e=It(t);if(e>=0){B=e,A=!0;try{localStorage.setItem("subtitle_lang",String(t||""))}catch(r){}it(),H(),st()}}function Dt(t){A=!!t,it(),H(),st()}let Q=[],ct=!1,ot=!1,F=null,lt=0;function Ft(t){let e=String(t||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);if(!e)return 0;let r=parseInt(e[1],10),i=parseInt(e[2],10),c=parseFloat(e[3]);return r*3600+i*60+c}function ee(t){if(!t)return"";if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;try{return new URL(y,window.location.origin).pathname.replace(/\/sprites\.vtt$/,"")+"/"+t.replace(/^\/+/,"")}catch(e){return t}}function ne(){return F||(N?(F=document.createElement("div"),F.className="yrp-sprite-pop",Object.assign(F.style,{position:"absolute",bottom:"calc(100% + 30px)",left:"0",display:"none",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),getComputedStyle(N).position==="static"&&(N.style.position="relative"),N.appendChild(F),F):null)}function Rt(){!y||ct||ot||fetch(y,{credentials:"same-origin"}).then(t=>t.text()).then(function(t){let e=t.split(/\r?\n/);for(let r=0;r<e.length;r++){let i=e[r].trim();if(i&&i.indexOf("-->")>=0){let c=i.split("-->").map(k=>k.trim());if(c.length<2)continue;let l=Ft(c[0]),u=Ft(c[1]),f=(e[r+1]||"").trim(),d="",h=0,w=0,m=0,M=0,X=f.indexOf("#xywh=");if(X>0){d=f.substring(0,X);let k=f.substring(X+6).split(",");k.length===4&&(h=parseInt(k[0],10),w=parseInt(k[1],10),m=parseInt(k[2],10),M=parseInt(k[3],10))}let I=ee(d);Q.push({start:l,end:u,spriteUrl:I,x:h,y:w,w:m,h:M}),u>lt&&(lt=u),r++}}ct=!0,S("embed sprites VTT loaded",{cues:Q.length,durationApprox:lt})}).catch(function(t){ot=!0,S("embed sprites VTT load failed",t)})}function re(t){if(!y||!Q.length||!D)return;let e=D.getBoundingClientRect(),r=Math.max(0,Math.min(t-e.left,e.width)),i=e.width>0?r/e.width:0,c=(_||lt||0)*i,l=null;for(let h=0;h<Q.length;h++){let w=Q[h];if(c>=w.start&&c<w.end){l=w;break}}let u=ne();if(!u)return;if(!l||!l.spriteUrl||l.w<=0||l.h<=0){u.style.display="none";return}for(;u.firstChild;)u.removeChild(u.firstChild);let f=document.createElement("img");f.src=l.spriteUrl,Object.assign(f.style,{position:"absolute",left:-l.x+"px",top:-l.y+"px"}),u.appendChild(f),u.style.display="block";let d=Math.max(0,Math.min(e.width-l.w,r-l.w/2));u.style.left=d+"px",u.style.width=l.w+"px",u.style.height=l.h+"px"}function T(){a.classList.remove("autohide"),yt&&clearTimeout(yt),yt=setTimeout(function(){a.classList.add("autohide")},1800)}function ae(){try{let t=window.innerHeight||document.documentElement.clientHeight||a.clientHeight||0;if(t<=0)return;p.style.height=t+"px",n.style.height="100%",n.style.width="100%",n.style.objectFit="contain"}catch(t){}}function Ot(){try{_=isFinite(n.duration)?n.duration:0}catch(t){_=0}$&&($.textContent=dt(_)),J&&(J.textContent=dt(n.currentTime||0))}function St(){let t=_||0,e=n.currentTime||0,r=t>0?Math.max(0,Math.min(e/t,1)):0;z&&(z.style.width=(r*100).toFixed(3)+"%"),et&&(et.style.left=(r*100).toFixed(3)+"%");let i=0;if(n.buffered&&n.buffered.length>0)try{i=n.buffered.end(n.buffered.length-1)}catch(l){i=0}let c=t>0?Math.max(0,Math.min(i/t,1)):0;W&&(W.style.width=(c*100).toFixed(3)+"%")}function Z(){let t=n.muted?0:n.volume,e=n.muted||t===0?"Mute":"Vol",r=a.querySelector(".yrp-vol-btn");r&&(r.textContent=e,r.classList.toggle("icon-mute",e==="Mute"),r.classList.toggle("icon-vol",e!=="Mute"))}function xt(){n.muted=!n.muted,Z()}function Lt(){n.paused?n.play().catch(function(){}):n.pause()}function _t(t){let e=D.getBoundingClientRect(),r=Math.max(0,Math.min(t-e.left,e.width)),i=e.width>0?r/e.width:0,c=(_||0)*i;n.currentTime=c}function ie(t){let e=E;if(!e)return;let r=D.getBoundingClientRect(),i=Math.max(0,Math.min(t-r.left,r.width)),c=r.width>0?i/r.width:0,l=(_||0)*c;e.textContent=dt(l),e.style.left=(c*100).toFixed(3)+"%",e.hidden=!1}function Bt(){s&&(ht||(ht=s.innerHTML||""))}function tt(){if(s&&!(G>0))try{let t=s.getBoundingClientRect();G=Math.ceil(t.height||0),G>0&&(s.style.minHeight=G+"px")}catch(t){}}function R(){s&&(G=0,s.style.minHeight="")}function K(t){try{t.style.background="transparent",t.style.backgroundColor="transparent",t.style.border="none",t.style.boxShadow="none",t.style.color="inherit",t.style.textAlign="left",t.style.width="100%",t.style.display="block"}catch(e){}}function vt(t){K(t);try{t.style.background="rgba(255,255,255,0.12)",t.style.backgroundColor="rgba(255,255,255,0.12)",t.style.borderRadius="4px",t.style.fontWeight="700",t.style.marginBottom="6px",t.style.paddingLeft="8px",t.style.paddingRight="8px"}catch(e){}}function se(t){try{t.classList.add("has-submenu")}catch(e){}}function ce(){if(s)try{let t=s.querySelector('.yrp-menu-section[data-section="quality"]');if(!t)return;let e=t.querySelector(".yrp-menu-title");if(e&&e.parentNode&&e.parentNode.removeChild(e),t.querySelector(".yrp-menu-item.quality-future"))return;let r=document.createElement("button");r.type="button",r.className="yrp-menu-item quality-future",r.textContent="Quality (future)",r.disabled=!0,K(r),r.style.opacity="0.75",t.appendChild(r)}catch(t){}}function oe(){if(s)try{let t=s.querySelector('.yrp-menu-section[data-section="subtitles"]');t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}}function wt(t,e,r={}){if(!s)return null;let i=s.querySelector(".yrp-menu-section")||null,c=document.createElement("button");return c.type="button",c.className="yrp-menu-item",c.setAttribute("data-action",e),c.textContent=t,K(c),r.disabled===!0&&(c.disabled=!0,c.style.opacity="0.6"),r.hasSubmenu===!0&&se(c),i&&i.parentNode===s?s.insertBefore(c,i):s.appendChild(c),c}function Et(){if(!s)return;Bt(),s.innerHTML=ht,x="main";try{let e=s.querySelector('.yrp-menu-section[data-section="speed"]');e&&e.parentNode&&e.parentNode.removeChild(e)}catch(e){}oe(),ce(),s.querySelector('.yrp-menu-item[data-action="open-speed"]')||wt("Speed","open-speed",{hasSubmenu:!0}),s.querySelector('.yrp-menu-item[data-action="open-langs"]')||wt("Languages","open-langs",{hasSubmenu:!0});let t=at();if(!s.querySelector('.yrp-menu-item[data-action="open-subs"]')){let e=wt("Subtitles","open-subs",{hasSubmenu:!0,disabled:!t});e&&!t&&(e.title="No subtitles tracks")}}function le(){let t=document.createElement("div");return t.className="yrp-menu-scroll",Object.assign(t.style,{overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100% - 40px)",paddingRight:"2px"}),t}function Ht(){if(!s)return;for(x="langs";s.firstChild;)s.removeChild(s.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",vt(t),s.appendChild(t);let e=le();s.appendChild(e);let r=qt(),i=bt(),c=i&&(i.language||i.srclang)?String(i.language||i.srclang).toLowerCase():"",l=r.slice().sort(function(u,f){let d=(u.lang||"").toLowerCase(),h=(f.lang||"").toLowerCase();return d==="auto"&&h!=="auto"?-1:h==="auto"&&d!=="auto"?1:(u.label||"").localeCompare(f.label||"")});if(l.forEach(function(u){let f=document.createElement("button");f.type="button",f.className="yrp-menu-item",f.setAttribute("data-action","select-lang"),f.setAttribute("data-lang",u.lang||"");let d=u.lang?` (${u.lang})`:"";f.textContent=u.label+d+(u.lang===c?" \u2713":""),K(f),e.appendChild(f)}),!l.length){let u=document.createElement("div");u.className="yrp-menu-title",u.style.marginTop="6px",u.style.fontSize="12px",u.style.opacity="0.8",u.textContent="No subtitles tracks",e.appendChild(u)}}function ue(){return[.5,.75,1,1.25,1.5,2]}function Kt(t){let e=parseFloat(String(t));if(!(!isFinite(e)||e<=0)){n.playbackRate=e;try{localStorage.setItem("playback_speed",String(e))}catch(r){}}}function Xt(){if(!s)return;for(x="speed";s.firstChild;)s.removeChild(s.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",vt(t),s.appendChild(t);let e=isFinite(n.playbackRate)?n.playbackRate:1;ue().forEach(function(r){let i=document.createElement("button");i.type="button",i.className="yrp-menu-item",i.setAttribute("data-action","set-speed"),i.setAttribute("data-speed",String(r)),i.textContent=(r===1?"1.0x":String(r)+"x")+(Math.abs(r-e)<.001?" \u2713":""),K(i),s.appendChild(i)})}function jt(){if(!s)return;for(x="subs";s.firstChild;)s.removeChild(s.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",vt(t),s.appendChild(t);let e=document.createElement("button");e.type="button",e.className="yrp-menu-item",e.setAttribute("data-action","subs-on"),e.textContent="On"+(A?" \u2713":""),K(e),s.appendChild(e);let r=document.createElement("button");r.type="button",r.className="yrp-menu-item",r.setAttribute("data-action","subs-off"),r.textContent="Off"+(A?"":" \u2713"),K(r),s.appendChild(r)}function Ct(){s&&(s.hidden=!0,v&&v.setAttribute("aria-expanded","false")),C&&(C.hidden=!0),a.classList.remove("vol-open"),x="main",R()}function At(){if(!L)return;let t=!n.paused;L.classList.toggle("icon-play",!t),L.classList.toggle("icon-pause",t),L.setAttribute("aria-label",t?"Pause (Space, K)":"Play (Space, K)"),L.title=t?"Pause (Space, K)":"Play (Space, K)",L.textContent=""}(function(){let t=function(){try{let e=localStorage.getItem("yrp:volume");return e?JSON.parse(e):null}catch(e){return null}}();t&&typeof t.v=="number"&&(n.volume=Math.max(0,Math.min(t.v,1))),t&&typeof t.m=="boolean"&&(n.muted=!!t.m),P&&(P.value=String(n.volume||1)),Z(),n.addEventListener("volumechange",function(){if(!(Wt&&n.muted&&!V))try{localStorage.setItem("yrp:volume",JSON.stringify({v:Math.max(0,Math.min(n.volume||0,1)),m:!!n.muted}))}catch(e){}}),n.addEventListener("loadedmetadata",function e(){if(n.removeEventListener("loadedmetadata",e),V)return;let r=function(){try{let i=localStorage.getItem("yrp:volume");return i?JSON.parse(i):null}catch(i){return null}}();r&&(typeof r.v=="number"&&(n.volume=Math.max(0,Math.min(r.v,1))),typeof r.m=="boolean"&&(n.muted=!!r.m),P&&(P.value=String(n.volume||1)),Z())})})(),function(){try{let t=localStorage.getItem("yrp:speed");if(t){let e=parseFloat(t);isFinite(e)&&e>0&&(n.playbackRate=e)}}catch(t){}isFinite(gt)&&gt>0&&Kt(gt),n.addEventListener("ratechange",function(){try{localStorage.setItem("yrp:speed",String(n.playbackRate))}catch(t){}try{localStorage.setItem("playback_speed",String(n.playbackRate))}catch(t){}})}(),function(){let t=a.getAttribute("data-video-id")||"";if(!t)return;function e(){try{let d=localStorage.getItem("yrp:resume");return d?JSON.parse(d):{}}catch(d){return{}}}function r(d){try{localStorage.setItem("yrp:resume",JSON.stringify(d))}catch(h){}}let i=e(),c=i[t],l=Date.now();function u(d){let h=isFinite(n.duration)?n.duration:0;if(h&&d>10&&d<h-5)try{n.currentTime=d}catch(w){}}if(c&&typeof c.t=="number"&&l-(c.ts||0)<180*24*3600*1e3){let d=Math.max(0,c.t|0);isFinite(n.duration)&&n.duration>0?u(d):n.addEventListener("loadedmetadata",function h(){n.removeEventListener("loadedmetadata",h),u(d)})}let f=Yt(function(){let d=isFinite(n.duration)?n.duration:0,h=Math.max(0,Math.floor(n.currentTime||0)),w=e();w[t]={t:h,ts:Date.now(),d};let m=Object.keys(w);if(m.length>200){m.sort(function(M,X){return(w[M].ts||0)-(w[X].ts||0)});for(let M=0;M<m.length-200;M++)delete w[m[M]]}r(w)},3e3);n.addEventListener("timeupdate",function(){!n.paused&&!n.seeking&&f()}),n.addEventListener("ended",function(){let d=e();delete d[t],r(d)})}(),function(){let t=a.closest(".player-host")||a,e=pt(t,"data-options",null),r=!!(e&&Object.prototype.hasOwnProperty.call(e,"autoplay")&&e.autoplay);if(S("autoplay check (embed)",{WANT:r,opt:e}),!r)return;function i(u){S("tryPlaySequence",{reason:u,muted:n.muted,rs:n.readyState});let f=null;try{f=n.play()}catch(d){S("play() threw sync",d),f=null}f&&typeof f.then=="function"?f.then(function(){S("play() resolved")}).catch(function(d){if(S("play() rejected",{name:d&&d.name,msg:d&&d.message}),!n.muted){n.muted=!0,n.setAttribute("muted","");try{n.play().catch(function(h){S("retry rejected",h)})}catch(h){S("retry threw sync",h)}}}):setTimeout(function(){if(n.paused){n.muted=!0,n.setAttribute("muted","");try{n.play().catch(function(d){S("no-promise fallback rejected",d)})}catch(d){S("no-promise fallback threw",d)}}},0)}let c=!1;function l(u){c||(c=!0,i(u))}n.readyState>=1&&l("readyState>=1"),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(u){let f=function(){n.removeEventListener(u,f),l(u)};n.addEventListener(u,f)}),setTimeout(function(){n.paused&&i("watchdog")},1200)}(),j&&j.addEventListener("click",function(){Lt()}),L&&L.addEventListener("click",function(){Lt()}),n.addEventListener("click",function(){Lt()}),n.addEventListener("play",function(){a.classList.add("playing"),At()}),n.addEventListener("pause",function(){a.classList.remove("playing"),At()}),Y&&Y.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),V=!0,xt(),a.classList.add("vol-open"),T(),setTimeout(function(){a.classList.remove("vol-open")},800)}),o&&o.addEventListener("click",function(t){let e=t.target;e&&e.nodeType===3&&e.parentNode&&(e=e.parentNode),e&&e.classList&&e.classList.contains("yrp-vol-btn")&&(t.preventDefault(),t.stopPropagation(),V=!0,xt(),a.classList.add("vol-open"),T(),setTimeout(function(){a.classList.remove("vol-open")},800))},!0),P&&P.addEventListener("input",function(){V=!0;let t=parseFloat(P.value||"1");isFinite(t)||(t=1),t=Math.max(0,Math.min(t,1)),n.volume=t,t>0&&(n.muted=!1),Z(),a.classList.add("vol-open"),T()}),O&&O.addEventListener("wheel",function(t){t.preventDefault(),V=!0;let e=.05,r=n.muted?0:n.volume,i=Math.max(0,Math.min(r+(t.deltaY<0?e:-e),1));n.volume=i,i>0&&(n.muted=!1),P&&(P.value=String(i)),Z(),a.classList.add("vol-open"),T()},{passive:!1}),N&&D&&(N.addEventListener("mousedown",function(t){mt=!0,_t(t.clientX),T()}),window.addEventListener("mousemove",function(t){mt&&_t(t.clientX)}),window.addEventListener("mouseup",function(){mt=!1}),N.addEventListener("mousemove",function(t){ie(t.clientX),y&&ct&&!ot?re(t.clientX):y&&!ct&&!ot&&Rt()}),N.addEventListener("mouseleave",function(){E&&(E.hidden=!0),F&&(F.style.display="none")})),v&&s&&(Bt(),v.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),!s.hidden?(s.hidden=!0,v.setAttribute("aria-expanded","false"),x="main",R()):(Ct(),Et(),s.hidden=!1,v.setAttribute("aria-expanded","true"),a.classList.add("vol-open"),T(),tt())}),s.addEventListener("click",function(t){let e=t.target&&t.target.closest?t.target.closest(".yrp-menu-item"):null;if(!e||!s.contains(e))return;let r=e.getAttribute("data-action")||"",i=e.getAttribute("data-lang")||"";if(x==="main"){if(r==="open-speed"){t.preventDefault(),t.stopPropagation(),Xt(),tt(),a.classList.add("vol-open"),T();return}if(r==="open-langs"){t.preventDefault(),t.stopPropagation(),Ht(),tt(),a.classList.add("vol-open"),T();return}if(r==="open-subs"){if(t.preventDefault(),t.stopPropagation(),!at())return;jt(),tt(),a.classList.add("vol-open"),T();return}return}if(r==="back"){t.preventDefault(),t.stopPropagation(),Et(),tt(),a.classList.add("vol-open"),T();return}if(x==="speed"&&r==="set-speed"){let c=parseFloat(e.getAttribute("data-speed")||"NaN");if(!isNaN(c)){t.preventDefault(),t.stopPropagation(),Kt(c),s.hidden=!0,v.setAttribute("aria-expanded","false"),x="main",R();return}}if(x==="langs"&&r==="select-lang"&&i){t.preventDefault(),t.stopPropagation(),te(i),s.hidden=!0,v.setAttribute("aria-expanded","false"),x="main",R();return}if(x==="subs"){if(r==="subs-on"){t.preventDefault(),t.stopPropagation(),Dt(!0),s.hidden=!0,v.setAttribute("aria-expanded","false"),x="main",R();return}if(r==="subs-off"){t.preventDefault(),t.stopPropagation(),Dt(!1),s.hidden=!0,v.setAttribute("aria-expanded","false"),x="main",R();return}}}),document.addEventListener("click",function(t){!s.hidden&&!s.contains(t.target)&&t.target!==v&&(s.hidden=!0,v.setAttribute("aria-expanded","false"),x="main",R())}),document.addEventListener("keydown",function(t){(t.code==="Escape"||(t.key||"").toLowerCase()==="escape")&&(s.hidden||(s.hidden=!0,v.setAttribute("aria-expanded","false"),x="main",R()))})),q&&q.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):a.requestFullscreen&&a.requestFullscreen().catch(function(){})}),U&&U.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();try{if(document.pictureInPictureEnabled&&n.requestPictureInPicture&&!n.disablePictureInPicture)if(document.pictureInPictureElement===n)document.exitPictureInPicture().catch(function(){});else{let e=n.paused,r=n.muted,i=Promise.resolve();e&&(n.muted=!0,i=n.play().catch(function(){})),i.then(function(){return n.requestPictureInPicture()}).catch(function(){}).then(function(){e&&(n.pause(),n.muted=r)})}}catch(e){}}),a.addEventListener("contextmenu",function(t){if(t.preventDefault(),Ct(),!C)return;let e=a.getBoundingClientRect();C.style.left=t.clientX-e.left+"px",C.style.top=t.clientY-e.top+"px",C.hidden=!1,a.classList.add("vol-open"),T()}),C&&(C.addEventListener("click",function(t){let e=t.target&&t.target.getAttribute("data-action"),r=Math.floor(n.currentTime||0),i=a.getAttribute("data-video-id")||"";if(e==="pip")U&&U.click();else if(e==="copy-url"){let c=new URL(window.location.href);c.searchParams.delete("t"),ft(c.toString())}else if(e==="copy-url-time"){let c=new URL(window.location.href);c.searchParams.set("t",String(r)),ft(c.toString())}else if(e==="copy-embed"){let l='<iframe width="560" height="315" src="'+((window.location.origin||"")+"/embed?v="+encodeURIComponent(i||""))+'" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>';ft(l)}C.hidden=!0}),document.addEventListener("click",function(t){!C.hidden&&!C.contains(t.target)&&(C.hidden=!0)}),document.addEventListener("keydown",function(e){(e.code==="Escape"||(e.key||"").toLowerCase()==="escape")&&(C.hidden||(C.hidden=!0))}));function de(t){let e=t.target,r=e&&e.tagName?e.tagName.toUpperCase():"";if(e&&(e.isContentEditable||r==="INPUT"||r==="TEXTAREA")||t.ctrlKey||t.metaKey||t.altKey)return;let i=t.code,c=(t.key||"").toLowerCase();if(i==="Space"||i==="Enter"||i==="NumpadEnter"||i==="MediaPlayPause"||i==="KeyK"||c==="k"){t.preventDefault(),n.paused?n.play().catch(function(){}):n.pause();return}if(i==="ArrowLeft"||i==="KeyJ"||c==="j"){t.preventDefault(),n.currentTime=Math.max(0,(n.currentTime||0)-5);return}if(i==="ArrowRight"||i==="KeyL"||c==="l"){t.preventDefault();let l=isFinite(n.duration)?n.duration:1e9;n.currentTime=Math.min((n.currentTime||0)+5,l);return}if(i==="KeyM"||c==="m"){t.preventDefault(),xt();return}if(i==="KeyF"||c==="f"){t.preventDefault(),q&&q.click();return}if(i==="KeyI"||c==="i"){t.preventDefault(),U&&U.click();return}if(i==="Escape"||c==="escape"){Ct();return}}document.addEventListener("keydown",de),["mouseenter","mousemove","pointermove","touchstart"].forEach(function(t){(o||a).addEventListener(t,function(){try{a.focus()}catch(e){}T()},{passive:!0})}),a.addEventListener("mouseleave",function(){setTimeout(function(){a.classList.add("autohide")},600)});function ut(){ae()}window.addEventListener("resize",ut),setTimeout(ut,0),setTimeout(ut,100);function pe(){try{let t=bt();if(!t)return;t.addEventListener("cuechange",H),t.addEventListener("load",H)}catch(t){}}n.addEventListener("loadedmetadata",function(){if(Pt){let t=It(Pt);t>=0&&(B=t)}it(),H(),st(),pe(),Ot(),St(),ut(),Rt(),At(),s&&!s.hidden&&(x==="main"?Et():x==="langs"?Ht():x==="speed"?Xt():x==="subs"&&jt())}),n.addEventListener("timeupdate",function(){Ot(),St(),H()}),n.addEventListener("progress",function(){St()}),b&&b.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),at()&&(A=!A,H(),st(),T())})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Mt):Mt();})();
