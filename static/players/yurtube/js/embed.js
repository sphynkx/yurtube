(()=>{function dt(n){(!isFinite(n)||n<0)&&(n=0),n=Math.floor(n);let i=Math.floor(n/3600),e=Math.floor(n%3600/60),a=n%60,o=l=>(l<10?"0":"")+l;return i>0?`${i}:${o(e)}:${o(a)}`:`${e}:${o(a)}`}function te(n,i){let e=0,a=!1,o=null;return function(...l){o=l;let y=Date.now();!e||y-e>=i?(e=y,n.apply(null,o)):a||(a=!0,setTimeout(()=>{a=!1,n.apply(null,o)},i-(y-e)))}}function z(n,i,e){let a=n.getAttribute(i);if(!a)return e;try{return JSON.parse(a)}catch(o){return e}}function ft(n){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(n).catch(function(){});else{let i=document.createElement("textarea");i.value=n,i.style.position="fixed",i.style.left="-9999px",document.body.appendChild(i),i.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(i)}}var ee="/static/img/fallback_video_notfound.gif";function ne(n,i,e){let a=!1,o=null;function l(g){if(!a){a=!0,e&&e("fallback: applying",g);try{i?i.setAttribute("src",ee):n.src=ee,n.load()}catch(E){}}}function y(){o&&(clearTimeout(o),o=null)}n.addEventListener("loadstart",function(){y(),o=setTimeout(function(){!a&&n.readyState<1&&l("watchdog-timeout")},4e3)}),["loadeddata","canplay","canplaythrough","play","playing"].forEach(function(g){n.addEventListener(g,y)}),n.addEventListener("error",function(){a||l("error-event")}),setTimeout(function(){let g=i?i.getAttribute("src")||"":n.currentSrc||n.src||"";!a&&!g&&l("empty-src")},0)}var mt=null;function Ee(){if(mt)return mt;try{typeof Intl!="undefined"&&Intl.DisplayNames&&(mt=new Intl.DisplayNames(["en"],{type:"language"}))}catch(n){}return mt}function Ae(n,i){let e=String(n||"").trim();if(!e)return String(i||"");if(e.toLowerCase()==="auto")return"Auto";let a=e.split("-",1)[0].toLowerCase();try{let o=Ee();if(o&&typeof o.of=="function"){let l=o.of(a);if(l)return l.charAt(0).toUpperCase()+l.slice(1)}}catch(o){}return String(i||e)}function yt(n){try{return n.textTracks?Array.prototype.filter.call(n.textTracks,function(i){return i.kind==="subtitles"||i.kind==="captions"}):[]}catch(i){return[]}}function it(n){return yt(n).length>0}function ht(n,i){let e=yt(n);if(e.length===0)return null;let a=i<0||i>=e.length?0:i;return e[a]}function qt(n,i,e){yt(n).forEach(function(o,l){o.mode=l===i&&e?"hidden":"disabled"})}function Me(n,i){if(!i||!i.cues||i.cues.length===0)return"";let e=n.currentTime||0;for(let a=0;a<i.cues.length;a++){let o=i.cues[a];if(e>=o.startTime&&e<=o.endTime)return(o.text||"").replace(/\r/g,"")}return""}function re(n){return yt(n).map(function(e,a){let o=String(e.language||e.srclang||"").toLowerCase(),l=String(e.label||o||"Lang "+(a+1)),y=Ae(o,l);return{index:a,lang:o,label:y}})}function Nt(n,i){let e=String(i||"").toLowerCase(),a=re(n);for(let o=0;o<a.length;o++)if(a[o].lang===e||a[o].label.toLowerCase()===e)return a[o].index;return-1}function Ht(n,i,e,a){if(!n)return;for(;n.firstChild;)n.removeChild(n.firstChild);let o=document.createElement("button");o.type="button",o.className="yrp-menu-item",o.setAttribute("data-action","back"),o.textContent="\u2190 Back",e(o),n.appendChild(o);let l=document.createElement("button");l.type="button",l.className="yrp-menu-item",l.setAttribute("data-action","subs-on"),l.textContent="On"+(i?" \u2713":""),a(l),n.appendChild(l);let y=document.createElement("button");y.type="button",y.className="yrp-menu-item",y.setAttribute("data-action","subs-off"),y.textContent="Off"+(i?"":" \u2713"),a(y),n.appendChild(y)}function Ft(n,i,e,a,o,l){if(!n)return;for(;n.firstChild;)n.removeChild(n.firstChild);let y=document.createElement("button");y.type="button",y.className="yrp-menu-item",y.setAttribute("data-action","back"),y.textContent="\u2190 Back",a(y),n.appendChild(y);let g=l(y,n);n.appendChild(g);let E=re(i),M=ht(i,e),P=M&&(M.language||M.srclang)?String(M.language||M.srclang).toLowerCase():"",D=E.slice().sort(function(L,C){let I=(L.lang||"").toLowerCase(),V=(C.lang||"").toLowerCase();return I==="auto"&&V!=="auto"?-1:V==="auto"&&I!=="auto"?1:(L.label||"").localeCompare(C.label||"")});if(D.forEach(function(L){let C=document.createElement("button");C.type="button",C.className="yrp-menu-item",C.setAttribute("data-action","select-lang"),C.setAttribute("data-lang",L.lang||"");let I=L.lang?` (${L.lang})`:"",V=L.index===e||L.lang&&P&&L.lang===P;C.textContent=L.label+I+(V?" \u2713":""),o(C),g.appendChild(C)}),!D.length){let L=document.createElement("div");L.className="yrp-menu-title",L.style.marginTop="6px",L.style.fontSize="12px",L.style.opacity="0.8",L.textContent="No subtitles tracks",g.appendChild(L)}}function ie(n,i,e){if(!n)return;let a=it(i);n.disabled=!a,n.style.visibility=a?"visible":"hidden",n.classList.toggle("no-tracks",!a),n.classList.toggle("has-tracks",a),n.classList.toggle("active",a&&e),n.classList.toggle("disabled-track",a&&!e),n.setAttribute("aria-pressed",e?"true":"false"),n.title=e?"Subtitles: on":"Subtitles: off",n.setAttribute("aria-label",e?"Subtitles enabled":"Subtitles disabled")}function ae(n,i,e,a){if(!n||!n.box)return;let o=ht(i,e);qt(i,e,a),n.box.textContent=a?Me(i,o):"",n.layer.style.display=a?"":"none"}function F(n){if(n)try{n.style.background="transparent",n.style.backgroundColor="transparent",n.style.border="none",n.style.boxShadow="none",n.style.color="inherit",n.style.textAlign="left",n.style.width="100%",n.style.display="block"}catch(i){}}function j(n){F(n);try{n.style.background="rgba(255,255,255,0.12)",n.style.backgroundColor="rgba(255,255,255,0.12)",n.style.borderRadius="4px",n.style.fontWeight="700",n.style.marginBottom="6px",n.style.paddingLeft="8px",n.style.paddingRight="8px"}catch(i){}}function ve(n){try{n.classList.add("has-submenu")}catch(i){}}function at(n,i){let e=document.createElement("div");e.className="yrp-menu-scroll";let a=300;if(i)try{let l=i.closest(".yrp-container");if(l){let y=l.querySelector(".yrp-video-wrap");if(y){let g=y.getBoundingClientRect().height,E=Math.floor(g*2/3)-34-50-20;E>150&&(a=E)}}}catch(l){}Object.assign(e.style,{overflowY:"scroll",overflowX:"hidden",maxHeight:a+"px",minHeight:"100px",height:"auto",paddingRight:"8px",paddingLeft:"2px",marginTop:"4px",pointerEvents:"auto",position:"relative",display:"block",boxSizing:"border-box",WebkitOverflowScrolling:"touch"});let o=document.createElement("style");return o.textContent=`
    .yrp-menu-scroll {
      scrollbar-width: thin;
      scrollbar-color: rgba(255,255,255,0.4) rgba(255,255,255,0.1);
    }
    .yrp-menu-scroll::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }
    .yrp-menu-scroll::-webkit-scrollbar-track {
      background: rgba(255,255,255,0.1);
      border-radius: 5px;
      margin: 2px;
    }
    .yrp-menu-scroll::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.4);
      border-radius: 5px;
      border: 2px solid transparent;
      background-clip: padding-box;
    }
    .yrp-menu-scroll::-webkit-scrollbar-thumb:hover {
      background: rgba(255,255,255,0.6);
      background-clip: padding-box;
    }
    .yrp-menu-scroll::-webkit-scrollbar-thumb:active {
      background: rgba(255,255,255,0.8);
      background-clip: padding-box;
    }
  `,document.querySelector("#yrp-embed-menu-scroll-style")||(o.id="yrp-embed-menu-scroll-style",document.head.appendChild(o)),e.addEventListener("wheel",function(l){let y=e.scrollTop===0,g=e.scrollTop+e.clientHeight>=e.scrollHeight-1;(l.deltaY<0&&!y||l.deltaY>0&&!g||!y&&!g)&&l.stopPropagation()},{passive:!1}),e}function Te(n){if(n)try{let i=n.querySelector('.yrp-menu-section[data-section="subtitles"]');i&&i.parentNode&&i.parentNode.removeChild(i)}catch(i){}}function G(n,i,e,a={}){if(!n)return null;let o=n.querySelector(".yrp-menu-section")||null,l=document.createElement("button");return l.type="button",l.className="yrp-menu-item",l.setAttribute("data-action",e),l.textContent=i,F(l),a.disabled===!0&&(l.disabled=!0,l.style.opacity="0.6"),a.hasSubmenu===!0&&ve(l),o&&o.parentNode===n?n.insertBefore(l,o):n.appendChild(l),l}function Pe(){return[.5,.75,1,1.25,1.5,2]}function Dt(n,i,e,a){if(!n)return;for(;n.firstChild;)n.removeChild(n.firstChild);let o=document.createElement("button");o.type="button",o.className="yrp-menu-item",o.setAttribute("data-action","back"),o.textContent="\u2190 Back",e(o),n.appendChild(o);let l=isFinite(i.playbackRate)?i.playbackRate:1;Pe().forEach(function(y){let g=document.createElement("button");g.type="button",g.className="yrp-menu-item",g.setAttribute("data-action","set-speed"),g.setAttribute("data-speed",String(y)),g.textContent=(y===1?"1.0x":String(y)+"x")+(Math.abs(y-l)<.001?" \u2713":""),a(g),n.appendChild(g)})}function It(n,i){let e=parseFloat(String(i));if(!(!isFinite(e)||e<=0)){n.playbackRate=e;try{localStorage.setItem("playback_speed",String(e))}catch(a){}}}var gt=class{constructor(i){this.menu=i,this.menuView="main",this.menuMainHTML="",this.menuFixedMinHeight=0}ensureMainSnapshot(){this.menu&&(this.menuMainHTML||(this.menuMainHTML=this.menu.innerHTML||""))}lockHeightFromCurrent(){if(this.menu&&!(this.menuFixedMinHeight>0))try{let i=this.menu.getBoundingClientRect();this.menuFixedMinHeight=Math.ceil(i.height||0),this.menuFixedMinHeight>0&&(this.menu.style.minHeight=this.menuFixedMinHeight+"px")}catch(i){}}resetHeightLock(){this.menu&&(this.menuFixedMinHeight=0,this.menu.style.minHeight="")}setView(i){this.menuView=i}getView(){return this.menuView}openMainView(i){if(this.menu){this.ensureMainSnapshot(),this.menu.innerHTML=this.menuMainHTML,this.menuView="main",this.menu.style.maxHeight="";try{let e=this.menu.querySelector('.yrp-menu-section[data-section="speed"]');e&&e.parentNode&&e.parentNode.removeChild(e)}catch(e){}Te(this.menu),i&&(i.injectSpeed&&i.injectSpeed(),i.injectLanguages&&i.injectLanguages(),i.injectSubtitles&&i.injectSubtitles(),i.injectQuality&&i.injectQuality(),i.injectDownload&&i.injectDownload())}}constrainToPlayerHeight(i=2/3){if(this.menu)try{let e=this.menu.closest(".yrp-container");if(e){let a=e.querySelector(".yrp-video-wrap");if(a){let o=a.getBoundingClientRect().height,l=Math.floor(o*i)-34;l>100&&(this.menu.style.maxHeight=l+"px")}}}catch(e){}}};var Fe={};function qe(){try{let i=new URL(Fe.url).pathname.match(/\/static\/players\/([^\/]+)\//);if(i)return i[1]}catch(n){}try{let i=(document.currentScript&&document.currentScript.src||"").match(/\/static\/players\/([^\/]+)\//);if(i)return i[1]}catch(n){}try{let n=document.querySelector(".player-host[data-player]");if(n){let i=String(n.getAttribute("data-player")||"").trim();if(i)return i}}catch(n){}return"yurtube"}function Vt(){let n=qe(),i="/static/players/"+n,e=document.querySelectorAll('.player-host[data-player="'+n+'"]');e.length!==0&&fetch(i+"/templates/player.html",{credentials:"same-origin"}).then(a=>a.text()).then(function(a){for(let o=0;o<e.length;o++)Ne(e[o],a,i)}).catch(function(){})}function Ne(n,i,e){n.innerHTML=i;let a=n.querySelector(".yrp-container"),o=a.querySelector(".yrp-video-wrap"),l=a.querySelector(".yrp-video"),y=a.querySelector(".yrp-controls"),g=l.querySelector("source"),E=a.querySelector(".yrp-autoplay");E&&(E.style.display="none");let M=z(n,"data-options",{}),P=/\byrpdebug=1\b/i.test(location.search)||!!(M&&M.debug);function D(){if(P)try{}catch(x){}}a.classList.add("yrp-embed"),a.setAttribute("tabindex","0");let L=n.getAttribute("data-video-src")||"",C=n.getAttribute("data-poster-url")||"",I=n.getAttribute("data-video-id")||"",V=z(n,"data-subtitles",[]),H=n.getAttribute("data-sprites-vtt")||"",_=n.getAttribute("data-caption-vtt")||"",Z=n.getAttribute("data-caption-lang")||"",tt=z(n,"data-sources",[]),st=String(n.getAttribute("data-permit-download")||"").trim()==="1",J=z(n,"data-download-items",[]);g&&g.setAttribute("src",L),C&&l.setAttribute("poster",C),M&&M.autoplay&&l.setAttribute("autoplay",""),M&&M.muted&&l.setAttribute("muted",""),M&&M.loop&&l.setAttribute("loop",""),I&&a.setAttribute("data-video-id",I),H&&a.setAttribute("data-sprites-vtt",H),l.setAttribute("playsinline",""),Array.isArray(V)&&V.forEach(function(x){if(!x||!x.src)return;let A=document.createElement("track");A.setAttribute("kind","subtitles"),x.srclang&&A.setAttribute("srclang",String(x.srclang)),x.label&&A.setAttribute("label",String(x.label)),A.setAttribute("src",String(x.src)),x.default&&A.setAttribute("default",""),l.appendChild(A)});let v=a.querySelector(".yrp-subtitles");if(_)try{let x=document.createElement("track");x.setAttribute("kind","subtitles"),x.setAttribute("src",_),x.setAttribute("srclang",Z||"auto"),x.setAttribute("label",Z||"Original"),x.setAttribute("default",""),l.appendChild(x)}catch(x){D("caption track append failed",x)}try{l.load(),D("video.load() called",{src:L})}catch(x){D("video.load() error",x)}ne(l,g,D);let c=e+"/img/buttons";a.style.setProperty("--icon-play",'url("'+c+'/play.svg")'),a.style.setProperty("--icon-pause",'url("'+c+'/pause.svg")'),a.style.setProperty("--icon-prev",'url("'+c+'/prev.svg")'),a.style.setProperty("--icon-next",'url("'+c+'/next.svg")'),a.style.setProperty("--icon-vol",'url("'+c+'/volume.svg")'),a.style.setProperty("--icon-mute",'url("'+c+'/mute.svg")'),a.style.setProperty("--icon-cc",'url("'+c+'/cc.svg")'),a.style.setProperty("--icon-mini",'url("'+c+'/mini.svg")'),a.style.setProperty("--icon-settings",'url("'+c+'/settings.svg")'),a.style.setProperty("--icon-theater",'url("'+c+'/theater.svg")'),a.style.setProperty("--icon-full",'url("'+c+'/full.svg")'),a.classList.add("yrp-icons-ready");let K=a.querySelector(".yrp-center-logo");K&&K.setAttribute("src",e+"/img/logo.png"),He(a,o,l,y,H,P,v,{sources:Array.isArray(tt)?tt:[],permitDownload:!!st,downloadItems:Array.isArray(J)?J:[]})}function He(n,i,e,a,o,l,y,g){function E(){if(l)try{}catch(t){}}let M=n.querySelector(".yrp-center-play"),P=n.querySelector(".yrp-play"),D=n.querySelector(".yrp-vol-btn"),L=n.querySelector(".yrp-volume"),C=n.querySelector(".yrp-vol-slider"),I=n.querySelector(".yrp-time-current"),V=n.querySelector(".yrp-time-total"),H=n.querySelector(".yrp-progress"),_=n.querySelector(".yrp-progress-rail"),Z=n.querySelector(".yrp-progress-buffer"),tt=n.querySelector(".yrp-progress-played"),st=n.querySelector(".yrp-progress-handle"),J=n.querySelector(".yrp-progress-tooltip"),v=n.querySelector(".yrp-settings"),c=n.querySelector(".yrp-menu"),K=n.querySelector(".yrp-fullscreen"),x=n.querySelector(".yrp-pip"),A=n.querySelector(".yrp-context"),bt=!1,U=0,xt=null,$=!1,se=!1,X=g&&Array.isArray(g.sources)?g.sources:[],oe=!!(g&&g.permitDownload),wt=g&&Array.isArray(g.downloadItems)?g.downloadItems:[],m=new gt(c),O=!0,Y=0,Rt=function(){try{return String(localStorage.getItem("subtitle_lang")||"")}catch(t){return""}}(),St=function(){try{return parseFloat(localStorage.getItem("playback_speed")||"")}catch(t){return NaN}}(),Ot=n.getAttribute("data-video-id")||"",Bt=Ot?"yrp:quality:"+Ot:"yrp:quality",jt=function(){try{return String(localStorage.getItem(Bt)||"")}catch(t){return""}}();function ce(t){let r=document.createElement("div");r.className="yrp-embed-captions-layer",Object.assign(r.style,{position:"absolute",left:"50%",top:"80%",transform:"translate(-50%,-50%)",zIndex:"21",pointerEvents:"auto",userSelect:"none",touchAction:"none"});let s=document.createElement("div");s.className="yrp-embed-captions-text",r.appendChild(s),getComputedStyle(t).position==="static"&&(t.style.position="relative"),t.appendChild(r);let u={active:!1,sx:0,sy:0},d=null;function f(){return t.getBoundingClientRect()}function S(b){if(u.active){if(u.active=!1,d&&(clearTimeout(d),d=null),b&&b.preventDefault)try{b.preventDefault()}catch(N){}if(b&&b.stopPropagation)try{b.stopPropagation()}catch(N){}}}function h(b){u.active=!0,u.sx=b.clientX,u.sy=b.clientY;try{r.setPointerCapture&&r.setPointerCapture(b.pointerId)}catch(N){}d&&(clearTimeout(d),d=null),b.preventDefault(),b.stopPropagation()}function k(b){if(!u.active)return;let N=b.clientX-u.sx,W=b.clientY-u.sy,R=f(),q=r.getBoundingClientRect(),Tt=q.left+q.width/2+N,Pt=q.top+q.height/2+W,Gt=q.width/2,Zt=q.height/2;Tt=Math.min(Math.max(Tt,R.left+Gt),R.right-Gt),Pt=Math.min(Math.max(Pt,R.top+Zt),R.bottom-Zt);let Ce=(Tt-R.left)/R.width*100,ke=(Pt-R.top)/R.height*100;r.style.left=Ce+"%",r.style.top=ke+"%",r.style.transform="translate(-50%,-50%)",u.sx=b.clientX,u.sy=b.clientY,b.preventDefault(),b.stopPropagation()}function w(){d&&clearTimeout(d),d=setTimeout(function(){S(new Event("leaveguard"))},200)}return r.addEventListener("pointerdown",h),document.addEventListener("pointermove",k),document.addEventListener("pointerup",S),document.addEventListener("pointercancel",S),document.addEventListener("mouseup",S),document.addEventListener("touchend",S),t.addEventListener("pointerleave",w),r.addEventListener("click",function(b){b.stopPropagation()}),{layer:r,box:s}}let ue=ce(i);function le(){return ht(e,Y)}function Lt(){qt(e,Y,O)}function Q(){ae(ue,e,Y,O)}function ot(){ie(y,e,O)}function pe(t){let r=Nt(e,t);if(r>=0){Y=r,O=!0;try{localStorage.setItem("subtitle_lang",String(t||""))}catch(s){}Lt(),Q(),ot()}}function _t(t){O=!!t,Lt(),Q(),ot()}function Kt(){try{let t=e.querySelector("source");return t&&t.getAttribute("src")?String(t.getAttribute("src")||""):""}catch(t){return""}}function Ut(t,r){if(!t)return;let s=Kt();if(s&&s===t)return;let p=!e.paused,u=Math.max(0,e.currentTime||0),d=isFinite(e.playbackRate)&&e.playbackRate>0?e.playbackRate:1,f=isFinite(e.volume)?e.volume:1,S=!!e.muted,h=e.querySelector("source");if(!h)return;try{localStorage.setItem(Bt,String(t))}catch(w){}try{h.setAttribute("src",String(t));try{h.src=String(t)}catch(w){}e.load()}catch(w){}let k=function(){e.removeEventListener("loadedmetadata",k);try{e.playbackRate=d}catch(w){}try{e.volume=f}catch(w){}try{e.muted=S}catch(w){}try{let w=isFinite(e.duration)?e.duration:0;if(w>0){let b=Math.min(u,Math.max(0,w-.25));e.currentTime=b}}catch(w){}if(p)try{e.play().catch(function(){})}catch(w){}};e.addEventListener("loadedmetadata",k),r&&E("switch quality",{src:t,label:r})}function de(){if(!(!X||X.length<2)&&jt)for(let t=0;t<X.length;t++){let r=X[t];if(!r)continue;let s=String(r.src||"");if(s&&s===jt){Ut(s,r.label||"");return}}}let et=[],ct=!1,ut=!1,B=null,lt=0;function Xt(t){let r=String(t||"").match(/^(\d{2}):(\d{2}):(\d{2}\.\d{3})$/);if(!r)return 0;let s=parseInt(r[1],10),p=parseInt(r[2],10),u=parseFloat(r[3]);return s*3600+p*60+u}function fe(t){if(!t)return"";if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;try{return new URL(o,window.location.origin).pathname.replace(/\/sprites\.vtt$/,"")+"/"+t.replace(/^\/+/,"")}catch(r){return t}}function me(){return B||(H?(B=document.createElement("div"),B.className="yrp-sprite-pop",Object.assign(B.style,{position:"absolute",bottom:"calc(100% + 30px)",left:"0",display:"none",width:"160px",height:"90px",border:"1px solid #333",background:"#000",overflow:"hidden",zIndex:"5"}),getComputedStyle(H).position==="static"&&(H.style.position="relative"),H.appendChild(B),B):null)}function Yt(){!o||ct||ut||fetch(o,{credentials:"same-origin"}).then(t=>t.text()).then(function(t){let r=t.split(/\r?\n/);for(let s=0;s<r.length;s++){let p=r[s].trim();if(p&&p.indexOf("-->")>=0){let u=p.split("-->").map(q=>q.trim());if(u.length<2)continue;let d=Xt(u[0]),f=Xt(u[1]),S=(r[s+1]||"").trim(),h="",k=0,w=0,b=0,N=0,W=S.indexOf("#xywh=");if(W>0){h=S.substring(0,W);let q=S.substring(W+6).split(",");q.length===4&&(k=parseInt(q[0],10),w=parseInt(q[1],10),b=parseInt(q[2],10),N=parseInt(q[3],10))}let R=fe(h);et.push({start:d,end:f,spriteUrl:R,x:k,y:w,w:b,h:N}),f>lt&&(lt=f),s++}}ct=!0,E("embed sprites VTT loaded",{cues:et.length,durationApprox:lt})}).catch(function(t){ut=!0,E("embed sprites VTT load failed",t)})}function ye(t){if(!o||!et.length||!_)return;let r=_.getBoundingClientRect(),s=Math.max(0,Math.min(t-r.left,r.width)),p=r.width>0?s/r.width:0,u=(U||lt||0)*p,d=null;for(let k=0;k<et.length;k++){let w=et[k];if(u>=w.start&&u<w.end){d=w;break}}let f=me();if(!f)return;if(!d||!d.spriteUrl||d.w<=0||d.h<=0){f.style.display="none";return}for(;f.firstChild;)f.removeChild(f.firstChild);let S=document.createElement("img");S.src=d.spriteUrl,Object.assign(S.style,{position:"absolute",left:-d.x+"px",top:-d.y+"px"}),f.appendChild(S),f.style.display="block";let h=Math.max(0,Math.min(r.width-d.w,s-d.w/2));f.style.left=h+"px",f.style.width=d.w+"px",f.style.height=d.h+"px"}function T(){n.classList.remove("autohide"),xt&&clearTimeout(xt),xt=setTimeout(function(){n.classList.add("autohide")},1800)}function he(){try{let t=window.innerHeight||document.documentElement.clientHeight||n.clientHeight||0;if(t<=0)return;i.style.height=t+"px",e.style.height="100%",e.style.width="100%",e.style.objectFit="contain"}catch(t){}}function Qt(){try{U=isFinite(e.duration)?e.duration:0}catch(t){U=0}V&&(V.textContent=dt(U)),I&&(I.textContent=dt(e.currentTime||0))}function Ct(){let t=U||0,r=e.currentTime||0,s=t>0?Math.max(0,Math.min(r/t,1)):0;tt&&(tt.style.width=(s*100).toFixed(3)+"%"),st&&(st.style.left=(s*100).toFixed(3)+"%");let p=0;if(e.buffered&&e.buffered.length>0)try{p=e.buffered.end(e.buffered.length-1)}catch(d){p=0}let u=t>0?Math.max(0,Math.min(p/t,1)):0;Z&&(Z.style.width=(u*100).toFixed(3)+"%")}function nt(){let t=e.muted?0:e.volume,r=e.muted||t===0?"Mute":"Vol",s=n.querySelector(".yrp-vol-btn");s&&(s.textContent=r,s.classList.toggle("icon-mute",r==="Mute"),s.classList.toggle("icon-vol",r!=="Mute"))}function kt(){e.muted=!e.muted,nt()}function Et(){e.paused?e.play().catch(function(){}):e.pause()}function Wt(t){let r=_.getBoundingClientRect(),s=Math.max(0,Math.min(t-r.left,r.width)),p=r.width>0?s/r.width:0,u=(U||0)*p;e.currentTime=u}function ge(t){let r=J;if(!r)return;let s=_.getBoundingClientRect(),p=Math.max(0,Math.min(t-s.left,s.width)),u=s.width>0?p/s.width:0,d=(U||0)*u;r.textContent=dt(d),r.style.left=(u*100).toFixed(3)+"%",r.hidden=!1}function Jt(){if(!c)return;for(;c.firstChild;)c.removeChild(c.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",j(t),c.appendChild(t);let r=Kt(),s=at(t,c);c.appendChild(s),X.forEach(function(p){if(!p)return;let u=String(p.src||"");if(!u)return;let d=String(p.label||p.preset||"Quality"),f=document.createElement("button");f.type="button",f.className="yrp-menu-item",f.setAttribute("data-action","set-quality"),f.setAttribute("data-src",u),f.textContent=d+(r===u?" \u2713":""),F(f),s.appendChild(f)}),m.setView("quality"),m.constrainToPlayerHeight(2/3)}function $t(){if(!c)return;for(;c.firstChild;)c.removeChild(c.firstChild);let t=document.createElement("button");t.type="button",t.className="yrp-menu-item",t.setAttribute("data-action","back"),t.textContent="\u2190 Back",j(t),c.appendChild(t);let r=at(t,c);c.appendChild(r),(wt||[]).forEach(function(s){if(!s)return;let p=String(s.url||"");if(!p)return;let u=String(s.label||"Download"),d=String(s.filename||""),f=document.createElement("button");f.type="button",f.className="yrp-menu-item",f.setAttribute("data-action","do-download"),f.setAttribute("data-url",p),d&&f.setAttribute("data-filename",d),f.textContent=u,F(f),r.appendChild(f)}),m.setView("download"),m.constrainToPlayerHeight(2/3)}function At(){m.openMainView({injectSpeed:function(){c.querySelector('.yrp-menu-item[data-action="open-speed"]')||G(c,"Speed","open-speed",{hasSubmenu:!0})},injectLanguages:function(){c.querySelector('.yrp-menu-item[data-action="open-langs"]')||G(c,"Languages","open-langs",{hasSubmenu:!0})},injectSubtitles:function(){let t=it(e);if(!c.querySelector('.yrp-menu-item[data-action="open-subs"]')){let r=G(c,"Subtitles","open-subs",{hasSubmenu:!0,disabled:!t});r&&!t&&(r.title="No subtitles tracks")}},injectQuality:function(){c.querySelector('.yrp-menu-item[data-action="open-quality"]')||!X||X.length<2||G(c,"Quality","open-quality",{hasSubmenu:!0})},injectDownload:function(){c.querySelector('.yrp-menu-item[data-action="open-download"]')||oe&&(!wt||wt.length===0||G(c,"Download","open-download",{hasSubmenu:!0}))}});try{let t=c.querySelector('.yrp-menu-section[data-section="quality"]');t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}try{let t=c.querySelector(".yrp-menu-item.quality-future");t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}}let zt="",rt=0;function be(){c&&(zt||(zt=c.innerHTML||""))}function xe(){if(c&&!(rt>0))try{let t=c.getBoundingClientRect();rt=Math.ceil(t.height||0),rt>0&&(c.style.minHeight=rt+"px")}catch(t){}}function we(){c&&(rt=0,c.style.minHeight="")}function Mt(){c&&(c.hidden=!0,v&&v.setAttribute("aria-expanded","false")),A&&(A.hidden=!0),n.classList.remove("vol-open"),m.setView("main"),m.resetHeightLock()}function vt(){if(!P)return;let t=!e.paused;P.classList.toggle("icon-play",!t),P.classList.toggle("icon-pause",t),P.setAttribute("aria-label",t?"Pause (Space, K)":"Play (Space, K)"),P.title=t?"Pause (Space, K)":"Play (Space, K)",P.textContent=""}(function(){let t=function(){try{let r=localStorage.getItem("yrp:volume");return r?JSON.parse(r):null}catch(r){return null}}();t&&typeof t.v=="number"&&(e.volume=Math.max(0,Math.min(t.v,1))),t&&typeof t.m=="boolean"&&(e.muted=!!t.m),C&&(C.value=String(e.volume||1)),nt(),e.addEventListener("volumechange",function(){if(!(se&&e.muted&&!$))try{localStorage.setItem("yrp:volume",JSON.stringify({v:Math.max(0,Math.min(e.volume||0,1)),m:!!e.muted}))}catch(r){}}),e.addEventListener("loadedmetadata",function r(){if(e.removeEventListener("loadedmetadata",r),$)return;let s=function(){try{let p=localStorage.getItem("yrp:volume");return p?JSON.parse(p):null}catch(p){return null}}();s&&(typeof s.v=="number"&&(e.volume=Math.max(0,Math.min(s.v,1))),typeof s.m=="boolean"&&(e.muted=!!s.m),C&&(C.value=String(e.volume||1)),nt())})})(),function(){try{let t=localStorage.getItem("yrp:speed");if(t){let r=parseFloat(t);isFinite(r)&&r>0&&(e.playbackRate=r)}}catch(t){}isFinite(St)&&St>0&&It(St),e.addEventListener("ratechange",function(){try{localStorage.setItem("yrp:speed",String(e.playbackRate))}catch(t){}try{localStorage.setItem("playback_speed",String(e.playbackRate))}catch(t){}})}(),function(){let t=n.getAttribute("data-video-id")||"";if(!t)return;function r(){try{let h=localStorage.getItem("yrp:resume");return h?JSON.parse(h):{}}catch(h){return{}}}function s(h){try{localStorage.setItem("yrp:resume",JSON.stringify(h))}catch(k){}}let p=r(),u=p[t],d=Date.now();function f(h){let k=isFinite(e.duration)?e.duration:0;if(k&&h>10&&h<k-5)try{e.currentTime=h}catch(w){}}if(u&&typeof u.t=="number"&&d-(u.ts||0)<180*24*3600*1e3){let h=Math.max(0,u.t|0);isFinite(e.duration)&&e.duration>0?f(h):e.addEventListener("loadedmetadata",function k(){e.removeEventListener("loadedmetadata",k),f(h)})}let S=te(function(){let h=isFinite(e.duration)?e.duration:0,k=Math.max(0,Math.floor(e.currentTime||0)),w=r();w[t]={t:k,ts:Date.now(),d:h};let b=Object.keys(w);if(b.length>200){b.sort(function(N,W){return(w[N].ts||0)-(w[W].ts||0)});for(let N=0;N<b.length-200;N++)delete w[b[N]]}s(w)},3e3);e.addEventListener("timeupdate",function(){!e.paused&&!e.seeking&&S()}),e.addEventListener("ended",function(){let h=r();delete h[t],s(h)})}(),function(){let t=n.closest(".player-host")||n,r=z(t,"data-options",null),s=!!(r&&Object.prototype.hasOwnProperty.call(r,"autoplay")&&r.autoplay);if(E("autoplay check (embed)",{WANT:s,opt:r}),!s)return;function p(f){E("tryPlaySequence",{reason:f,muted:e.muted,rs:e.readyState});let S=null;try{S=e.play()}catch(h){E("play() threw sync",h),S=null}S&&typeof S.then=="function"?S.then(function(){E("play() resolved")}).catch(function(h){if(E("play() rejected",{name:h&&h.name,msg:h&&h.message}),!e.muted){e.muted=!0,e.setAttribute("muted","");try{e.play().catch(function(k){E("retry rejected",k)})}catch(k){E("retry threw sync",k)}}}):setTimeout(function(){if(e.paused){e.muted=!0,e.setAttribute("muted","");try{e.play().catch(function(h){E("no-promise fallback rejected",h)})}catch(h){E("no-promise fallback threw",h)}}},0)}let u=!1;function d(f){u||(u=!0,p(f))}e.readyState>=1&&d("readyState>=1"),["loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(f){let S=function(){e.removeEventListener(f,S),d(f)};e.addEventListener(f,S)}),setTimeout(function(){e.paused&&p("watchdog")},1200)}(),M&&M.addEventListener("click",function(){Et()}),P&&P.addEventListener("click",function(){Et()}),e.addEventListener("click",function(){Et()}),e.addEventListener("play",function(){n.classList.add("playing"),vt()}),e.addEventListener("pause",function(){n.classList.remove("playing"),vt()}),D&&D.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),$=!0,kt(),n.classList.add("vol-open"),T(),setTimeout(function(){n.classList.remove("vol-open")},800)}),a&&a.addEventListener("click",function(t){let r=t.target;r&&r.nodeType===3&&r.parentNode&&(r=r.parentNode),r&&r.classList&&r.classList.contains("yrp-vol-btn")&&(t.preventDefault(),t.stopPropagation(),$=!0,kt(),n.classList.add("vol-open"),T(),setTimeout(function(){n.classList.remove("vol-open")},800))},!0),C&&C.addEventListener("input",function(){$=!0;let t=parseFloat(C.value||"1");isFinite(t)||(t=1),t=Math.max(0,Math.min(t,1)),e.volume=t,t>0&&(e.muted=!1),nt(),n.classList.add("vol-open"),T()}),L&&L.addEventListener("wheel",function(t){t.preventDefault(),$=!0;let r=.05,s=e.muted?0:e.volume,p=Math.max(0,Math.min(s+(t.deltaY<0?r:-r),1));e.volume=p,p>0&&(e.muted=!1),C&&(C.value=String(p)),nt(),n.classList.add("vol-open"),T()},{passive:!1}),H&&_&&(H.addEventListener("mousedown",function(t){bt=!0,Wt(t.clientX),T()}),window.addEventListener("mousemove",function(t){bt&&Wt(t.clientX)}),window.addEventListener("mouseup",function(){bt=!1}),H.addEventListener("mousemove",function(t){ge(t.clientX),o&&ct&&!ut?ye(t.clientX):o&&!ct&&!ut&&Yt()}),H.addEventListener("mouseleave",function(){J&&(J.hidden=!0),B&&(B.style.display="none")})),v&&c&&(be(),v.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),!c.hidden?(c.hidden=!0,v.setAttribute("aria-expanded","false"),m.setView("main"),we()):(Mt(),At(),c.hidden=!1,v.setAttribute("aria-expanded","true"),n.classList.add("vol-open"),T(),xe())}),c.addEventListener("click",function(t){let r=t.target&&t.target.closest?t.target.closest(".yrp-menu-item"):null;if(!r||!c.contains(r))return;let s=r.getAttribute("data-action")||"",p=r.getAttribute("data-lang")||"";if(m.getView()==="main"){if(s==="open-speed"){t.preventDefault(),t.stopPropagation(),Dt(c,e,j,F),m.setView("speed"),m.lockHeightFromCurrent(),n.classList.add("vol-open"),T();return}if(s==="open-langs"){t.preventDefault(),t.stopPropagation(),Ft(c,e,Y,j,F,at),m.setView("langs"),m.lockHeightFromCurrent(),n.classList.add("vol-open"),T();return}if(s==="open-subs"){if(t.preventDefault(),t.stopPropagation(),!it(e))return;Ht(c,O,j,F),m.setView("subs"),m.lockHeightFromCurrent(),n.classList.add("vol-open"),T();return}if(s==="open-quality"){t.preventDefault(),t.stopPropagation(),Jt(),m.lockHeightFromCurrent(),n.classList.add("vol-open"),T();return}if(s==="open-download"){t.preventDefault(),t.stopPropagation(),$t(),m.lockHeightFromCurrent(),n.classList.add("vol-open"),T();return}return}if(s==="back"){t.preventDefault(),t.stopPropagation(),At(),m.lockHeightFromCurrent(),n.classList.add("vol-open"),T();return}if(m.getView()==="speed"&&s==="set-speed"){let u=parseFloat(r.getAttribute("data-speed")||"NaN");if(!isNaN(u)){t.preventDefault(),t.stopPropagation(),It(e,u),c.hidden=!0,v.setAttribute("aria-expanded","false"),m.setView("main"),m.resetHeightLock();return}}if(m.getView()==="langs"&&s==="select-lang"&&p){t.preventDefault(),t.stopPropagation(),pe(p),c.hidden=!0,v.setAttribute("aria-expanded","false"),m.setView("main"),m.resetHeightLock();return}if(m.getView()==="subs"){if(s==="subs-on"){t.preventDefault(),t.stopPropagation(),_t(!0),c.hidden=!0,v.setAttribute("aria-expanded","false"),m.setView("main"),m.resetHeightLock();return}if(s==="subs-off"){t.preventDefault(),t.stopPropagation(),_t(!1),c.hidden=!0,v.setAttribute("aria-expanded","false"),m.setView("main"),m.resetHeightLock();return}}if(m.getView()==="quality"&&s==="set-quality"){t.preventDefault(),t.stopPropagation();let u=String(r.getAttribute("data-src")||""),d=String(r.textContent||"").replace(/\s*âœ“\s*$/,"");u&&Ut(u,d),c.hidden=!0,v.setAttribute("aria-expanded","false"),m.setView("main"),m.resetHeightLock();return}if(m.getView()==="download"&&s==="do-download"){t.preventDefault(),t.stopPropagation();let u=String(r.getAttribute("data-url")||"");if(u)try{window.open(u,"_blank","noopener")}catch(d){window.location.href=u}c.hidden=!0,v.setAttribute("aria-expanded","false"),m.setView("main"),m.resetHeightLock();return}}),document.addEventListener("click",function(t){!c.hidden&&!c.contains(t.target)&&t.target!==v&&(c.hidden=!0,v.setAttribute("aria-expanded","false"),m.setView("main"),m.resetHeightLock())}),document.addEventListener("keydown",function(t){(t.code==="Escape"||(t.key||"").toLowerCase()==="escape")&&(c.hidden||(c.hidden=!0,v.setAttribute("aria-expanded","false"),m.setView("main"),m.resetHeightLock()))})),K&&K.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen().catch(function(){}):n.requestFullscreen&&n.requestFullscreen().catch(function(){})}),x&&x.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();try{if(document.pictureInPictureEnabled&&e.requestPictureInPicture&&!e.disablePictureInPicture)if(document.pictureInPictureElement===e)document.exitPictureInPicture().catch(function(){});else{let r=e.paused,s=e.muted,p=Promise.resolve();r&&(e.muted=!0,p=e.play().catch(function(){})),p.then(function(){return e.requestPictureInPicture()}).catch(function(){}).then(function(){r&&(e.pause(),e.muted=s)})}}catch(r){}}),n.addEventListener("contextmenu",function(t){if(t.preventDefault(),Mt(),!A)return;let r=n.getBoundingClientRect();A.style.left=t.clientX-r.left+"px",A.style.top=t.clientY-r.top+"px",A.hidden=!1,n.classList.add("vol-open"),T()}),A&&(A.addEventListener("click",function(t){let r=t.target&&t.target.getAttribute("data-action"),s=Math.floor(e.currentTime||0),p=n.getAttribute("data-video-id")||"";if(r==="pip")x&&x.click();else if(r==="copy-url"){let u=new URL(window.location.href);u.searchParams.delete("t"),ft(u.toString())}else if(r==="copy-url-time"){let u=new URL(window.location.href);u.searchParams.set("t",String(s)),ft(u.toString())}else if(r==="copy-embed"){let d='<iframe width="560" height="315" src="'+((window.location.origin||"")+"/embed?v="+encodeURIComponent(p||""))+'" frameborder="0" allow="autoplay; encrypted-media; clipboard-write" allowfullscreen></iframe>';ft(d)}A.hidden=!0}),document.addEventListener("click",function(t){!A.hidden&&!A.contains(t.target)&&(A.hidden=!0)}),document.addEventListener("keydown",function(r){(r.code==="Escape"||(r.key||"").toLowerCase()==="escape")&&(A.hidden||(A.hidden=!0))}));function Se(t){let r=t.target,s=r&&r.tagName?r.tagName.toUpperCase():"";if(r&&(r.isContentEditable||s==="INPUT"||s==="TEXTAREA")||t.ctrlKey||t.metaKey||t.altKey)return;let p=t.code,u=(t.key||"").toLowerCase();if(p==="Space"||p==="Enter"||p==="NumpadEnter"||p==="MediaPlayPause"||p==="KeyK"||u==="k"){t.preventDefault(),e.paused?e.play().catch(function(){}):e.pause();return}if(p==="ArrowLeft"||p==="KeyJ"||u==="j"){t.preventDefault(),e.currentTime=Math.max(0,(e.currentTime||0)-5);return}if(p==="ArrowRight"||p==="KeyL"||u==="l"){t.preventDefault();let d=isFinite(e.duration)?e.duration:1e9;e.currentTime=Math.min((e.currentTime||0)+5,d);return}if(p==="KeyM"||u==="m"){t.preventDefault(),kt();return}if(p==="KeyF"||u==="f"){t.preventDefault(),K&&K.click();return}if(p==="KeyI"||u==="i"){t.preventDefault(),x&&x.click();return}if(p==="Escape"||u==="escape"){Mt();return}}document.addEventListener("keydown",Se),["mouseenter","mousemove","pointermove","touchstart"].forEach(function(t){(a||n).addEventListener(t,function(){try{n.focus()}catch(r){}T()},{passive:!0})}),n.addEventListener("mouseleave",function(){setTimeout(function(){n.classList.add("autohide")},600)});function pt(){he()}window.addEventListener("resize",pt),setTimeout(pt,0),setTimeout(pt,100);function Le(){try{let t=le();if(!t)return;t.addEventListener("cuechange",Q),t.addEventListener("load",Q)}catch(t){}}e.addEventListener("loadedmetadata",function(){if(Rt){let t=Nt(e,Rt);t>=0&&(Y=t)}if(Lt(),Q(),ot(),Le(),Qt(),Ct(),pt(),Yt(),vt(),c&&!c.hidden){let t=m.getView();t==="main"?At():t==="langs"?(Ft(c,e,Y,j,F,at),m.setView("langs")):t==="speed"?(Dt(c,e,j,F),m.setView("speed")):t==="subs"?(Ht(c,O,j,F),m.setView("subs")):t==="quality"?Jt():t==="download"&&$t()}}),setTimeout(de,0),e.addEventListener("timeupdate",function(){Qt(),Ct(),Q()}),e.addEventListener("progress",function(){Ct()}),y&&y.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),it(e)&&(O=!O,Q(),ot(),T())})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Vt):Vt();})();
