body { margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; }
.site-header { display:flex; align-items:center; gap:16px; padding:8px 16px; border-bottom:1px solid #eee; }
.logo a { font-weight:700; text-decoration:none; color:#111; }
.search-form input { padding:6px 10px; width:280px; }
.user-nav a, .user-nav button { margin-left:12px; }
.layout { display:flex; }
.sidebar { width:220px; border-right:1px solid #eee; min-height:calc(100vh - 58px); padding:12px; }
.content { flex:1; padding:16px; }

.video-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:16px; }

.video-card { display:block; color:inherit; text-decoration:none; }
.video-grid .video-card { display:flex; flex-direction:column; }
.video-card .thumb-link { position:relative; display:block; background:#000; width:100%; aspect-ratio:16/9; overflow:hidden; }
.thumb-img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; transition:opacity .15s linear; }
.thumb-still { opacity:1; }
.thumb-anim { opacity:0; }
.video-card .thumb-link:hover .thumb-anim { opacity:1; }
.video-card .thumb-link:hover .thumb-still { opacity:0; }

.video-card .meta { padding:6px 0; }
.video-card .title {
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
  overflow:hidden; text-overflow:ellipsis; line-height:1.2;
  min-height:calc(1.2em * 2);
}

.author-line { display:inline-flex; align-items:center; gap:6px; }
.mini-avatar { width:16px; height:16px; border-radius:50%; object-fit:cover; border:1px solid #ddd; }

.watch-title { overflow-wrap:anywhere; word-break:break-word; }
.player-wrapper { margin-bottom:12px; }

.player-wrap { position:relative; }
.player-wrap video { display:block; width:100%; height:auto; }
.video-overlay { position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:64px; height:64px; opacity:.9; transition:opacity .2s ease; cursor:pointer; user-select:none; pointer-events:auto; }
.video-overlay img { width:100%; height:100%; display:block; }
.player-wrap.playing .video-overlay { opacity:0; pointer-events:none; }

.alert { padding:10px 12px; border-radius:6px; margin:10px 0; border:1px solid transparent; }
.alert-error { background:#fde8e8; color:#8a1f1f; border-color:#f5c2c7; }

/* Right bar hover thumbs (shared with tabs list) */
.rb-item .rb-thumb { position:relative; width:160px; flex:0 0 160px; aspect-ratio:16/9; background:#000; overflow:hidden; }
.rb-item .rb-thumb img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; transition:opacity .15s ease; }
.rb-item .rb-thumb .rb-thumb-static { opacity:1; }
.rb-item .rb-thumb .rb-thumb-anim { opacity:0; }
.rb-item:hover .rb-thumb .rb-thumb-static { opacity:0; }
.rb-item:hover .rb-thumb .rb-thumb-anim { opacity:1; }

/* Tabs */
.watch-tabs { display:none; }
.tabs-nav { display:flex; gap:6px; border-bottom:1px solid #ddd; margin-top:14px; }
.tabs-nav button {
  appearance:none; border:0; background:#f3f3f3; padding:8px 12px;
  cursor:pointer; font-weight:600; border-top-left-radius:6px; border-top-right-radius:6px;
}
.tabs-nav button[aria-selected="true"] { background:#e9e9e9; }
.tab-panels { border:1px solid #ddd; border-top:0; border-bottom-left-radius:6px; border-bottom-right-radius:6px; padding:10px; }
.tab-panel { display:none; }
.tab-panel.active { display:block; }

/* Responsive theater + rail logic comes from inline style + class .theater-mode in template */
@media (max-width:1100px) {
  .watch-right { display:none !important; }
  .watch-tabs { display:block !important; }
  .watch-layout.theater-mode .watch-right { display:none !important; }
  .watch-layout.theater-mode .watch-tabs { display:block !important; }
}
@media (max-width:420px) {
  .watch-right { width:100%; justify-self:stretch; }
}